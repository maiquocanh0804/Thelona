{"version":3,"sources":["util/fetchApi.js","images/Fashion-removebg-preview.png","images/slider1.jpg","images/slider2.jpg","images/slider3.jpg","contain/getPriceVND.js","elements/PreviewImmage.js","elements/product.js","elements/spinner.js","page/client/Home.js","util/menuProduct.js","page/client/MenuProduct.js","redux/reducer/product.reducer.js","contain/updateQuanityCart.js","page/client/ProductDetails.js","page/client/CategoryProduct.js","page/admin/LoginAdmin.js","images/lo-go.png","images/morning.png","images/afternoon.png","page/admin/HomeAdmin.js","images/evening.png","elements/SearchFilter.js","page/admin/Invoices.js","page/admin/Inventory.js","page/admin/AccountManger.js","page/admin/SaleManager.js","page/admin/BillDetails.js","page/admin/AddInventory.js","contain/uploadImageDescriprption.js","page/admin/ManageProduct.js","page/admin/AddProduct.js","page/admin/ManageCategory.js","page/admin/ManageProductType.js","page/admin/NotifyAddProductSucess.js","page/admin/ViewReview.js","redux/reducer/layout.reducer.js","page/admin/Admin.js","redux/reducer/user.reducer.js","util/getUser.js","page/client/Register.js","page/client/Account.js","page/client/Cart.js","images/banking.png","images/svg/cod.svg","images/svg/momo.svg","images/svg/other.svg","images/svg/vnpay_new.svg","images/svg/zalopay.svg","images/svg/PayPal.svg","page/client/Payment.js","page/client/BillFollow.js","elements/menuAccount.js","elements/ModalReviewProduct.js","page/client/BillDetails.js","elements/dropDownCart.js","page/client/ProductSale.js","page/client/Profile.js","page/client/SearchView.js","page/client/FullProduct.js","elements/FooterWeb.js","page/ChatbotAI.js","page/App.js","redux/store.js","index.js"],"names":["getAPI","url","a","fetch","then","response","json","responseJson","catch","err","console","log","res","postDataAPI","data","method","headers","body","JSON","stringify","getPriceVND","giatri","parts","toString","split","replace","join","error","PreviewImmage","props","style","display","flexDirection","alignItems","EyeOutlined","undefined","small","marginLeft","Meta","Card","product","item","image","name","price","id","promotional","s","Math","round","path","pathname","title2","className","to","width","borderRadius","padding","overflow","alt","src","preview","mask","Ribbon","text","color","title","description","fontSize","textDecorationLine","marginRight","Spinner","spinning","size","height","window","screen","Home","useState","itemProductNew","setitemProductNew","itemProductDeal","setitemProductDeal","showContent","setshowContent","pageDeal","setpageDeal","moreDeal","setmoreDeal","location","useLocation","useEffect","getProductNew","getProductDeal","scroll","FetchAPI","concat","msg","ItemProductDeal","map","justifyContent","autoplaySpeed","autoplay","dots","slider1","slider2","paddingBottom","fontWeight","margin","infinite","arrows","speed","slidesToShow","slidesToScroll","initialSlide","responsive","breakpoint","settings","class","rowGap","onClick","type","danger","ghost","getCategoryById","getPrductTypeById","MenuProduct","nameCategory","setnameCategory","idCategory","setidCategory","nameProductType","setnameProductType","dataProduct","setdataProduct","empty","setempty","idProductType","useParams","getMenu","MENU","product_type","category","getDataProduct","length","ItemProduct","marginBottom","paddingTop","Item","productSlice","createSlice","initialState","cart","quanityCart","reducers","updateQuanityProduct","state","action","payload","updateCart","actions","updateCartCurrent","dispatch","localStorage","getItem","obj","parse","d","arrTmp","index","push","key","Option","Select","ProductDetails","buttonLoading","setbuttonLoading","quanity","setquanity","dataOption","setdataOption","option","setoption","outOfStock","setoutOfStock","dataRelate","setdataRelate","imageDecription","setimageDecription","reviewStar","setreviewStar","quanityReview","setquanityReview","idProduct","useDispatch","history","useHistory","getDetailProduct","getOption","getImageDecripton","getName","imageDecription1","imageDecription2","imageDecription3","imageDecription4","filter","e","handleValidation","setTimeout","message","warning","handleOrder","btn","notification","close","dataOut","objDataOut","some","x","findIndex","newQuanity","setItem","i","totalquanity","sold","value","ItemProductRelate","slice","line","backgroundColor","maxWidth","minHeight","PreviewGroup","dataSource","locale","emptyText","renderItem","allowHalf","tooltips","defaultValue","disabled","placeholder","onChange","allowClear","textAlign","min","max","loading","ReactHtmlParser","contentProduct","CategoryProduct","getCategory","Admin","username","setusername","password","setpassword","processLoading","setprocessLoading","Form","useForm","formLogin","document","getElementsByClassName","handleLogin","finish","token","ruler","success","setFieldsValue","innerHeight","xl","xs","bordered","form","onFinish","rules","required","target","maxLength","Password","iconRender","visible","EyeTwoTone","EyeInvisibleOutlined","htmlType","HomeAdmin","thisMonthNumber","setthisMonthNumber","thisDayNumber","setthisDayNumber","totalMonth","settotalMonth","dataChartColumn","setdataChartColumn","dataChartPie","setdataChartPie","Date","getFullYear","thisYear","setthisYear","sessionTime","setsessionTime","logoSessionTime","setlogoSessionTime","refColumn","useRef","refPie","hr","getHours","logomorning","logoafternoon","getFullBill","setValueStatis","monthSum","monthNumber","dayNumber","arrTmpColumn","arrTmpPie","month","setValueChartPie","status","date_order","create_at","date_now","getDate","getMonth","parseInt","total_price","setValueChartColumn","configChartPie","angleField","colorField","radius","label","labelHeight","content","interactions","configChartColumn","xField","yField","position","fill","opacity","meta","alias","ItemCard","md","boxShadow","borderLeft","colorLeft","children","Top","gutter","sm","ChartColumn","current","downloadImage","DownloadOutlined","LeftOutlined","cursor","RightOutlined","onReady","plot","ChartPie","searchText","searchedColumn","getColumnSearchProps","dataIndex","searchInput","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","ref","onPressEnter","handleSearch","icon","SearchOutlined","handleReset","closeDropdown","filterIcon","filtered","onFilter","record","toLowerCase","includes","onFilterDropdownVisibleChange","focus","render","highlightStyle","searchWords","autoEscape","textToHighlight","Invoices","fulldataBill","setfulldataBill","loadingTable","setloadingTable","showModalDeleteBill","setshowModalDeleteBill","dataItemTmp","setdataItemTmp","overflowX","useSelector","layoutReducer","sort","b","hanldeUpdateStatus","code","email","handleDeleteItem","code_order","columns","filters","idUser","address","phone","sorter","DeleteOutlined","showSorterTooltip","onOk","onCancel","cancelText","okText","Inventory","dataInventory","setdataInventory","showModalDeleteInventory","setshowModalDeleteInventory","getFullInventory","update_at","updateQuanity","nameProduct","moment","format","PlusCircleOutlined","pagination","defaultPageSize","AccountManger","dataUser","setdataUser","showModalInforAccount","setshowModalInforAccount","dataInfor","setdataInfor","formInfor","getUser","updateStatusUser","paddingLeft","InfoCircleOutlined","getInforUser","okButtonProps","labelCol","wrapperCol","getFieldValue","RangePicker","DatePicker","SaleManager","dataFullPromotion","setdataFullPromotion","loadingBtn","setloadingBtn","showDrawer","setshowDrawer","showModalDelete","setshowModalDelete","itemTmp","setitemTmp","dataAddSale","setdataAddSale","formAddSale","getFullPromotion","handleEditDate","date_start","_d","expired","handleEditQuanity","handleAddSale","name_event_sale","cost_sale","code_sale","time","handleDeleteSale","used","renderExtraFooter","showTime","placement","getContainer","onClose","span","formatter","parser","offset","BillDetails","dataBill","setdataBill","dataSale","setdataSale","totalTmp","settotalTmp","promotionprice","setpromotionprice","idBill","getProduct","getInforPayment","total","bill","idSale","getSale","name_product","onBack","goBack","subTitle","lg","summary","Summary","Row","Cell","marginTop","direction","method_payment","inforbill","getElementById","shipping","totalBill","saleBill","tableProduct","innerHTML","pri","contentWindow","open","write","outerHTML","print","PrinterOutlined","AddInventory","formAdd","productToAdd","setproductToAdd","getFullProduct","paddingRight","handleAddInventory","initialValues","hasFeedback","showSearch","uploadImageDescriprption","loader","this","file","FormData","append","axios","onUploadProgress","progressEvent","uploadTotal","uploaded","loaded","default","filename","Promise","reject","MyCustomUploadAdapterPlugin","editor","plugins","get","createUploadAdapter","ManageProduct","drawerEdit","setdrawerEdit","itemProductTmp","setitemProductTmp","filterCategory","setfilterCategory","filterProductType","setfilterProductType","formEdit","optionCategory","setoptionCategory","optionFullProductType","setoptionFullProductType","optionProductType","setoptionProductType","showModalDeleteProduct","setshowModalDeleteProduct","imageListUp","setimageListUp","arrTmpCateGory","arrTmpProductType","productType","useLayoutEffect","filterOption","init","posCategory","posProductType","handleEditProduct","handleDeleteProduct","onChangeImage","newFileList","fileList","EditOutlined","rotate","grid","aspect","listType","UploadOutlined","ClassicEditor","config","extraPlugins","event","getData","AddProduct","setname","idcategory","setidcategory","idproduct_type","setidproduct_type","setprice","setpromotional","setimage","setdescription","formadd","handleAddProdcuct","imageUrl","url1","url2","url3","url4","onPreviewImage","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","Image","valuePropName","onPreview","ManageCategory","dataFullCategory","setdataFullCategory","dataFullProduct","setdataFullProduct","showModalAdd","setshowModalAdd","dataAdd","setdataAdd","logoCategory","setlogoCategory","logoTmp","setlogoTmp","handleAddCategory","handleEditCategory","logo","onChangeLogoEdit","footer","ManageProductType","dataFullProductType","setdataFullProductType","getProductType","handleEditProductType","handleAddProductType","NotifyAddProductSucess","extra","ViewReview","dataFullReview","setdataFullReview","getFullReview","imageProduct","comment","layoutSlice","updateOverflowX","Header","Layout","Sider","Content","SubMenu","Menu","collapsed","setcollapsed","widthColl","setwidthColl","updateSize","innerWidth","addEventListener","checkAccountAdmin","removeItem","handleLogout","duration","currentMenuKeyInventory","search","NavMenu","theme","mode","defaultSelectedKeys","BarChartOutlined","DropboxOutlined","DatabaseOutlined","ContainerOutlined","ShopOutlined","UserOutlined","GiftOutlined","StarOutlined","PoweroffOutlined","trigger","collapsible","collapsedWidth","MenuUnfoldOutlined","MenuFoldOutlined","userSlice","currentUser","updateUser","Register","confirmpass","setconfirmpass","setsuccess","checkUserExist","_","Error","handleRegister","refeshAccount","cancel","ResultSccuess","back","scrollToFirstError","validator","Account","setspinning","emailRegister","setemailRegister","continueRegister","setcontinueRegister","handleLoginValidation","checkEmailExist","Cart","dataCart","productReducer","promoprice","setpromoprice","codeSale","setcodeSale","setoverflowX","hanldeEditQuanity","postition","q","handlePayment","handleValidationCodeSale","toUpperCase","handleCodeSale","currentTime","now","timeStart","timeExpired","splice","flex","ArrowLeftOutlined","Payment","setemail","setphone","setaddress","setmessage","setidUser","datauser","userReducer","showUser","setshowUser","methodPayment","setmethodPayment","paymentSucess","setpaymentSucess","sdkReady","setSdkReady","successPaymentHandler","paymentResult","user","handleValidationOrder","handlePaymentMomo","params","amount","TextArea","border","Group","horizontal","cod","tyle","other","imgbanking","vnpay","momo","zalopay","paypal","options","clientId","toFixed","onSuccess","TabPane","Tabs","BillFollow","fullData","setfullData","keyTab","setkeyTab","statusUser","setstatusUser","getBill","TabContent","dataTmp","defaultActiveKey","tabPosition","centered","tab","menuAccount","refreshAccount","ModalReviewProduct","handleAddReview","req","refresh","handleEditReview","idReview","itemLayout","showModalReview","setshowModalReview","showModalCancel","setshowModalCancel","handleCancelBill","dropDownCart","update","ProductSale","totalProduct","settotalProduct","dataShow","setdataShow","page","getProductSale","defaultCurrent","Profile","handleEditProfile","SearchView","datasearch","FullProduct","Footer","FooterWeb","href","FacebookFilled","GoogleCircleFilled","GithubFilled","TwitterCircleFilled","KommunicateChat","m","createElement","async","getElementsByTagName","appendChild","kommunicate","_globals","appId","popupWidget","automaticChatOpenOnNavigation","Search","Input","App","menu","setmenu","top","settop","showModalAccount","setshowModalAccount","isTop","scrollY","animation","updateQuanityCart","checkUser","onSearch","res2","onTitleClick","localmenu","slug","Cartdrop","MenuAccount","elevation","zIndex","background","textTransform","enterButton","overlay","arrow","count","right","ArrowUpOutlined","rootReducer","combineReducers","store","configureStore","reducer","createBrowserHistory","ReactDOM"],"mappings":"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","file":"static/js/main.500dd4d1.chunk.js","sourcesContent":["export const getAPI = async(url)=>{\r\n    const res = await fetch(url)\r\n    .then((response)=>response.json())\r\n    .then((responseJson)=>{\r\n        return responseJson;\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err)\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const postDataAPI = async(url,data)=>{\r\n    const res = await fetch(url,{\r\n        method:'POST',\r\n        headers:{\r\n            'Accept':'application/json',\r\n            'Content-Type' :'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n    .then((response)=>response.json())\r\n    .then((responseJson)=>{\r\n        return responseJson;\r\n    }\r\n    )\r\n    .catch((err)=>{\r\n      console.log(err)\r\n    })\r\n    return res;\r\n}","export default __webpack_public_path__ + \"static/media/Fashion-removebg-preview.a13a95a2.png\";","export default __webpack_public_path__ + \"static/media/slider1.f94d9110.jpg\";","export default __webpack_public_path__ + \"static/media/slider2.2ef10a39.jpg\";","export default __webpack_public_path__ + \"static/media/slider3.0687eaa5.jpg\";","export const getPriceVND = (giatri) => {\r\n    try {\r\n        const parts = giatri.toString().split(\".\");\r\n        parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n        const gia = parts.join(\".\");\r\n        return gia;\r\n    } catch (error) {\r\n        \r\n    }\r\n  \r\n}","import React from 'react';\r\nimport {EyeOutlined} from '@ant-design/icons'\r\n\r\nexport default function PreviewImmage (props){\r\n    return(\r\n        <div style={{ display:'flex',flexDirection:'row',alignItems:'center'}}>\r\n            <EyeOutlined />\r\n            {props.small==undefined &&\r\n                <span style={{ marginLeft:5 }}>Xem chi tiết</span>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Image,Card,Badge  } from 'antd';\r\nimport {getPriceVND} from '../contain/getPriceVND';\r\nimport {Link} from 'react-router-dom';\r\nimport PreviewImmage from './PreviewImmage';\r\nconst { Meta } = Card;\r\nexport default function product(props){\r\n    const {image,name,price,id,promotional} = props.item;\r\n    const s = Math.round((price - promotional)/price*100);\r\n    const path={\r\n        pathname:`/product/${id}`\r\n    }\r\n    const hanldeShowPrice = ()=>{\r\n        if(promotional===null){\r\n            return(\r\n                <span style={{ fontSize:16, color:'#333' }}>{getPriceVND(price)+\" đ\"}</span>\r\n            )\r\n        }else{\r\n            return(\r\n                <div style={{ display:'flex',flexDirection:'row' }}>\r\n                    <span style={{ fontSize:16,textDecorationLine:'line-through', color:'#333',marginRight: '10px' }}>{getPriceVND(price)+\" đ\"}</span>\r\n                    <span style={{ fontSize:16,color:'red' }}>{getPriceVND(promotional)+\" đ\"}</span>\r\n                </div>\r\n            )\r\n        }   \r\n    }\r\n    const title2 = (\r\n        <Link className=\"title-card-product\" to={path}>{name}</Link>\r\n    )\r\n    return(\r\n            <div className=\"itemProduct\" style={props.width!==undefined?{width:props.width}:{borderRadius:4, padding:0}}>\r\n                {/* className=\"itemProduct\"\r\n                // hoverable\r\n                style={props.width!==undefined?{width:props.width}:{width:305,borderRadius:4, padding:0}} */}\r\n                \r\n                <div className='img-product' >\r\n                    {s === 100 ? \r\n                    <div style={{ overflow:\"hidden\"}}>\r\n                        <Image alt=\"example\" src={image} preview={{mask:(<PreviewImmage/>)}}/>\r\n                    </div>\r\n                    :\r\n                    <Badge.Ribbon text={s+\"%\"} color=\"red\">\r\n                        <div style={{ overflow:\"hidden\" }}>\r\n                            <Image style={{ overflow:\"hidden\" }} alt=\"example\" src={image} preview={{mask:(<PreviewImmage/>)}}/>\r\n                        </div>\r\n                    </Badge.Ribbon>\r\n                    }\r\n                </div>\r\n               \r\n            \r\n                \r\n            \r\n                <Meta className='title-card' title={title2} description={hanldeShowPrice()} />\r\n            </div>\r\n       \r\n    )\r\n}","import React from 'react';\r\nimport {Spin} from 'antd';\r\n\r\nexport default function Spinner (props) {\r\n    return(\r\n    <Spin spinning={props.spinning} size=\"large\" >\r\n        <div style={{ width:'100%',height:window.screen.height }}/>\r\n    </Spin>\r\n    )\r\n}","import React ,{useEffect,useState} from 'react';\r\nimport { Carousel,Col,Row,Button  } from 'antd';\r\nimport slider1 from '../../images/slider1.jpg';\r\nimport slider2 from '../../images/slider2.jpg';\r\nimport slider3 from '../../images/slider3.jpg';\r\nimport Product from '../../elements/product';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport { useLocation } from 'react-router-dom';\r\nimport {BulbFilled,FormatPainterFilled,CompassFilled,ToolFilled} from '@ant-design/icons';\r\nimport Slider from \"react-slick\";\r\n\r\nexport default function Home(){\r\n    const [itemProductNew, setitemProductNew] = useState([]);\r\n    const [itemProductDeal, setitemProductDeal] = useState([]);\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [pageDeal, setpageDeal] = useState(1);\r\n    const [moreDeal, setmoreDeal] = useState(true);\r\n    const location = useLocation();\r\n    var settings_carsoule_new = {\r\n        dots: true,\r\n        infinite: true,\r\n        arrows:false,\r\n        speed: 500,\r\n        slidesToShow: 4,\r\n        slidesToScroll: 4,\r\n        initialSlide: 0,\r\n        responsive: [\r\n          {\r\n            breakpoint: 1575,\r\n            settings: {\r\n              slidesToShow: 3,\r\n              slidesToScroll: 3,\r\n              infinite: true,\r\n              dots: true\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 1182,\r\n            settings: {\r\n              slidesToShow: 2,\r\n              slidesToScroll: 2,\r\n              initialSlide: 2\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 802,\r\n            settings: {\r\n              slidesToShow: 1,\r\n              slidesToScroll: 1\r\n            }\r\n          }\r\n        ]\r\n    };\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getProductNew();\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getProductDeal();\r\n    },[pageDeal])\r\n\r\n    useEffect(()=>{\r\n        window.scroll(0,0);\r\n    },[location])\r\n  \r\n    const getProductNew = async()=>{\r\n        const res = await FetchAPI.getAPI(`/product/getProductNew/1`);\r\n        setitemProductNew(res.item);\r\n        setshowContent(true);\r\n    }\r\n    const getProductDeal = async()=>{\r\n        let item = itemProductDeal;\r\n        const res = await FetchAPI.getAPI(`/product/getProductDeal/${pageDeal}`);\r\n        item = item.concat(res.item);\r\n        if(res.msg===\"Out of data\"){\r\n            setmoreDeal(false);\r\n        }\r\n        setitemProductDeal(item);\r\n        setshowContent(true);\r\n    }\r\n    const slide = ()=>(\r\n        <Carousel style={{ overflow:\"hidden\" }} autoplaySpeed={3000} autoplay dots={false}>\r\n            <div >\r\n                <img className=\"imgCarousel\" src={slider1} alt=\"slider1\"  />\r\n            </div>\r\n            <div>\r\n                <img  className=\"imgCarousel\" src={slider2} alt=\"slider2\" />\r\n            </div>\r\n            {/* <div>\r\n                <img  className=\"imgCarousel\" src={slider3} alt=\"slider3\"/>\r\n            </div> */}\r\n        </Carousel>\r\n    )\r\n    const ItemProductDeal = itemProductDeal.map((item)=>{\r\n        return(\r\n            <Col style={{display:'flex', justifyContent:'center' }} >\r\n                <Product\r\n                    item={item}\r\n                />\r\n            </Col>\r\n        )\r\n    })\r\n    return(\r\n       <div >\r\n           {showContent ? \r\n           <div>\r\n           {slide()}\r\n           <div className=\"contentHome\"  >\r\n\r\n                <span className=\"title-list\"  style={{ fontSize:30,paddingBottom:40,fontWeight:'bold', width:'auto', margin:'auto' }}>\r\n                    SẢN PHẨM MỚI \r\n                </span>\r\n                <Slider className=\"slider-item-new\" {...settings_carsoule_new}>\r\n                {itemProductNew.map(item=>(\r\n                    <div class=\"hello\">\r\n                        <Product \r\n                            item={item}\r\n                        />\r\n                    </div>\r\n                ))}\r\n                </Slider>\r\n\r\n                <span className=\"title-list\" style={{ fontSize:30,fontWeight:'bold',padding:\"40px 40px\", width:'auto', margin:'auto' }}>SẢN PHẨM DEAL HOT</span>\r\n                <Row  style={{ width:'71.4%', margin:'auto', justifyContent:'space-around', rowGap: 24}} >\r\n                    {ItemProductDeal}\r\n                </Row>\r\n                {moreDeal &&\r\n                <div style={{ padding:\"20px 0px\",width:\"100%\",justifyContent:'center',display:'flex' }}>\r\n                    <Button className=\"btn-loadmore\" onClick={()=>setpageDeal(pageDeal+1)} type=\"primary\"  danger ghost>\r\n                        Xem thêm...\r\n                    </Button>\r\n                </div>\r\n                }\r\n                \r\n                {/* <span className=\"title-list\" style={{ fontSize:20,paddingBottom:40,fontWeight:'bold' }}>\r\n                    HÃY CHỌN CTFASHION\r\n                </span>\r\n                <Row className=\"reason-choose\">\r\n                    <Col className=\"item\" xl={6} md={12} sm={24}>\r\n                        <div className=\"image\">\r\n                            <div className=\"img style1\">\r\n                                <CompassFilled />\r\n                            </div>\r\n                        </div>\r\n                        <h2>Giao hàng toàn quốc</h2>\r\n                        <span>Giao hàng vô cùng nhanh với chỉ 30.000đ.</span>\r\n                    </Col>\r\n                    <Col className=\"item\" xl={6} md={12} sm={24}>\r\n                        <div className=\"image\">\r\n                            <div className=\"img style2\">\r\n                                <FormatPainterFilled />\r\n                            </div>\r\n                        </div>\r\n                        <h2>Sản phẩm đa dạng</h2>\r\n                        <span>Áo, quần, phụ kiện các loại luôn chờ đón bạn.</span>\r\n                    </Col>\r\n                    <Col className=\"item\" xl={6}  md={12} sm={24}>\r\n                        <div className=\"image\">\r\n                            <div className=\"img style3\">\r\n                                <BulbFilled />\r\n                            </div>\r\n                        </div>\r\n                        <h2>Tiện ích</h2>\r\n                        <span>Bạn có thể theo dõi đơn hàng của mình mọi lúc.</span>\r\n                    </Col>\r\n                    <Col className=\"item\" xl={6}  md={12} sm={24}>\r\n                        <div className=\"image\">\r\n                            <div className=\"img style4\">\r\n                                <ToolFilled />\r\n                            </div>\r\n                        </div>\r\n                        <h2>Hỗ trợ mua hàng trên nhiều nền tảng</h2>\r\n                        <span>Chúng tôi có website, ứng dụng di động để bạn có thể dễ dàng kết nối.</span>\r\n                    </Col>\r\n                </Row> */}\r\n           </div>\r\n           </div>\r\n           :\r\n           <Spinner spinning={!showContent}/>\r\n            }\r\n       </div>\r\n    )\r\n}","import * as FetchAPI from './fetchApi';\r\n\r\nexport const getCategoryById = async(data)=>{\r\n    const res = await FetchAPI.postDataAPI(\"/product/getCategoryById\",data);\r\n    return res[0];\r\n}\r\n\r\nexport const getPrductTypeById = async(data)=>{\r\n    const res = await FetchAPI.postDataAPI(\"/product/getPrductTypeById\",data);\r\n    return res[0];\r\n}","import React ,{useEffect,useState} from 'react';\r\nimport {Breadcrumb,Col,Row,Empty} from 'antd';\r\nimport * as MENU from '../../util/menuProduct';\r\nimport {Link,useLocation,useParams} from 'react-router-dom';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Product from '../../elements/product';\r\nimport Spinner from '../../elements/spinner';\r\nexport default function MenuProduct(){\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [nameCategory, setnameCategory] = useState(\"\");\r\n    const [idCategory, setidCategory] = useState();\r\n    const [nameProductType, setnameProductType] = useState(\"\");\r\n    const [dataProduct, setdataProduct] = useState([]);\r\n    const [empty, setempty] = useState(false);\r\n    const {idProductType} = useParams();\r\n    const location = useLocation();\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        const getMenu = async()=>{\r\n            try {\r\n                const product_type = await MENU.getPrductTypeById({\"id\":idProductType});\r\n                setnameProductType(product_type.name)\r\n                setidCategory(product_type.idCategory)\r\n                const category = await MENU.getCategoryById({\"id\":product_type.idCategory});\r\n                setnameCategory(category.name);\r\n                getDataProduct(idProductType);\r\n            } catch (error) { \r\n            }\r\n        }\r\n        getMenu()\r\n       \r\n    },[location])\r\n  \r\n    const getDataProduct = async(id)=>{\r\n        const data = {\"id\":id};\r\n        const product = await FetchAPI.postDataAPI('/product/getProductByType',data);\r\n        setdataProduct(product);\r\n        if(product.length===0){\r\n            setempty(true)\r\n        }else{\r\n            setempty(false)\r\n        }\r\n        setshowContent(true);\r\n    }\r\n    const Direction = ()=>(\r\n        <Breadcrumb style={{ fontSize:18,paddingBottom:20 }}>\r\n            <Breadcrumb.Item>\r\n                <Link to={\"/home\"}>Trang chủ</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>\r\n                <Link to={`/category/${idCategory}`}>{nameCategory}</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>\r\n               {nameProductType}\r\n            </Breadcrumb.Item>\r\n        </Breadcrumb>\r\n    )\r\n    const ItemProduct = dataProduct.map((item)=>{\r\n        return(\r\n            <div style={{ padding:'0 15px', marginBottom:12 }} >\r\n                <Product\r\n                    item={item}\r\n                />\r\n            </div>\r\n        )\r\n    })\r\n    return(\r\n        <div className=\"wrapper-menu-product\">\r\n        {showContent ?\r\n        <div>\r\n            <div style={{display:'flex',flexDirection:'column',justifyContent:'center', paddingTop:'60px' }}>\r\n            <span className=\"title-list\"  style={{ fontSize:30,paddingBottom:20,fontWeight:'bold', width:'auto', margin:'auto' }}>\r\n                    {nameProductType}\r\n                </span>\r\n                {Direction()}\r\n            </div>\r\n            {empty ? \r\n                <Empty className=\"empty\" description=\"Không có sản phẩm\"  />\r\n                :\r\n                <div>\r\n                    <Row   >\r\n                    {ItemProduct}\r\n                    </Row>\r\n                </div>\r\n            }\r\n            </div> \r\n          :\r\n            <Spinner spinning={!showContent}/>\r\n        }\r\n\r\n        </div>\r\n    )\r\n}","import {createSlice} from '@reduxjs/toolkit';\r\n\r\nconst productSlice = createSlice({\r\n    name: 'product',\r\n    initialState:{\r\n        cart:{},\r\n        quanityCart:{}\r\n    },\r\n    reducers:{\r\n        updateQuanityProduct: (state,action) =>{\r\n            state.quanityCart = action.payload;\r\n        },\r\n        updateCart :(state,action) =>{\r\n            state.cart = action.payload;\r\n        }\r\n    }\r\n})\r\n\r\nexport const {updateQuanityProduct,updateCart} = productSlice.actions;\r\n\r\nexport default productSlice.reducer;","import {updateQuanityProduct,updateCart} from '../redux/reducer/product.reducer';\r\nimport * as FetchAPI from '../util/fetchApi';\r\nexport const updateCartCurrent = async(dispatch)=>{\r\n    const data = localStorage.getItem(\"cart\")\r\n    // localStorage.removeItem(\"cart\");\r\n    console.log(data)\r\n    if(data===null||data===undefined){\r\n        dispatch(updateQuanityProduct(0))\r\n        dispatch(updateCart({}));\r\n    }else{\r\n        const obj = JSON.parse(data);\r\n        dispatch(updateQuanityProduct(obj.length));\r\n        const d = {\"data\":localStorage.getItem(\"cart\")};\r\n        const res = await FetchAPI.postDataAPI(\"/order/getProductByCart\",d);\r\n        let arrTmp = [];\r\n        res.map((item,index)=>{\r\n            arrTmp.push({key:index,...item})\r\n        })\r\n        dispatch(updateCart(arrTmp));\r\n    }\r\n}","import React,{useState,useEffect} from 'react';\r\nimport {Image,Row,Col,Breadcrumb,Rate,InputNumber,Select ,Button,Spin,message,List,notification} from 'antd';   \r\nimport *as FetchAPI from '../../util/fetchApi';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport {Link,useLocation,useHistory,useParams} from 'react-router-dom';\r\nimport * as MENU from '../../util/menuProduct';\r\nimport Product from '../../elements/product';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateCartCurrent } from '../../contain/updateQuanityCart';\r\nimport PreviewImmage from '../../elements/PreviewImmage';\r\nimport ReactHtmlParser from 'react-html-parser';\r\n\r\n\r\nconst { Option } = Select;\r\nexport default function ProductDetails(){\r\n    const [dataProduct, setdataProduct] = useState();\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [buttonLoading, setbuttonLoading] = useState(false);\r\n    const [nameCategory, setnameCategory] = useState(\"\");\r\n    const [nameProductType, setnameProductType] = useState(\"\");\r\n    const [quanity, setquanity] = useState(1);\r\n    const [dataOption, setdataOption] = useState();\r\n    const [option, setoption] = useState();\r\n    const [outOfStock, setoutOfStock] = useState(false);\r\n    const [dataRelate, setdataRelate] = useState([]);\r\n    const [imageDecription, setimageDecription] = useState();\r\n    const [reviewStar, setreviewStar] = useState(5);\r\n    const [quanityReview, setquanityReview] = useState(0);\r\n    const {idProduct} = useParams();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    useEffect(() => {    \r\n        window.scroll(0,0);\r\n        const getDetailProduct = async()=>{\r\n            try {\r\n                setshowContent(false);\r\n                setquanity(1);\r\n                getOption(idProduct);\r\n                const data = {\r\n                    \"id\":idProduct\r\n                }\r\n                const res = await FetchAPI.postDataAPI(\"/product/getProductDetails\",data);\r\n                console.log(res)\r\n                if(res[0].reviewStar!==null){\r\n                    setreviewStar(res[0].reviewStar);\r\n                    setquanityReview(res[0].quanityReview);\r\n                }\r\n                getImageDecripton(res[0]);\r\n                setdataProduct(res[0]);\r\n                getName(res[0]);\r\n                \r\n            } catch (error) {\r\n            }\r\n        }\r\n        getDetailProduct();\r\n    }, [location])\r\n    const getImageDecripton = (data)=>{\r\n        let item = [];\r\n        if(data.imageDecription1!==null){\r\n            item.push(data.imageDecription1)\r\n        }\r\n        if(data.imageDecription2!==null){\r\n            item.push(data.imageDecription2)\r\n        }\r\n        if(data.imageDecription3!==null){\r\n            item.push(data.imageDecription3)\r\n        }\r\n        if(data.imageDecription4!==null){\r\n            item.push(data.imageDecription4)\r\n        }\r\n        setimageDecription(item)\r\n    }\r\n    const getName = async(data)=>{\r\n        const res = await FetchAPI.postDataAPI(\"/product/getProductByType\",{\"id\":data.idProductType});\r\n        setdataRelate(res.filter(e=>e.id!==data.id)); \r\n        const category = await MENU.getCategoryById({\"id\":data.idCategory});\r\n        const product_type = await MENU.getPrductTypeById({\"id\":data.idProductType});\r\n        setnameCategory(category.name);\r\n        setnameProductType(product_type.name);\r\n        setshowContent(true);\r\n    }\r\n    const handleValidation = ()=>{\r\n        setbuttonLoading(true);\r\n        setTimeout(()=>{\r\n            if(option==null){\r\n                message.warning('Hãy chọn kích cỡ, màu sắc để đặt hàng');\r\n                setbuttonLoading(false);\r\n            }else if(quanity ===null){\r\n                message.warning('Vui lòng chọn số lượng !');\r\n                setbuttonLoading(false)\r\n            }\r\n            else if(option[1]<quanity){\r\n                message.warning('Mẫu này số lượng chỉ còn '+option[1]+' sản phẩm, quý khách vui lòng thông cảm !');\r\n                setbuttonLoading(false);\r\n            }else{\r\n                handleOrder();\r\n            }\r\n        },1000)\r\n    }\r\n    const btn = (\r\n        <Button type=\"primary\" onClick={()=>{history.push('/cart');notification.close(\"notifysuccess\")}}>\r\n            Đi ngay\r\n        </Button>\r\n    )\r\n    const handleOrder = ()=>{\r\n        const dataOut = localStorage.getItem(\"cart\");\r\n        let objDataOut = JSON.parse(dataOut);\r\n        if(objDataOut===null||dataOut===undefined){\r\n            const data = [{\"id\":dataProduct.id,\"quanity\":quanity,\"option\":option[0]}];\r\n            objDataOut = data\r\n        }\r\n        else{\r\n            //Check product and option in cart\r\n            let police = objDataOut.some(x => x.id===dataProduct.id && x.option===option[0]);\r\n            if(police){\r\n                //find postition\r\n                let index = objDataOut.findIndex(x=> x.id===dataProduct.id && x.option===option[0]);\r\n                //setNewQuanity\r\n                let newQuanity = objDataOut[index].quanity+quanity;\r\n                if(newQuanity>option[1]){\r\n                    message.warning('Sản phẩm chỉ còn '+option[1]+\", vui lòng chọn kiểm tra lại\");\r\n                    setbuttonLoading(false);\r\n                    return;\r\n                }else{\r\n                    //setNewQuanity\r\n                    objDataOut[index].quanity = newQuanity;\r\n                }\r\n            }else{\r\n                const data = {\"id\":dataProduct.id,\"quanity\":quanity,\"option\":option[0]};\r\n                objDataOut.push(data);\r\n            }\r\n        }\r\n        localStorage.setItem(\"cart\",JSON.stringify(objDataOut));\r\n        setTimeout(()=>{\r\n            setbuttonLoading(false);\r\n            updateCartCurrent(dispatch);\r\n            notification[\"success\"]({\r\n                message: 'Đặt hàng thành công',\r\n                description:\r\n                  'Bạn có muốn chuyển đến giỏ hàng ngay bây giờ.',\r\n                btn,\r\n                key: \"notifysuccess\"\r\n            });\r\n        },1000)\r\n    }\r\n    const getOption = async(id)=>{\r\n        let i = [];\r\n        const data = {\"id\":id};\r\n        const res = await FetchAPI.postDataAPI('/product/getProductInventory',data);\r\n        if(res.length===0){\r\n            setoutOfStock(true);\r\n        }else{\r\n            let totalquanity = 0;\r\n            res.map((e)=>[\r\n                totalquanity+=(e.quanity-e.sold)\r\n            ])\r\n            if(totalquanity===0){\r\n                setoutOfStock(true)\r\n            }else{\r\n                setoutOfStock(false);\r\n            }\r\n        }\r\n        res.map((item)=>{\r\n            if(item.quanity-item.sold!==0){\r\n                i.push(\r\n                    <Option value={[item.size,item.quanity-item.sold]}>\r\n                        {item.size +\" - \"}<span style={{ color:'gray' }}>{item.quanity-item.sold}</span>\r\n                    </Option>\r\n                )\r\n            }\r\n\r\n        })\r\n        setdataOption(i);\r\n    }\r\n    const ItemProductRelate = dataRelate\r\n    .slice(0, 5) // Chọn 5 sản phẩm đầu tiên\r\n    .map((item) => (\r\n      <Col style={{ display: 'flex', justifyContent: 'center', padding: '10px 10px' }}>\r\n        <Product width={200} item={item} />\r\n      </Col>\r\n    ));\r\n\r\n    \r\n    const line = ()=>(\r\n        <div style={{ backgroundColor:'#dfe0e1',height:1,margin:'10px 0' }}/>\r\n    )\r\n    const ProductInformation = ()=>(\r\n        <div style={{ display:'flex',flexDirection:'column' }}>\r\n            <span style={{ fontSize:20,fontWeight:'700', color:'#414042' }}>{dataProduct.name}</span>  \r\n            <span style={{color:'#a3a5a7'}}><span style={{ fontWeight:'bold' }}>Mã SP : </span>{dataProduct.id}</span>\r\n            <div> \r\n                <Rate allowHalf style={{ color:\"orange\"}} tooltips=\"12345\" defaultValue={reviewStar} disabled/>\r\n                <span style={{ marginLeft:10 }}>{`(${quanityReview} đánh giá)`}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n    const contentProduct = ()=>(\r\n        <div style={{ display:'flex',flexDirection:'column' }}>\r\n            {ProductInformation()}\r\n            {line()}\r\n            {dataProduct.promotional===null ?\r\n                <span style={{ fontSize:18, fontWeight:'bold', color:'#414042' }}>Giá: {getPriceVND(dataProduct.price)+\" đ\"}</span>\r\n                :\r\n                <div style={{ display:'flex',flexDirection:'column' }}>\r\n                    <span style={{ fontSize:18, fontWeight:'bold',textDecorationLine:'line-through', color:'#414042' }}>\r\n                        Giá gốc: {getPriceVND(dataProduct.price)+\" đ\"}\r\n                    </span>\r\n                    <span style={{ fontSize:18, fontWeight:'bold',color:'red',fontWeight:'bold', color:'#414042' }}>\r\n                        Giá: {getPriceVND(dataProduct.promotional)+\" đ\"}\r\n                    </span>\r\n                </div>\r\n            }\r\n            {line()}\r\n\r\n            <div style={{ display:'flex',justifyContent:'space-between',flexDirection:'row',alignItems:'center',margin:'10px 0' }}>\r\n                <span style={{ fontSize:14, fontWeight:'bold' }}>Tùy chọn : </span>\r\n                <div style={{ padding:\"0px 10px\"}}> \r\n                  <Select style={{ width: 120 }} placeholder=\"Chọn Size, Màu\" onChange={(e)=>setoption(e)} allowClear>\r\n                        {dataOption}\r\n                  </Select>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ display:'flex',justifyContent:'space-between',flexDirection:'row',alignItems:'center',margin:'10px 0' }}>\r\n                <span style={{ fontSize:14, fontWeight:'bold' }}>Số lượng : </span>\r\n                <div style={{ padding:\"0px 10px\"}}> \r\n                    <InputNumber  \r\n                        style={{ textAlign:'center' }} \r\n                        min={1} \r\n                        max={10}\r\n                        value={quanity}\r\n                        onChange = {(e)=>{setquanity(e)}}\r\n                    /> \r\n                </div>\r\n            </div>\r\n\r\n            {line()}\r\n            <div style={{ paddingTop:15 }}>\r\n                <Button \r\n                    type=\"primary\" \r\n                    danger \r\n                    style={{ width:'100%',height:52,borderRadius:4}} \r\n                    onClick={handleValidation}\r\n                    disabled={outOfStock}\r\n                    loading={buttonLoading}\r\n                >\r\n                    {outOfStock ? \r\n                        <span style={{ fontWeight:'bold' }}>HẾT HÀNG</span>\r\n                    :\r\n                        <span style={{ fontWeight:'bold' }}>THÊM VÀO GIỎ HÀNG</span>\r\n                    }\r\n                </Button>\r\n                <div style={{ paddingTop:50 }}> \r\n                    {dataProduct.description!==null &&\r\n                    <span style={{ fontSize:16}}> <h4>THÔNG TIN SẢN PHẨM</h4> </span>\r\n                    }\r\n                    <span style={{ fontSize:16}}>{ReactHtmlParser(dataProduct.description)}</span>\r\n                </div>\r\n            </div>\r\n           \r\n        </div> \r\n    )\r\n    const Direction = ()=>(\r\n        <Breadcrumb style={{ fontSize:13 }}>\r\n            <Breadcrumb.Item>\r\n                <Link to={\"/home\"}>TRANG CHỦ</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>\r\n                <Link to={`/category/${dataProduct.idCategory}`}>{nameCategory}</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>\r\n                <Link to={`/menuproduct/${dataProduct.idProductType}`}>{nameProductType}</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item style={{fontWeight:'bold'}}>{dataProduct.name}</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n    )\r\n    const itemImageDecription = (item)=>(\r\n        <div style={{ padding:10, width:'50%'}}>\r\n        <Image src={item} preview={{mask:(<PreviewImmage small={true}/>)}}/>\r\n        </div>\r\n    )\r\n    return(\r\n        <div style={{ maxWidth:1170, margin: 'auto' }}>\r\n            {showContent ?\r\n            <div style={{ minHeight:800 }}>\r\n            <div className='navigation-product'>\r\n                {Direction()}\r\n            </div>       \r\n            <Row  /*gutter={{ xs: 8, sm: 16, md: 24, lg: 30 }}*/>\r\n                <div className='full-imgproduct'>\r\n               <Col \r\n               className='img-listproduct'\r\n                >\r\n                    {/* <div>\r\n                        <Image src={dataProduct.image} width={350} preview={{mask:(<PreviewImmage />)}}/>    \r\n                    </div> */}\r\n                        <Image.PreviewGroup>\r\n                            <List\r\n                           \r\n                                className='List-imgpreview'\r\n                                // grid={{ gutter: 16, column: 4 }}\r\n                                dataSource={imageDecription}\r\n                                locale={{ emptyText:'Không có ảnh sản phẩm' }}\r\n                                renderItem={itemImageDecription}\r\n                            />\r\n                        </Image.PreviewGroup>\r\n               </Col>\r\n               <Col className='content-product'>\r\n                    {contentProduct()}\r\n               </Col>\r\n               </div>\r\n               <Col className=\"productRelate\" style={{ width:'100%' }}>\r\n                   <span style={{ fontSize:30,paddingBottom:20,fontWeight:'bold', width:'auto', margin:'auto' }}>GỢI Ý CHO BẠN</span>\r\n                   <Row style={{justifyContent:'space-between'}}>\r\n                        {ItemProductRelate}\r\n                   </Row>\r\n               </Col>\r\n            </Row>\r\n            </div>\r\n            :\r\n            <div style={{ width:'100%',height:500 }}>\r\n                <Spin spinning={!showContent} size=\"large\">\r\n                    <div style={{ width:'100%',height:500 }}/>\r\n                </Spin>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React ,{useEffect,useState} from 'react';\r\nimport * as MENU from '../../util/menuProduct';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {useLocation,Link,useParams} from 'react-router-dom';\r\nimport {Row,Col,Empty,Breadcrumb} from 'antd';\r\nimport Product from '../../elements/product';\r\nimport Spinner from '../../elements/spinner';\r\nexport default function CategoryProduct(){\r\n    const [dataProduct, setdataProduct] = useState([]);\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [nameCategory, setnameCategory] = useState(\"\");\r\n    const [empty, setempty] = useState(false);\r\n    const {id} = useParams();\r\n    const location = useLocation();\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getCategory();\r\n    },[location])\r\n    const getCategory = async()=>{\r\n        // const idCategory = window.location.hash.substring(1);\r\n        const category = await MENU.getCategoryById({\"id\":id});\r\n        setnameCategory(category.name);\r\n        const data = {\"id\":category.id}\r\n        const product = await FetchAPI.postDataAPI('/product/getProductByCategory',data);\r\n        if(product.length===0){\r\n            setempty(true)\r\n        }else{\r\n            setempty(false)\r\n        }\r\n        setdataProduct(product);\r\n        setshowContent(true);\r\n    }\r\n    const ItemProduct = dataProduct.map((item)=>{\r\n        return(\r\n            <div style={{ padding:'0 15px', marginBottom:12 }} >\r\n                <Product\r\n                    item={item}\r\n                />\r\n            </div>\r\n        )\r\n    })\r\n    const Direction = ()=>(\r\n        <Breadcrumb style={{ fontSize:18,paddingBottom:20 }}>\r\n            <Breadcrumb.Item>\r\n                <Link to={\"/home\"}>Trang chủ</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>\r\n               {nameCategory}\r\n            </Breadcrumb.Item>\r\n        </Breadcrumb>\r\n    )\r\n    return(\r\n        <div className=\"wrapper-category-product\">\r\n        \r\n            {showContent ?\r\n             \r\n                <div>\r\n                    <div style={{display:'flex',flexDirection:'column',justifyContent:'center', paddingTop:'60px' }}>\r\n                    <span className=\"title-list\"  style={{ fontSize:30,paddingBottom:20,fontWeight:'bold', width:'auto', margin:'auto' }}>\r\n                    {nameCategory}\r\n                </span>\r\n                        {Direction()}\r\n                    </div>\r\n                {empty ?\r\n                    <Empty className=\"empty\" description=\"Không có sản phẩm\"  />\r\n                    :\r\n                    <div>\r\n                        <Row style={{rowGap: 24}}>\r\n                            {ItemProduct}\r\n                        </Row>\r\n                    </div>\r\n                }\r\n                </div>\r\n                :\r\n                <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React,{useEffect,useState} from 'react';\r\nimport {Card,Form,Input,Button,Col,message} from 'antd';\r\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport { useHistory } from 'react-router-dom';\r\nexport default function Admin(){\r\n    const [username, setusername] = useState();\r\n    const [password, setpassword] = useState();\r\n    const [processLoading, setprocessLoading] = useState(false);\r\n    const [formLogin] = Form.useForm();\r\n    const history = useHistory();\r\n    useEffect(()=>{\r\n        document.getElementsByClassName(\"header-nav\")[0].style.display = 'none';\r\n        document.getElementsByClassName(\"footer\")[0].style.display = 'none';\r\n        // document.getElementsByClassName(\"sc-bqiRlB bHmrDE rsc-float-button\")[0].style.display = 'none';\r\n    },[])\r\n    const handleLogin = async() =>{\r\n        setprocessLoading(true);\r\n        const data = {\"username\":username,\"password\":password};\r\n        const res = await FetchAPI.postDataAPI(\"/user/login\",data);\r\n        console.log(res);\r\n      \r\n        if(res.msg===\"Invalid account\"){\r\n            message.error(\"Tên tài khoản không tồn tại\");\r\n            setprocessLoading(false);\r\n        }else if(res.msg ===\"Incorrect password\"){\r\n            message.error(\"Mật khẩu không đúng\");\r\n            setprocessLoading(false);\r\n        }else if(res.msg===\"Success\"){\r\n            finish(res.token);\r\n        }\r\n       \r\n    }\r\n    const finish = async(token)=>{\r\n        const data = {\"token\":token};\r\n        const res = await FetchAPI.postDataAPI(\"/user/getUser\",data);\r\n        if(res[0].ruler===1){\r\n            message.success(\"Đăng nhập quản lý thành công !\");\r\n            formLogin.setFieldsValue({username:\"\",password:\"\"})\r\n            setusername(\"\");\r\n            setpassword(\"\");\r\n            localStorage.setItem(\"token_admin\",token);\r\n            history.push('/admin');\r\n            setprocessLoading(false);\r\n        }else{\r\n            message.error(\"Vui lòng đăng nhập với tài khoản quản lý !!!\");\r\n            setprocessLoading(false);\r\n        }\r\n       \r\n    }\r\n    const Login = ()=>(\r\n        <Form form={formLogin} onFinish={handleLogin} >\r\n        <p style={{ fontSize:16,fontWeight:'bold' }}>Tên đăng nhập *</p>\r\n        <Form.Item\r\n                name=\"username\"\r\n                rules={[{ required: true, message: 'Vui lòng nhập tên tài khoản!' }]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập tên tài khoản\"\r\n                    value={username}\r\n                    defaultValue={username}\r\n                    onChange= {(e)=>setusername(e.target.value)}\r\n                    maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <p style={{ fontSize:16,fontWeight:'bold' }}>Mật khẩu *</p>\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[\r\n                    { required: true, message: 'Vui lòng nhập mật khẩu!' },\r\n                    {min:3,message:'Mật khẩu ít nhất 3 ký tự'}\r\n                ]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input.Password\r\n                    placeholder=\"Nhập mật khẩu\"\r\n                    value={password}\r\n                    defaultValue={password}\r\n                    onChange= {(e)=>setpassword(e.target.value)}\r\n                    iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                    maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item style={{ padding:\"10px 0px\" }} >\r\n                <Button htmlType=\"submit\" type=\"primary\" danger style={{ height:45,borderRadius:8 }} loading={processLoading}>\r\n                    Đăng nhập\r\n                </Button>\r\n            </Form.Item>\r\n            </Form>\r\n    )\r\n    return(\r\n        <div \r\n            style={{ minHeight:window.innerHeight,justifyContent:'center',alignItems:'center',display:'flex' }}\r\n        >\r\n        <Col xl={12} xs={24} style={{ justifyContent:'center',display:'flex' }}>\r\n        <Card style={{ width:'80%',borderRadius:10 }} title=\"Đăng nhập quản lý\" bordered>\r\n            {Login()}\r\n        </Card>\r\n        </Col>    \r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/lo-go.f553156c.png\";","export default __webpack_public_path__ + \"static/media/morning.3bbc4d91.png\";","export default __webpack_public_path__ + \"static/media/afternoon.7620f0ed.png\";","import React,{useEffect,useState,useRef} from 'react';\r\nimport {Card,Row,Col,Button,Image} from 'antd';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport {Column,Pie} from '@ant-design/charts';\r\nimport {DownloadOutlined} from '@ant-design/icons';\r\nimport logomorning from '../../images/morning.png';\r\nimport logoafternoon from '../../images/afternoon.png';\r\nimport logoevening from '../../images/evening.png';\r\nimport {LeftOutlined,RightOutlined} from '@ant-design/icons'\r\nexport default function HomeAdmin(){\r\n    const [thisMonthNumber, setthisMonthNumber] = useState(0);\r\n    const [thisDayNumber, setthisDayNumber] = useState(0);\r\n    const [totalMonth, settotalMonth] = useState(0);\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [dataChartColumn, setdataChartColumn] = useState([]);\r\n    const [dataChartPie, setdataChartPie] = useState();\r\n    const [thisYear, setthisYear] = useState(new Date().getFullYear());\r\n    const [sessionTime, setsessionTime] = useState();\r\n    const [logoSessionTime, setlogoSessionTime] = useState();\r\n    const refColumn = useRef();\r\n    const refPie = useRef();\r\n    \r\n    useEffect(()=>{\r\n        let data = [ \r\n            [0, 11, \"Chào buổi sáng !\"], \r\n            [12, 17, \"Chào buổi chiều !\"],   \r\n            [18, 24, \"Chào buổi tối !\"],    \r\n        ]\r\n        let hr = new Date().getHours();\r\n        for(var i = 0; i < data.length; i++){\r\n            if(hr >= data[i][0] && hr <= data[i][1]){\r\n                setsessionTime(data[i][2]);\r\n                if(i===0){\r\n                    setlogoSessionTime(logomorning)\r\n                }else if(i===1){\r\n                    setlogoSessionTime(logoafternoon)\r\n                }else{\r\n                    setlogoSessionTime(logoevening)\r\n                }\r\n            }\r\n        }\r\n    },[])\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getFullBill()\r\n    },[thisYear])\r\n\r\n    const getFullBill = async()=>{\r\n        const res = await FetchAPI.getAPI(\"/order/getFullBill\");\r\n        if(res!==undefined){\r\n            setValueStatis(res)\r\n        }\r\n    }\r\n    const setValueStatis = (res)=>{\r\n        let monthSum = 0;\r\n        let monthNumber = 0;\r\n        let dayNumber = 0;\r\n        const arrTmpColumn = [];\r\n        const arrTmpPie = [{type:\"Đang xử lý\",value:0},{type:\"Đang giao hàng\",value:0},\r\n                            {type:\"Đã hoàn thành\",value:0},{type:\"Đã hủy\",value:0}]                  \r\n        for(let i=0;i<12;i++){\r\n            arrTmpColumn.push({month:`Tháng ${i+1}`,value:0})\r\n        }\r\n        res.map((item,index)=>{\r\n            setValueChartPie(arrTmpPie,item);\r\n            if(item.status!==3){\r\n                const date_order = new Date(item.create_at);\r\n                const date_now = new Date();\r\n                if(date_order.getDate()===date_now.getDate()){\r\n                    if(date_order.getMonth()===date_now.getMonth()){\r\n                        if(date_order.getFullYear()===date_now.getFullYear()){\r\n                            dayNumber++;\r\n                        }\r\n                    }\r\n                }\r\n                if(date_order.getMonth()===date_now.getMonth()){\r\n                    if(date_order.getFullYear()===date_now.getFullYear()){\r\n                        monthNumber++;\r\n                        monthSum += parseInt(item.total_price);\r\n                    }\r\n                }\r\n                setValueChartColumn(arrTmpColumn,date_order);\r\n            }\r\n            if(index===res.length-1){\r\n                settotalMonth(monthSum);\r\n                setthisMonthNumber(monthNumber);\r\n                setthisDayNumber(dayNumber);\r\n                setshowContent(true)\r\n            }\r\n        })\r\n    }\r\n    const setValueChartColumn = (arrTmp,date_order)=>{\r\n        if(date_order.getFullYear()===thisYear){\r\n            arrTmp.map((e)=>{\r\n                if(`Tháng ${date_order.getMonth()+1}`===e.month){\r\n                    e.value++;\r\n                }\r\n            })\r\n        }\r\n        setdataChartColumn(arrTmp);\r\n    }\r\n    const setValueChartPie = (arrTmp,item)=>{\r\n        if(item.status===0){\r\n            arrTmp[0].value++;\r\n        }else if(item.status===1){\r\n            arrTmp[1].value++;\r\n        }else if(item.status===2){\r\n            arrTmp[2].value++;\r\n        }else{\r\n            arrTmp[3].value++;\r\n        }\r\n        setdataChartPie(arrTmp)\r\n    }\r\n    const configChartPie = {\r\n        data:dataChartPie,\r\n        angleField:'value',\r\n        colorField: 'type',\r\n        radius: 0.75,\r\n        label: {\r\n            type: 'spider',\r\n            labelHeight: 28,\r\n            content: '\\n{percentage}',\r\n        },\r\n        interactions: [{ type: 'element-selected' }, { type: 'element-active' }],\r\n    }\r\n    const configChartColumn = {\r\n        data: dataChartColumn,\r\n        xField: 'month',\r\n        yField: 'value',\r\n        label: {\r\n            position: 'middle',\r\n            style: {\r\n            fill: '#FFFFFF',\r\n            opacity: 0.6,\r\n            },  \r\n        },\r\n        meta: {\r\n          month: { alias: 'Tháng' },\r\n          value: { alias: 'Số đơn' },\r\n        },\r\n       \r\n    };\r\n    const ItemCard = (props)=>{\r\n        return(\r\n            <Col xl={6} md={12} xs={24}>\r\n            <Card \r\n                title={props.title} \r\n                style={{ \r\n                    boxShadow:'2px 0px 30px #00000026',\r\n                    borderRadius:5,\r\n                    borderLeft:`5px solid ${props.colorLeft}` \r\n                }}\r\n            >\r\n                {props.children}\r\n            </Card>\r\n            </Col>\r\n        )\r\n    }\r\n    const Top = (\r\n        <Row gutter={[{ xl:30,md:30 },{md:20,sm:20,xs:20}]}>\r\n            <Col xl={6} md={12} xs={24}>\r\n                <div style={{ display:'flex',flexDirection:'column' }}>\r\n                    <div style={{ marginBottom:10,display:'flex',alignItems:'center' }}>\r\n                        <span style={{ fontWeight:'bold',fontSize:18,marginRight:10 }}>{`${sessionTime}`}</span>\r\n                        <Image src={logoSessionTime} width={80} preview={false}/> \r\n                    </div>\r\n                    <span>Đây là phần tổng quan thống kê có thể giúp bạn xem hiệu quả kinh doanh của mình !</span>\r\n                </div>\r\n            </Col>\r\n            <ItemCard title=\"Số đơn hàng tháng này\" colorLeft=\"red\" >\r\n                <span style={{ fontWeight:'bold' }}>{`${thisMonthNumber} đơn`}</span>\r\n            </ItemCard>\r\n            <ItemCard title=\"Số tiền bán được tháng này\" colorLeft=\"blue\" >\r\n                <span style={{ fontWeight:'bold' }}>{`${getPriceVND(totalMonth)} đ`}</span>\r\n            </ItemCard>\r\n            <ItemCard title=\"Số đơn hôm nay\" colorLeft=\"green\">\r\n                <span style={{ fontWeight:'bold' }}>{`${thisDayNumber} đơn`}</span>\r\n            </ItemCard>\r\n            \r\n        </Row>\r\n    )\r\n    const ChartColumn = (\r\n        <div style={{ padding:30,boxShadow:'2px 0px 30px #00000026' }}>\r\n        <Button onClick={()=>refColumn.current?.downloadImage()}><DownloadOutlined /></Button>\r\n        <div style={{ paddingBottom:30,textAlign:'center',fontWeight:'bold' }}>\r\n            <LeftOutlined style={{cursor:'pointer'}} onClick={()=>setthisYear(thisYear-1)}/>\r\n            <span style={{ marginLeft:20,marginRight:20 }}>{`Thống kê số đơn hàng của năm ${thisYear}`}</span>\r\n            <RightOutlined style={{cursor:'pointer'}} onClick={()=>setthisYear(thisYear+1)}/>\r\n        </div>\r\n        <Column  \r\n            {...configChartColumn}   \r\n            onReady={(plot) => {\r\n                refColumn.current = plot;\r\n            }}\r\n        />\r\n        </div>\r\n    )\r\n    const ChartPie = (\r\n        <div style={{ padding:30,boxShadow:'2px 0px 30px #00000026' }}>\r\n        <Button onClick={()=>refPie.current?.downloadImage()}><DownloadOutlined /></Button>\r\n        <div style={{ paddingBottom:30,textAlign:'center',fontWeight:'bold' }}>\r\n            <span >{`Tình trạng đơn hàng`}</span>\r\n        </div>\r\n        <Pie  \r\n            {...configChartPie}   \r\n            onReady={(plot) => {\r\n                refPie.current = plot;\r\n            }}\r\n        />\r\n        </div>\r\n    )\r\n    return(\r\n    <div>\r\n        {showContent ? \r\n        <div >\r\n        {Top}\r\n        <Row gutter={[{ xl:50}]}>\r\n            <Col xl={12} xs={24} style={{ paddingTop:30 }}>\r\n                {ChartColumn}\r\n            </Col>\r\n            <Col xl={12} xs={24} style={{ paddingTop:30 }}>\r\n                {ChartPie}\r\n            </Col>\r\n        </Row>\r\n        </div>\r\n        :\r\n        <Spinner spinning={!showContent}/>\r\n        }\r\n    </div>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport Highlighter from 'react-highlight-words';\r\nimport {SearchOutlined} from '@ant-design/icons';\r\nimport {Button,Input,Space} from 'antd';\r\n\r\nconst state = {\r\n    searchText:'',\r\n    searchedColumn:''\r\n}\r\nexport const getColumnSearchProps = (dataIndex,searchInput) => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={searchInput}\r\n          placeholder={`Tìm kiếm`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 100 }}\r\n          >\r\n            Tìm kiếm\r\n          </Button>\r\n          <Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Làm mới\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              confirm({ closeDropdown: false });\r\n              state.searchText=selectedKeys[0];\r\n              state.searchedColumn=dataIndex;\r\n            }}\r\n          >\r\n            Lọc\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n        record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n        onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.current.focus(), 100);\r\n      }\r\n    },\r\n    render: record =>\r\n        state.searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[state.searchText]}\r\n          autoEscape\r\n          textToHighlight={record[dataIndex] ? record[dataIndex].toString() : ''}\r\n        />\r\n      ) : (\r\n        record[dataIndex]\r\n      ),\r\n  });\r\n\r\nconst handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    state.searchText=selectedKeys[0];\r\n    state.searchedColumn=dataIndex;\r\n  };\r\n\r\nconst handleReset = clearFilters => {\r\n    clearFilters();\r\n    state.searchText=\"\";\r\n  };","import React,{useEffect,useState,useLayoutEffect,useRef} from 'react';\r\nimport {Table,Select,Button,message,Modal} from 'antd';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport {DeleteOutlined} from '@ant-design/icons';\r\nimport {Link} from 'react-router-dom';\r\nimport {getColumnSearchProps} from '../../elements/SearchFilter';\r\nconst { Option } = Select;\r\nimport { useSelector } from 'react-redux';\r\nexport default function Invoices(){\r\n    const [fulldataBill, setfulldataBill] = useState();\r\n    const [loadingTable, setloadingTable] = useState(false);\r\n    const [showModalDeleteBill, setshowModalDeleteBill] = useState(false);\r\n    const [dataItemTmp, setdataItemTmp] = useState();\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n    const searchInput = useRef();\r\n \r\n    useEffect(()=>{\r\n        setloadingTable(true);\r\n        getFullBill()\r\n    },[]) \r\n    const getFullBill = async()=>{\r\n        const res = await FetchAPI.getAPI('/order/getFullBill');\r\n        res.sort(function(a,b){\r\n            return new Date(b.create_at) - new Date(a.create_at);\r\n        });\r\n        if(res!==undefined){\r\n            setfulldataBill(res);\r\n            setloadingTable(false);\r\n        }\r\n    }\r\n    const hanldeUpdateStatus = async(value,code,id,email)=>{\r\n        setloadingTable(true);\r\n        const data = {\"code_order\":code,\"status\":value,\"email\": email};\r\n        const res = await FetchAPI.postDataAPI(\"/order/updateStatusBill\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                setTimeout(()=>{\r\n                    getFullBill();\r\n                    message.success(\"Cập nhật hóa đơn #\"+id+\" thành công !\");\r\n                },500)\r\n            }else{\r\n                setTimeout(()=>{\r\n                    message.error(\"Có lỗi rồi !!\");\r\n                    setloadingTable(false);\r\n                },500)\r\n            }\r\n        }\r\n    }\r\n    const handleDeleteItem = async()=>{\r\n        setloadingTable(true);\r\n        setshowModalDeleteBill(false);\r\n        const data = {\"code_order\":dataItemTmp.code_order};\r\n        const res = await FetchAPI.postDataAPI(\"/order/deleteBill\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(`Bạn đã xóa hóa đơn #${dataItemTmp.id} thành công !`);\r\n                getFullBill();\r\n                setTimeout(()=>{\r\n                    setloadingTable(false);\r\n                },200)\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\");\r\n                setTimeout(()=>{\r\n                    setloadingTable(false);\r\n                },200)\r\n            }\r\n        }\r\n    }\r\n    const columns = [\r\n        {\r\n            title:\"Mã hóa đơn\",\r\n            key:'code',\r\n            filters: [\r\n                { text: 'Đơn có tài khoản', value: \"string\" },\r\n                { text: 'Đơn không tài khoản', value: \"object\" },\r\n            ],\r\n            onFilter: (value, record) => typeof(record.idUser)===value,\r\n            render: record=>(\r\n                <span style={record.idUser===null?{color:'red',fontWeight:'bold' }:{ fontWeight:'bold' }}>\r\n                    {\"#\"+record.id}\r\n                </span>         \r\n            )\r\n        },\r\n        {\r\n            title:\"Tên khách hàng\",\r\n            key:'name',\r\n            ...getColumnSearchProps('name',searchInput)\r\n        },\r\n        {\r\n            title:\"Địa chỉ\",\r\n            key:'address',\r\n            render:record=><span>{record.address}</span>\r\n        },\r\n        {\r\n            title:\"Email\",\r\n            key:'email',\r\n            ...getColumnSearchProps('email',searchInput),\r\n        },\r\n        {\r\n            title:\"Điện thoại\",\r\n            key:'phone',\r\n            render: record=><span>{record.phone}</span>\r\n        },\r\n        {\r\n            title:\"Tổng tiền\",\r\n            key:'total',\r\n            sorter: (a, b) => a.total_price - b.total_price,\r\n            render: record=><span style={{ fontWeight:'bold' }}>{getPriceVND(record.total_price)+\" đ\"}</span>\r\n        },\r\n        {\r\n            title:\"Tình trạng\",\r\n            key:'status',\r\n            filters: [\r\n                { text: 'Đang xử lý', value: 0 },\r\n                { text: 'Đang giao hàng', value: 1 },\r\n                { text: 'Đã hoàn thành', value: 2 },\r\n                { text: 'Đã hủy', value: 3 },\r\n            ],\r\n            onFilter: (value, record) => record.status===value,\r\n            render: record=>{\r\n                return(\r\n                    <Select \r\n                        value={record.status}  \r\n                        style={{ width: 120 }} \r\n                        onChange={(value)=>hanldeUpdateStatus(value,record.code_order,record.id,record.email)}\r\n                    >\r\n                        <Option value={0}>\r\n                            <span style={{ color:'red' }}>Đang xử lý</span>\r\n                        </Option>\r\n                        <Option value={1}>\r\n                            <sapn style={{color:'blue' }}>Đang giao hàng</sapn>\r\n                        </Option>\r\n                        <Option value={2}>\r\n                            <span style={{ color:'green' }}>Hoàn thành</span>\r\n                        </Option>\r\n                        <Option value={3} disabled>\r\n                            <span style={{ color:'gray' }}>Đã hủy</span>\r\n                        </Option>\r\n                    </Select>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title:\"Tùy chỉnh\",\r\n            key:'option',\r\n            render:record=>(\r\n                <div style={{ display:'flex',flexDirection:'row',alignItems:'center' }}>\r\n                    <Button>\r\n                        <Link to={`/admin/billdetails/${record.code_order}`}>\r\n                            Chi tiết\r\n                        </Link>\r\n                    </Button>\r\n                    <DeleteOutlined \r\n                        style={{marginLeft:15,fontSize:20,cursor:\"pointer\" }} \r\n                        onClick={()=>{\r\n                            setshowModalDeleteBill(true);\r\n                            setdataItemTmp(record);\r\n                        }}/>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    ]\r\n    return(\r\n    <div>\r\n        <p>Bạn cần xóa những đơn hàng khác đã hủy để đưa sản phẩm vào lại kho hàng.</p>\r\n\r\n        <Table \r\n            showSorterTooltip={{ title: 'Nhấn để sắp xếp' }}\r\n            columns={columns} \r\n            dataSource={fulldataBill} \r\n            size=\"small\" \r\n            style={overflowX?{overflowX:'scroll'}:null} \r\n            loading={loadingTable} />\r\n         {showModalDeleteBill &&\r\n            <Modal\r\n                title={`Bạn chắc chắn muốn xóa hóa đơn #${dataItemTmp.id}`}\r\n                visible={showModalDeleteBill}\r\n                onOk={handleDeleteItem}\r\n                onCancel={()=>setshowModalDeleteBill(false)}\r\n                cancelText=\"Thoát\"\r\n                okText=\"Chắc chắn\"\r\n            >\r\n                <p>Bạn chắc chắn với quyết định của mình ! Tất cả dữ liệu về hóa đơn này sẽ bị xóa.</p>\r\n                <p>Và các sản phẩm trong hóa đơn này sẽ được đưa lại vào kho hàng !</p>\r\n            </Modal>\r\n        }\r\n    </div>\r\n    )\r\n}","import React ,{useEffect,useState,useRef} from 'react';\r\nimport {InputNumber,Table,Image,message,Button,Modal} from 'antd';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport {DeleteOutlined,PlusCircleOutlined} from '@ant-design/icons';\r\nimport {Link} from 'react-router-dom';\r\nimport {getColumnSearchProps} from '../../elements/SearchFilter';\r\nimport moment from 'moment';\r\nimport { useSelector } from 'react-redux';\r\nexport default function Inventory(){\r\n    const [dataInventory, setdataInventory] = useState();\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [loadingTable, setloadingTable] = useState(false);\r\n    const [showModalDeleteInventory, setshowModalDeleteInventory] = useState(false);\r\n    const [dataItemTmp, setdataItemTmp] = useState();\r\n    const searchInput = useRef();\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n\r\n    useEffect(()=>{\r\n        setloadingTable(true);\r\n        setshowContent(false);\r\n        getFullInventory();\r\n    },[])\r\n    const getFullInventory = async()=>{\r\n        setshowContent(false);\r\n        const res = await FetchAPI.getAPI(\"/inventory/getFullInventory\");\r\n        res.sort(function(a,b){\r\n            return new Date(b.update_at) - new Date(a.update_at);\r\n        });\r\n        setdataInventory(res);\r\n        setshowContent(true);\r\n        setloadingTable(false);\r\n    \r\n    }\r\n    const updateQuanity = async(quanity,idProduct,size,name)=>{\r\n        setloadingTable(true);\r\n        const data = {\"idProduct\":idProduct,\"quanity\":quanity,\"size\":size};\r\n        const res = await FetchAPI.postDataAPI(\"/inventory/updateQuanityInventory\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                setTimeout(()=>{\r\n                    message.success(\"Cập nhật sản phẩm \"+name+\" thành công !\");\r\n                    getFullInventory()\r\n                },500)\r\n            }else{\r\n                setTimeout(()=>{\r\n                    message.error(\"Có lỗi rồi !!\");\r\n                    setloadingTable(false);\r\n                },500)\r\n            }\r\n        }\r\n    }\r\n    const handleDeleteItem = async() =>{\r\n        setloadingTable(true);\r\n        const res = await FetchAPI.postDataAPI(\"/inventory/deleteItemInventory\",{\"id\":dataItemTmp.id})\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(`Xóa sản phẩm ${dataItemTmp.nameProduct} loại ${dataItemTmp.size} thành công !`);\r\n                getFullInventory();\r\n                setshowModalDeleteInventory(false);\r\n                setloadingTable(false);\r\n            }else{\r\n                setloadingTable(false);\r\n                message.error(\"Có lỗi rồi !!!\")\r\n            }\r\n        }\r\n    }\r\n    const columns  = [\r\n        {\r\n            title:\"Sản phẩm\",\r\n            key:'product',\r\n            ...getColumnSearchProps('name',searchInput),\r\n            render: record =>(\r\n                <div style={{ display:'flex',alignItems:'center'}}>\r\n                    <Image src={record.image} width={65} preview={false} /> \r\n                    <span style={{ fontWeight:'bold',marginLeft:20 }}>{record.name}</span>\r\n                </div>\r\n            )\r\n        },\r\n        {\r\n            title:\"Loại, kích cỡ\",\r\n            key:'option',\r\n            render: record=><span>{record.size}</span>\r\n        },\r\n        {\r\n            title:\"Số lượng\",\r\n            key:'quanity',\r\n            sorter: (a, b) =>a.quanity-b.quanity,\r\n            render: record=>(\r\n                <InputNumber \r\n                    min={0} \r\n                    value={record.quanity}\r\n                    onChange= {(value)=>updateQuanity(value,record.idProduct,record.size,record.name)}\r\n                />)\r\n        },\r\n        {\r\n            title:\"Đã bán\",\r\n            key:'sold',\r\n            render: record=><span style={{fontWeight:'bold',color:'gray'}}>{record.sold}</span>\r\n        },\r\n        {\r\n            title:\"Còn lại\",\r\n            key:'rest',\r\n            render: record=><span>{record.quanity-record.sold}</span>\r\n        },\r\n        {\r\n            title:\"Cập nhật lần cuối\",\r\n            key:'lastUpdate',\r\n            sorter: (a, b) => new Date(a.update_at) - new Date(b.update_at),\r\n            render: record=><span>{moment(record.update_at).format('YYYY-MM-DD HH:mm:ss')}</span>\r\n        },\r\n        {\r\n            title:\"Tùy chỉnh\",\r\n            key:'option',\r\n            render:record=>\r\n            <DeleteOutlined \r\n                style={{marginLeft:15,fontSize:20,cursor:\"pointer\" }} \r\n                onClick={()=>{setshowModalDeleteInventory(true);setdataItemTmp(record)}}\r\n            />\r\n        }\r\n    ]\r\n    return(\r\n    <div>\r\n        {showContent ?\r\n        <div>\r\n        <Button type=\"primary\" style={{ marginBottom:20 }} danger >\r\n            <Link to=\"/admin/addInventory\" >\r\n                Nhập kho <PlusCircleOutlined />\r\n            </Link>    \r\n        </Button>\r\n        <Table \r\n            showSorterTooltip={{ title: 'Nhấn để sắp xếp' }}\r\n            pagination={{ defaultPageSize: 5 }}\r\n            columns={columns} \r\n            dataSource={dataInventory}\r\n            style={overflowX?{overflowX:'scroll'}:null} \r\n            loading={loadingTable}\r\n        />\r\n        {showModalDeleteInventory &&\r\n            <Modal\r\n                title={`Bạn chắc chắn muốn xóa ${dataItemTmp.name} loại ${dataItemTmp.size}`}\r\n                visible={showModalDeleteInventory}\r\n                onOk={handleDeleteItem}\r\n                onCancel={()=>setshowModalDeleteInventory(false)}\r\n                cancelText=\"Thoát\"\r\n                okText=\"Chắc chắn\"\r\n            >\r\n                <p>Bạn chắc chắn với quyết định của mình ! Tất cả dữ liệu về món hàng này sẽ bị xóa vĩnh viễn.</p>\r\n            </Modal>\r\n        }\r\n        </div>\r\n        \r\n        :\r\n        <Spinner spinning={!showContent}/>\r\n        }\r\n    </div>\r\n    )\r\n}","import React ,{useEffect,useState,useRef} from 'react';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport { useSelector } from 'react-redux';\r\nimport {Table,Select,message,Modal,Form,Input} from 'antd';\r\nimport Spinner from '../../elements/spinner';\r\nimport {getColumnSearchProps} from '../../elements/SearchFilter';\r\nimport {InfoCircleOutlined} from '@ant-design/icons'\r\nconst {Option} = Select;\r\n\r\nexport default function AccountManger(){\r\n    const [dataUser, setdataUser] = useState();\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [showModalInforAccount, setshowModalInforAccount] = useState(false);\r\n    const [dataInfor, setdataInfor] = useState([]);\r\n    const searchInput = useRef();\r\n    const [formInfor] = Form.useForm();\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getUser();\r\n    },[])\r\n    const getUser = async()=>{\r\n        const res = await FetchAPI.getAPI(\"/user/getFullUser\");\r\n        console.log(res[0])\r\n        setdataUser(res)\r\n        setshowContent(true);\r\n    }\r\n    const updateStatusUser = async(e,id)=>{\r\n        const data = {\"id\":id,\"status\":e}\r\n        const res = await FetchAPI.postDataAPI(\"/user/updateStatusUser\",data)\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Cập nhật thành công\");\r\n                getUser();\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\")\r\n            }\r\n        }\r\n    }\r\n    const columns = [\r\n        {\r\n            title:\"Mã tài khoản\",\r\n            key:'id',\r\n            render: record=><span>{record.id}</span>\r\n        },\r\n        {\r\n            title:\"Email\",\r\n            key:'email',\r\n            ...getColumnSearchProps('email',searchInput)\r\n        },\r\n        {\r\n            title:\"Tên khách hàng\",\r\n            key:'name',\r\n            render: record=><span>{record.name}</span>\r\n        },\r\n        {\r\n            title:\"Trạng thái\",\r\n            key:\"status\",\r\n            render: record=>(\r\n                <Select \r\n                    value={record.status}\r\n                    onChange= {(e)=>updateStatusUser(e,record.id)}\r\n                >\r\n                    <Option value={0}>\r\n                        Hoạt động\r\n                    </Option>\r\n                    <Option value={1}>\r\n                        Tạm khóa\r\n                    </Option>\r\n                </Select>\r\n            )\r\n        },\r\n        {\r\n            title:\"Chi tiết\",\r\n            key:'details',\r\n            render: record=>\r\n            <div style={{ paddingLeft:15 }}>\r\n                <InfoCircleOutlined \r\n                    style={{fontSize:18,cursor:\"pointer\" }} \r\n                    onClick={()=>{\r\n                        getInforUser(record.id)\r\n                    }}\r\n                />\r\n            </div>\r\n        }\r\n    ]\r\n    const getInforUser = async(id)=>{\r\n        const data = {\"idUser\":id}\r\n        const res = await FetchAPI.postDataAPI(\"/user/getInforUser\",data)\r\n        setdataInfor(res[0]);\r\n        formInfor.setFieldsValue(res[0])\r\n        setshowModalInforAccount(true);\r\n    }\r\n    return(\r\n    <div>\r\n        {showContent ?\r\n        <div>\r\n        <Table \r\n            dataSource={dataUser}\r\n            columns={columns}\r\n            style={overflowX?{overflowX:'scroll'}:null} \r\n        />\r\n        {showModalInforAccount &&\r\n            <Modal\r\n                title={`Thông tin khách hàng ${dataInfor.id}`}\r\n                visible={showModalInforAccount}\r\n                onCancel={()=>setshowModalInforAccount(false)}\r\n                cancelText=\"Thoát\"\r\n                okButtonProps={{\r\n                    style: {\r\n                      display: \"none\",\r\n                    },\r\n                }}\r\n            >\r\n                <Form\r\n                    form={formInfor}\r\n                    labelCol={{ xl:6,md:6,sm:8}}\r\n                    wrapperCol={{ xl:15,md:15,sm:13 }}\r\n                >\r\n                    <Form.Item \r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                    >\r\n                        <Input \r\n                            placeholder=\"Email khách hàng\"\r\n                            disabled\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label=\"Tên đăng nhập\"\r\n                        name=\"username\"\r\n                    >\r\n                        <Input \r\n                            placeholder=\"Tên đăng nhập của khách hàng\"\r\n                            disabled\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label=\"Tên khách hàng\"\r\n                        name=\"name\"\r\n                    >\r\n                        <Input \r\n                            placeholder=\"Tên khách hàng\"\r\n                            disabled\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label=\"Địa chỉ\"\r\n                        name=\"address\"\r\n                    >\r\n                        <Input \r\n                            placeholder=\"Khách hàng chưa cung cấp thông tin này\"\r\n                            disabled\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label=\"Số điện thoại\"\r\n                        name=\"phone\"\r\n                    >\r\n                        <Input \r\n                            placeholder=\"Khách hàng chưa cung cấp thông tin này\"\r\n                            disabled\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label=\"Số đơn hàng\"\r\n                        name=\"totalBill\"\r\n                    >\r\n                        <span> {formInfor.getFieldValue(['totalBill'])}</span>\r\n                    </Form.Item>\r\n                    <Form.Item \r\n                        label=\"Trạng thái\"\r\n                        name=\"status\"\r\n                    >\r\n                        {formInfor.getFieldValue(['status'])==0?\r\n                        <span style={{ color:'green',fontWeight:'bold' }}>Hoạt động</span>\r\n                        :\r\n                        <span style={{ color:'red',fontWeight:'bold' }}>Tạm khóa</span>\r\n                        }\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        }\r\n        </div>\r\n        \r\n        :\r\n        <Spinner spinning={!showContent}/>\r\n        }\r\n    </div>\r\n    )\r\n}","import React,{useEffect,useState} from 'react';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport {InputNumber,Table,DatePicker,Button,message,Drawer,Form,Input,Modal} from 'antd';\r\nimport moment from 'moment';\r\nimport {PlusCircleOutlined} from '@ant-design/icons';\r\nimport { useSelector } from 'react-redux';\r\nconst { RangePicker } = DatePicker;\r\nexport default function SaleManager(){\r\n    const [showContent, setshowContent] = useState();\r\n    const [dataFullPromotion, setdataFullPromotion] = useState();\r\n    const [loadingTable, setloadingTable] = useState(false);\r\n    const [loadingBtn, setloadingBtn] = useState(false);\r\n    const [showDrawer, setshowDrawer] = useState(false);\r\n    const [showModalDelete, setshowModalDelete] = useState(false);\r\n    const [itemTmp, setitemTmp] = useState();\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n    const [dataAddSale, setdataAddSale] = useState({});\r\n    const [formAddSale] = Form.useForm();\r\n    useEffect(()=>{\r\n        getFullPromotion();\r\n    },[])\r\n    const getFullPromotion = async()=>{\r\n        const res = await FetchAPI.getAPI('/promotion/getFullPromotion');\r\n        setdataFullPromotion(res)\r\n        setshowContent(true)\r\n    }\r\n    const handleEditDate = async(e,id)=>{\r\n        setloadingTable(true);\r\n        if(e===null){\r\n\r\n        }else{\r\n            const date_start = moment(e[0]._d).format('YYYY-MM-DD HH:mm:ss')\r\n            const expired = moment(e[1]._d).format('YYYY-MM-DD HH:mm:ss')\r\n            const data = {\"date_start\":date_start,\"expired\":expired,\"id\":id};\r\n            const res = await FetchAPI.postDataAPI(\"/promotion/updateTimeSale\",data);\r\n            if(res.msg){\r\n                if(res.msg===\"Success\"){\r\n                    setTimeout(()=>{\r\n                        message.success(\"Cập nhật mã khuyến mãi #\"+id+\" thành công !\");\r\n                        setloadingTable(false);\r\n                    },500)\r\n                }else{\r\n                    setTimeout(()=>{\r\n                        message.error(\"Có lỗi rồi !!\");\r\n                        setloadingTable(false);\r\n                    },500)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const handleEditQuanity = async(e,id)=>{\r\n        setloadingTable(true);\r\n        const data={\"quanity\":e,\"id\":id};\r\n        const res = await FetchAPI.postDataAPI(\"/promotion/updateQuanitySale\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                setTimeout(()=>{\r\n                    message.success(\"Cập nhật mã khuyến mãi #\"+id+\" thành công !\")\r\n                    getFullPromotion();\r\n                    setloadingTable(false);\r\n                },500)\r\n            }else{\r\n                setTimeout(()=>{\r\n                    message.error(\"Có lỗi rồi !!\");\r\n                    setloadingTable(false);\r\n                })\r\n            }\r\n        }\r\n    }\r\n    const handleAddSale = async()=>{\r\n        setloadingBtn(true);\r\n        const data = {\"data\":dataAddSale};\r\n        const res = await FetchAPI.postDataAPI(\"/promotion/addPromotion\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                setTimeout(()=>{\r\n                    message.success(\"Thêm mã khuyến mãi thành công !\")\r\n                    getFullPromotion();\r\n                    setdataAddSale({});\r\n                    formAddSale.setFieldsValue({name_event_sale:\"\",cost_sale:\"\",code_sale:\"\",quanity:\"\",time:\"\"});\r\n                    setshowDrawer(false);\r\n                    setloadingBtn(false);\r\n                },500)\r\n            }else{\r\n                setTimeout(()=>{\r\n                    message.error(\"Có lỗi rồi !!\");\r\n                    setloadingBtn(false);\r\n                })\r\n            }\r\n        }\r\n    }\r\n    const handleDeleteSale = async()=>{\r\n        const data = {\"id\":itemTmp.id}\r\n        const res = await FetchAPI.postDataAPI(\"/promotion/deleteSale\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Xóa mã thành công\")\r\n                setshowModalDelete(false)\r\n                getFullPromotion()\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\")\r\n                setshowModalDelete(false)\r\n            }\r\n        }\r\n    }\r\n    const columns  = [\r\n        {\r\n            title:\"Tên sự kiện\",\r\n            key:'name_event_sale',\r\n            render: record=><span>{record.name_event_sale}</span>\r\n        },\r\n        {\r\n            title:\"Mã khuyến mãi\",\r\n            key:'code_sale',\r\n            render: record=><span>{record.code_sale}</span>\r\n        },\r\n        {\r\n            title:\"Số tiền giảm\",\r\n            key:'cost_sale',\r\n            render: record=><span>{getPriceVND(record.cost_sale)+\" đ\"}</span>\r\n        },\r\n        {\r\n            title:\"Số lượng\",\r\n            key:'quanity',\r\n            render: record=>(\r\n                <InputNumber \r\n                    value={record.quanity}\r\n                    min= {0}\r\n                    onChange= {e=>handleEditQuanity(e,record.id)}\r\n                />\r\n            )\r\n        },\r\n        {\r\n            title:\"Đã sử dụng\",\r\n            key:'used',\r\n            render:record=><span>{record.used}</span>\r\n        },\r\n        {\r\n            title:\"Còn lại\",\r\n            key:'rest',\r\n            render: record=><span style={{fontWeight:'bold'}}>{record.quanity-record.used}</span>\r\n        },\r\n        {\r\n            title:<div style={{textAlign: 'center'}}><span>Thời gian giảm giá</span></div>,\r\n            key:'date_start',\r\n            sorter: (a, b) =>new Date(a.date_start)- new Date(b.date_start),\r\n            render: record=>(\r\n                <RangePicker \r\n                    value={[moment(record.date_start),moment(record.expired)]}\r\n                    renderExtraFooter={() => 'extra footer'}\r\n                    showTime \r\n                    onChange= {(e)=>handleEditDate(e,record.id)}\r\n                />\r\n            )\r\n        },\r\n        {\r\n            title:\"Tùy chỉnh\",\r\n            key:'edit',\r\n            render: record=>(\r\n                <Button onClick={()=>{\r\n                    setshowModalDelete(true);\r\n                    setitemTmp(record)\r\n                }}>\r\n                    Xóa\r\n                </Button>\r\n            )\r\n        }\r\n    ]\r\n    const DrawerAddSale = ()=>(\r\n        <Drawer\r\n            title=\"Thêm mã khuyến mãi\" \r\n            placement=\"right\" \r\n            width={overflowX ?\"100%\":520}\r\n            getContainer={false}\r\n            onClose={()=>setshowDrawer(false)} \r\n            visible={showDrawer}\r\n           \r\n        >\r\n            <Form\r\n                form={formAddSale}\r\n                labelCol={{ span: 6 }}\r\n                wrapperCol={{ span: 16 }}\r\n                onFinish={handleAddSale}\r\n            >\r\n                <Form.Item\r\n                    label=\"Tên sự kiện\"\r\n                    name=\"name_event_sale\"\r\n                    rules={[{required: true, message:'Vui lòng nhập tên sự kiện'}]}\r\n                >\r\n                    <Input \r\n                        placeholder=\"Nhập tên sự kiện\"\r\n                        value={dataAddSale.name_event_sale}\r\n                        onChange= {(e)=>setdataAddSale({...dataAddSale,name_event_sale:e.target.value})}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Mã khuyến mãi\"\r\n                    name=\"code_sale\"\r\n                    rules={[{required: true, message:'Mã khuyến mãi không để trống!'}]}\r\n                >\r\n                    <Input \r\n                        placeholder=\"Nhập mã khuyến mãi\"\r\n                        value={dataAddSale.code_sale}\r\n                        onChange= {(e)=>setdataAddSale({...dataAddSale,code_sale:e.target.value})}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Giá giảm\"\r\n                    name=\"cost_sale\"\r\n                    rules={[{ required: true, message: 'Giá giảm không để trống!' }]}\r\n                >\r\n                    <InputNumber\r\n                        placeholder=\"Giá giảm\"\r\n                        formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                        min={0}\r\n                        value={dataAddSale.cost_sale}\r\n                        onChange={(e)=>setdataAddSale({...dataAddSale,cost_sale:e})}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Số lượng mã\"\r\n                    name=\"quanity\"\r\n                    rules={[{ required: true, message: 'Số lượng không để trống!' }]}\r\n                >\r\n                    <InputNumber\r\n                        placeholder=\"Số lượng mã\"\r\n                        formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                        min={0}\r\n                        value={dataAddSale.quanity}\r\n                        onChange={(e)=>setdataAddSale({...dataAddSale,quanity:e})}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Thời gian\"\r\n                    name=\"time\"\r\n                    rules={[{ required: true, message: 'Bạn phải chọn thời gian sự kiện diễn ra!' }]}\r\n                >\r\n                    <RangePicker \r\n                        renderExtraFooter={() => 'extra footer'}\r\n                        showTime \r\n                        onChange= {e=>\r\n                            setdataAddSale({\r\n                                ...dataAddSale,\r\n                                date_start:moment(e[0]._d).format('YYYY-MM-DD HH:mm:ss'),\r\n                                expired:moment(e[1]._d).format('YYYY-MM-DD HH:mm:ss')\r\n                            }\r\n                            )\r\n                        }\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item style={{ paddingTop:20 }}  wrapperCol={{ span: 12, offset: 10 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" danger loading={loadingBtn}>\r\n                        Thêm mã\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Drawer>\r\n    )\r\n    const ModalDeleteSale = ()=>(\r\n        <div>\r\n        {showModalDelete &&\r\n        <Modal\r\n            title={`Xóa sản phẩm ${itemTmp.code_sale}`}\r\n            visible={showModalDelete}\r\n            onCancel={()=>{setshowModalDelete(false)}}\r\n            onOk={handleDeleteSale}\r\n            cancelText=\"Thoát\"\r\n            okText=\"Chắc chắn\"\r\n        >\r\n            <p>Bạn có chắc chắn muốn xóa mã khuyến mãi này.</p>\r\n        </Modal>\r\n        }\r\n        </div>\r\n    )\r\n    return(\r\n    <div>\r\n        {showContent ?\r\n        <div>\r\n            <Button type=\"primary\" style={{ marginBottom:20 }} danger onClick={()=>setshowDrawer(true)}>\r\n                Thêm mã khuyến mãi <PlusCircleOutlined />\r\n            </Button>\r\n            <Table \r\n                showSorterTooltip={{ title: 'Nhấn để sắp xếp' }}\r\n                columns={columns}\r\n                dataSource={dataFullPromotion}\r\n                loading={loadingTable}\r\n                style={overflowX?{overflowX:'scroll'}:null} \r\n            />\r\n     \r\n            {DrawerAddSale()}\r\n            {ModalDeleteSale()}\r\n        </div>\r\n        :\r\n        <Spinner spinning={!showContent}/> \r\n        }\r\n    </div>\r\n    )\r\n}","import React ,{useEffect,useState} from'react';\r\nimport { PageHeader,Table,Row,Col,Space,Card ,Button,message,Select,Modal} from 'antd';\r\nimport { useHistory,useParams,useLocation } from 'react-router-dom';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport {PrinterOutlined} from '@ant-design/icons';\r\n\r\nconst {Option} = Select;\r\nexport default function BillDetails(){\r\n    const [dataProduct, setdataProduct] = useState();\r\n    const [dataBill, setdataBill] = useState();\r\n    const [dataSale, setdataSale] = useState();\r\n    const [totalTmp, settotalTmp] = useState(0);\r\n    const [promotionprice, setpromotionprice] = useState(0);\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [showModalDeleteBill, setshowModalDeleteBill] = useState(false);\r\n    const {idBill} = useParams();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        setshowContent(false);\r\n        getProduct();\r\n        getInforPayment();\r\n    },[location])\r\n    const getProduct = async()=>{\r\n        const data = {\"idOrder\":idBill}\r\n        const product = await FetchAPI.postDataAPI('/order/getProductByIdBill',data);\r\n        if(product!==undefined){\r\n            let total = 0;\r\n            product.map((e,index)=>{\r\n                total+= e.price*e.quanity;\r\n                if(index===product.length-1){\r\n                    settotalTmp(total);\r\n                }\r\n                return false;\r\n            })\r\n        }\r\n        setdataProduct(product);\r\n    }\r\n    const getInforPayment = async()=>{\r\n        const data = {\"idOrder\":idBill}\r\n        const bill = await FetchAPI.postDataAPI('/order/getBillById',data);\r\n        setdataBill(bill[0])\r\n        if(bill[0].idSale!==null){\r\n            getSale(bill[0].idSale);\r\n        }\r\n        setshowContent(true)\r\n    }\r\n    const getSale = async(idSale)=>{\r\n        const res = await FetchAPI.postDataAPI(\"/order/getSaleById\",{\"idSale\":idSale})\r\n        if(res!==undefined){\r\n            setdataSale(res[0])\r\n            setpromotionprice(res[0].cost_sale)\r\n        }\r\n    }\r\n    const hanldeUpdateStatus = async(value,code,id)=>{\r\n        // setloadingTable(true);\r\n        const data = {\"code_order\":code,\"status\":value};\r\n        const res = await FetchAPI.postDataAPI(\"/order/updateStatusBill\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                setTimeout(()=>{\r\n                    message.success(\"Cập nhật hóa đơn #\"+id+\" thành công !\");\r\n                    // setloadingTable(false);\r\n                },500)\r\n            }else{\r\n                setTimeout(()=>{\r\n                    message.error(\"Có lỗi rồi !!\");\r\n                    // setloadingTable(false);\r\n                },500)\r\n            }\r\n        }\r\n    }\r\n    const handlePrintInvoices = ()=>{\r\n        let inforbill = document.getElementById('Inforbill');\r\n        let product = document.getElementsByClassName('BillProduct');\r\n        let price = document.getElementsByClassName('BillPrice');\r\n        let shipping = document.getElementsByClassName('Shipping');\r\n        let totalBill = document.getElementsByClassName('TotalBill');\r\n        let saleBill = document.getElementsByClassName('SaleBill');\r\n        let tableProduct = \"<table style=\\\"width:100%;text-align:center\\\"><tr><td style=\\\"width:33%;border:2px solid black;height:40px\\\"><b>Sản phẩm</b></td><td style=\\\"width:33%;border:2px solid black\\\"><b>Tạm tính</b></td></tr>\";\r\n        for(var i=0;i<product.length;i++){\r\n            tableProduct += \"<tr > <td style=\\\"width:33%;border:1px solid black;height:70px\\\">\"+product[i].innerHTML+\"</td><td style=\\\"width:33%;border:1px solid black\\\">\"+price[i].innerHTML+\"</td> </tr>\"\r\n        }\r\n        let pri = document.getElementById('ifmcontentstoprint').contentWindow;\r\n        pri.document.open();\r\n        pri.document.write(inforbill.outerHTML);\r\n        pri.document.write(\"<b>Phí vận chuyển :</b>   \"+shipping[0].innerHTML);\r\n        pri.document.write(tableProduct+\"</table>\");\r\n        if(saleBill.length!==0){\r\n            pri.document.write(\"<div style=\\\" padding-top:18px;font-size:24px\\\"><b> Mã khuyến mãi :  </b>\"+saleBill[0].innerHTML+\"</div>\");\r\n        }\r\n        pri.document.write(\"<div style=\\\" padding-top:18px;font-size:24px\\\"><b> Tổng :  </b>\"+totalBill[0].innerHTML+\"</div>\");\r\n        pri.document.close();\r\n        pri.focus();\r\n        pri.print();\r\n    }\r\n    const handleDeleteItem = async()=>{\r\n        setshowContent(false);\r\n        setshowModalDeleteBill(false);\r\n        const data = {\"code_order\":dataBill.code_order};\r\n        const res = await FetchAPI.postDataAPI(\"/order/deleteBill\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(`Bạn đã xóa hóa đơn #${dataBill.id} thành công !`);\r\n                history.push('/admin/invoices')\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\");\r\n                setshowContent(true)\r\n            }\r\n        }\r\n    }\r\n    const columns  = [\r\n        {\r\n            title:\"Sản phẩm\",\r\n            key:'product',\r\n            render : record=>{\r\n                return(\r\n                    <div className=\"BillProduct\">\r\n                        <span>{record.name_product+\" ( \"+record.size +\" )\"}</span>\r\n                        <span style={{ paddingLeft:20,fontWeight:'bold' }}>{\"X\" +record.quanity}</span>\r\n                    </div>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title:\"Tổng\",\r\n            key:'total_price',\r\n            render: record=>{\r\n                return <span className=\"BillPrice\">{getPriceVND(record.price*record.quanity) +\" đ\"}</span>\r\n            }\r\n        }\r\n    ]\r\n    const ViewProduct = ()=>(\r\n        <Table \r\n            columns={columns}\r\n            dataSource={dataProduct}\r\n            pagination={false} \r\n            size=\"small\"\r\n            style={{boxShadow:'2px 0px 30px #00000026',padding:10}}\r\n            summary={()=>(\r\n                <Table.Summary>\r\n                    <Table.Summary.Row>\r\n                        <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Tạm tính</span></Table.Summary.Cell>\r\n                        <Table.Summary.Cell index={1}>{getPriceVND(totalTmp)+\" đ\"}</Table.Summary.Cell>\r\n                    </Table.Summary.Row>\r\n                    {dataSale !== undefined &&\r\n                        <Table.Summary.Row >\r\n                            <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Mã khuyến mãi</span></Table.Summary.Cell>\r\n                            <Table.Summary.Cell className=\"SaleBill\" index={1}>{\"-\"+getPriceVND(promotionprice)+\" đ\"}</Table.Summary.Cell>\r\n                        </Table.Summary.Row>\r\n                    }\r\n                    <Table.Summary.Row>\r\n                        <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Phí vận chuyển</span></Table.Summary.Cell>\r\n                        <Table.Summary.Cell index={1}  className=\"Shipping\" >{getPriceVND(30000)+\" đ\"}</Table.Summary.Cell>\r\n                    </Table.Summary.Row>\r\n                    <Table.Summary.Row >\r\n                        <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Tổng</span></Table.Summary.Cell>\r\n                        <Table.Summary.Cell className=\"TotalBill\" index={1}>{getPriceVND(totalTmp-promotionprice+30000)+\" đ\"}</Table.Summary.Cell>\r\n                    </Table.Summary.Row>\r\n                </Table.Summary>\r\n        )}\r\n        />      \r\n    )\r\n    const getStatus = (status)=>{\r\n       return(\r\n        <Select \r\n            defaultValue={status}  \r\n            style={{ width: 120 }} \r\n            onChange={(value)=>hanldeUpdateStatus(value,dataBill.code_order,dataBill.id)}\r\n            disabled={status===3}\r\n        >\r\n            <Option value={0}>\r\n                <span style={{ color:'red' }}>Đang xử lý</span>\r\n            </Option>\r\n            <Option value={1}>\r\n                <sapn style={{color:'blue' }}>Đang giao hàng</sapn>\r\n            </Option>\r\n            <Option value={2}>\r\n                <span style={{ color:'green' }}>Hoàn thành</span>\r\n            </Option>\r\n            <Option value={3} disabled>\r\n                <span style={{ color:'gray' }}>Đã hủy</span>\r\n            </Option>\r\n        </Select>\r\n       )\r\n    }\r\n    return(\r\n        <div>\r\n            {showContent ?\r\n            <div>\r\n            <PageHeader\r\n                className=\"site-page-header\"\r\n                onBack={() => history.goBack()}\r\n                title=\"Chi tiết đơn hàng\"\r\n                subTitle={\"Mã đơn hàng: #\"+dataBill.id}\r\n            />\r\n            <Row>\r\n                <Col lg={14} xs={24} style={{ padding:\"20px 40px\" }} >\r\n                    {ViewProduct()}\r\n                    <Card title=\"Địa chỉ thanh toán\" style={{ marginTop:30,boxShadow:'2px 0px 30px #00000026' }}>\r\n                    <div style={{ fontSize:16 }}>\r\n                    <Space direction=\"vertical\" size={20}>\r\n                        <span><b>Tên: </b>{dataBill.name}</span>\r\n                        <span><b>Địa chỉ: </b>{dataBill.address}</span>\r\n                        <span><b>Email: </b>{dataBill.email}</span>\r\n                                        <span><b>Số điện thoại: </b>{dataBill.phone} </span>\r\n                                        <span><b>Message: </b>{dataBill.message} </span>\r\n                    </Space>\r\n                    </div>\r\n                    </Card>\r\n                </Col>\r\n                <Col lg={10} xs={24} style={{ justifyContent:'center',display:'flex' }}>\r\n                    <Card title=\"Thông tin đơn hàng.\" style={{ marginTop:20,width:'80%',boxShadow:'2px 0px 30px #00000026' }}>\r\n                    <ul>\r\n                        <Space size={10} direction=\"vertical\">\r\n                            <div id=\"Inforbill\">\r\n                            <Space size={10} direction=\"vertical\">\r\n                                <li>Mã đơn hàng : <b>{\"#\"+dataBill.id}</b></li>\r\n                                <li>Ngày đặt: <b>{new Date(dataBill.create_at).toString()}</b></li>\r\n                                <li>Tên khách hàng : <b>{dataBill.name}</b></li>\r\n                                <li>Email : <b>{dataBill.email}</b></li>\r\n                                <li>Tổng cộng : <b>{getPriceVND(totalTmp-promotionprice)+\" đ\"}</b></li>\r\n                                <li>Thời gian cập nhật hóa đơn: <b>{new Date(dataBill.update_at).toString()}</b></li>\r\n                                <li>Phương thức thanh toán: \r\n                                <b>{dataBill.method_payment === 1 && \"Thanh toán khi nhận hàng\"}</b>\r\n                                <b>{dataBill.method_payment === 2 && \"Chuyển khoản ngân hàng\"}</b>\r\n                                <b>{dataBill.method_payment === 3 && \"Thanh toán VNPAY\"}</b>\r\n                                <b>{dataBill.method_payment === 4 && \"Thanh toán MOMO\"}</b>\r\n                                <b>{dataBill.method_payment===6 && \"Thanh toán PayPal\"}</b>\r\n                               \r\n                                </li>\r\n                            </Space>\r\n                            </div>\r\n                            <li>\r\n                                Tình trạng : {getStatus(dataBill.status)}\r\n                            </li>\r\n                            <div>\r\n                                <Button type=\"primary\" danger onClick={()=>setshowModalDeleteBill(true)}>\r\n                                    Xóa đơn\r\n                                </Button>\r\n                                <Button type=\"primary\" danger style={{ marginLeft:30 }} onClick={handlePrintInvoices}>\r\n                                    In hóa đơn <PrinterOutlined />\r\n                                </Button>\r\n                            </div>\r\n                        </Space>\r\n                    </ul>\r\n                    </Card>\r\n                </Col>\r\n            </Row> \r\n            {showModalDeleteBill &&\r\n                <Modal\r\n                    title={`Bạn chắc chắn muốn xóa hóa đơn #${dataBill.id}`}\r\n                    visible={showModalDeleteBill}\r\n                    onOk={handleDeleteItem}\r\n                    onCancel={()=>setshowModalDeleteBill(false)}\r\n                    cancelText=\"Thoát\"\r\n                    okText=\"Chắc chắn\"\r\n                >\r\n                    <p>Bạn chắc chắn với quyết định của mình ! Tất cả dữ liệu về hóa đơn này sẽ bị xóa.</p>\r\n                    <p>Và các sản phẩm trong hóa đơn này sẽ được đưa lại vào kho hàng !</p>\r\n                </Modal>\r\n            }\r\n            <iframe \r\n                id=\"ifmcontentstoprint\" \r\n                style={{\r\n                        height: '0px',\r\n                        width: '0px',\r\n                        position: 'absolute'\r\n                }}\r\n            ></iframe>  \r\n            </div>\r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React,{useEffect,useState} from 'react';\r\nimport {Form,Input,Select,Image,InputNumber,Button,PageHeader,message} from 'antd';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport { useHistory } from 'react-router-dom';\r\nconst { Option } = Select;\r\nexport default function AddInventory(){\r\n    const [formAdd] = Form.useForm();\r\n    const [dataProduct, setdataProduct] = useState();\r\n    const [productToAdd, setproductToAdd] = useState();\r\n    const [option, setoption] = useState();\r\n    const [quanity, setquanity] = useState(1);\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{ \r\n        getFullProduct()\r\n    },[])\r\n    const getFullProduct = async()=>{\r\n        let product = [];\r\n        const res = await FetchAPI.getAPI(\"/product/getFullProduct\");\r\n        res.map((item,index)=>{\r\n            product.push(\r\n                <Option value={[item.name,item.id]}>\r\n                    {item.name}\r\n                    <div style={{ display:'flex',justifyContent:'flex-end',marginTop:-20,paddingRight:20 }}>\r\n                        <Image src={item.image} width={40} preview={false}/>\r\n                    </div>\r\n                </Option>\r\n            )\r\n            if(index===res.length-1){\r\n                setdataProduct(product)\r\n            }\r\n        })\r\n    }\r\n    const handleChangeProduct = (value)=>{\r\n        setproductToAdd(value)\r\n    }\r\n    const handleQuanity = (value) =>{\r\n        if(value==null){\r\n            formAdd.setFieldsValue({quanity:1});\r\n            setquanity(1)\r\n        }\r\n        setquanity(value)\r\n    }\r\n    const handleAddInventory = async()=>{\r\n        const data = {\"idProduct\":productToAdd[1],\"quanity\":quanity,\"option\":option};\r\n        const res = await FetchAPI.postDataAPI(\"/inventory/addInventory\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"The product exist\"){\r\n                message.warning(\"Sản phẩm này đã nằm trong kho hàng, hãy kiểm tra lại !\")\r\n                formAdd.setFieldsValue({quanity:1,product:null,option:null})\r\n            }\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Nhập kho thành công, quay lại kho để xem !\");\r\n                formAdd.setFieldsValue({quanity:1,product:null,option:null})\r\n            }\r\n        }\r\n    }\r\n    return(\r\n        <div> \r\n        <PageHeader\r\n            className=\"site-page-header\"\r\n            onBack={() => history.goBack()}\r\n            title=\"Nhập kho\"\r\n        />\r\n    \r\n        <Form \r\n            form={formAdd}  \r\n            labelCol={{ span: 4 }}\r\n            wrapperCol={{ span: 19 }}\r\n            style={{paddingTop:20}}\r\n            onFinish={handleAddInventory}\r\n            initialValues={{quanity:1}}\r\n        >\r\n            <Form.Item\r\n                label={<span style={{ fontWeight:'bold',fontSize:16 }}>Sản phẩm</span>}\r\n                name=\"product\"\r\n                style={{ width:'80%'}}\r\n                hasFeedback\r\n                rules={[\r\n                    { required: true, message: 'Vui lòng chọn sản phẩm !' },\r\n                ]}\r\n            >\r\n            <Select\r\n                // mode=\"multiple\"\r\n                size=\"large\"\r\n                showSearch\r\n                allowClear\r\n                style={{ width: '100%'}}\r\n                placeholder=\"Chọn sản phẩm\"\r\n                onChange={handleChangeProduct}\r\n                >\r\n                {dataProduct}\r\n            </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n                label=\"Tùy chọn\"\r\n                name=\"option\"\r\n                hasFeedback\r\n                rules={[\r\n                    { required: true, message: 'Vui lòng nhập loại, kích thước, màu sắc !' },\r\n                ]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập loại, kích thước, màu sắc !\"\r\n                    value={option}\r\n                    defaultValue={option}\r\n                    onChange= {(e)=>setoption(e.target.value)}\r\n                    maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                label=\"Số lượng\"\r\n                name=\"quanity\"\r\n                rules={[\r\n                    { required: true, message: 'Vui lòng chọn số lượng !' },\r\n                ]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <InputNumber \r\n                    min={1}  \r\n                    onChange = {handleQuanity} \r\n                />\r\n            </Form.Item>\r\n            <Form.Item  style={{ padding:\"10px 0px\",justifyContent:'center' }} >\r\n                <Button htmlType=\"submit\" type=\"primary\" danger style={{ width:100,height:45,borderRadius:8 }}>\r\n                   Nhập kho\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n        </div>\r\n    )\r\n}","import axios from 'axios';\r\n// Custom Upload Adapter\r\nexport class uploadImageDescriprption {\r\n    constructor(loader) {\r\n      this.loader = loader\r\n    }\r\n    async upload() {\r\n      return this.loader.file.then((file) => {\r\n        const data = new FormData()\r\n        data.append(\"image\", file)\r\n        const genericError = `Couldn't upload file : ${file.name}.`\r\n        return axios({\r\n          data,\r\n          method: \"POST\",\r\n          url: \"/uploads/uploadImageProductDescription\",\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n          onUploadProgress: (progressEvent) => {\r\n            this.loader.uploadTotal = progressEvent.total\r\n            this.loader.uploaded = progressEvent.loaded\r\n            const uploadPercentage = parseInt(\r\n              Math.round((progressEvent.loaded / progressEvent.total) * 100)\r\n            )\r\n          },\r\n        })\r\n          .then((response) => ({ default: \"/Upload/ImageDescription/\"+response.data.msg.filename }))\r\n          .catch(err=>console.log(err));\r\n      })\r\n    }\r\n  \r\n    abort() {\r\n      return Promise.reject()\r\n    }\r\n  }\r\n  export default function MyCustomUploadAdapterPlugin( editor ) {\r\n    editor.plugins.get( 'FileRepository' ).createUploadAdapter = ( loader ) => {\r\n        // Configure the URL to the upload script in your back-end here!\r\n        return new uploadImageDescriprption( loader );\r\n    };\r\n}\r\n","import React,{useEffect,useState,useRef,useLayoutEffect} from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport {Image,Table,Button,Drawer,Form,Input,Select,InputNumber,Upload,message,Modal} from 'antd';\r\nimport {EditOutlined,DeleteOutlined,UploadOutlined} from '@ant-design/icons';\r\nimport PreviewImmage from '../../elements/PreviewImmage';\r\nimport {getColumnSearchProps} from '../../elements/SearchFilter';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport MyCustomUploadAdapterPlugin from '../../contain/uploadImageDescriprption';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst {Option} = Select;\r\nexport default function ManageProduct(){\r\n    const location = useLocation();\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [drawerEdit, setdrawerEdit] = useState(false);\r\n    const [itemProductTmp, setitemProductTmp] = useState();\r\n    const [dataProduct, setdataProduct] = useState();\r\n    const [filterCategory, setfilterCategory] = useState();\r\n    const [filterProductType, setfilterProductType] = useState();\r\n    const searchInput = useRef();\r\n    const [formEdit] = Form.useForm();\r\n    const [optionCategory, setoptionCategory] = useState();\r\n    const [optionFullProductType, setoptionFullProductType] = useState();\r\n    const [optionProductType, setoptionProductType] = useState();\r\n    const [loadingBtn, setloadingBtn] = useState(false);\r\n    const [loadingTable, setloadingTable] = useState(false);\r\n    const [showModalDeleteProduct, setshowModalDeleteProduct] = useState(false);\r\n    const [imageListUp, setimageListUp] = useState([]);\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getFullProduct();\r\n    },[location])\r\n\r\n    useEffect(async()=>{\r\n        let arrTmpCateGory = [];\r\n        let arrTmpProductType = [];\r\n        const category = await FetchAPI.getAPI('/product/getCategory');\r\n        const productType = await FetchAPI.getAPI('/product/getProductType');\r\n        category.map((item,index)=>{\r\n            arrTmpCateGory.push(\r\n                <Option value={item.id}>{item.name}</Option>\r\n            )\r\n            if(index===category.length-1){\r\n                setoptionCategory(arrTmpCateGory)\r\n            }\r\n        });\r\n        productType.map((item,index)=>{\r\n            arrTmpProductType.push(\r\n                <Option value={[item.name,item.id,item.idCategory]}>{item.name}</Option>\r\n            )\r\n            if(index===productType.length-1){\r\n                setoptionFullProductType(arrTmpProductType)\r\n            }\r\n        })\r\n    },[])\r\n    useLayoutEffect(() => {\r\n        if(itemProductTmp!==undefined)\r\n            filterOption(itemProductTmp.idCategory,true);\r\n    },[drawerEdit])\r\n    \r\n    const filterOption = (value,init)=>{\r\n        let arrTmp = optionFullProductType;\r\n        arrTmp = arrTmp.filter(e=>e.props.value[2]===value);\r\n        setoptionProductType(arrTmp)\r\n        if(!init){\r\n            formEdit.setFieldsValue({nameProductType:null})\r\n        }  \r\n    }\r\n    const getFullProduct = async()=>{\r\n        let arrTmpCateGory = [];\r\n        let arrTmpProductType = [];\r\n        const product = await FetchAPI.getAPI('/product/getFullProductAdmin');\r\n        product.map((item,index)=>{\r\n            const posCategory = arrTmpCateGory.findIndex(x=>x.value===item.idCategory);\r\n            const posProductType = arrTmpProductType.findIndex(x=>x.value===item.idProductType)\r\n            if(posCategory===-1){\r\n                arrTmpCateGory.push({text:item.nameCategory,value:item.idCategory})\r\n            }\r\n            if(posProductType===-1){\r\n                arrTmpProductType.push({text:item.nameProductType,value:item.idProductType})\r\n            }\r\n            if(index===product.length-1){\r\n                setfilterCategory(arrTmpCateGory)\r\n                setfilterProductType(arrTmpProductType)\r\n            }\r\n        })\r\n        setshowContent(true);\r\n        setdataProduct(product)\r\n    }\r\n    const handleEditProduct = async()=>{\r\n        setloadingBtn(true);\r\n        const data = {\"data\":itemProductTmp};\r\n        const res = await FetchAPI.postDataAPI(\"/product/editProduct\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Cập nhật sản phẩm thành công !\")\r\n                setloadingBtn(false)\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\")\r\n                setloadingBtn(false)\r\n            }\r\n        }\r\n    }\r\n    const handleDeleteProduct = async()=>{\r\n        setloadingTable(true);\r\n        const data = {\"id\":itemProductTmp.id}\r\n        const res = await FetchAPI.postDataAPI(\"/product/deleteProduct\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Xóa sản phẩm thành công\");\r\n                getFullProduct();\r\n                setloadingTable(false);\r\n                setshowModalDeleteProduct(false);\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\");\r\n                setloadingTable(false);\r\n            }\r\n        }\r\n    }\r\n    const onChangeImage = ({ fileList: newFileList }) => {\r\n        if(newFileList.length===0){\r\n            itemProductTmp.image=\"\";\r\n            formEdit.setFieldsValue({image:null})\r\n        }else{\r\n            if(newFileList[0].response){\r\n                itemProductTmp.image=\"/Upload/ImageProduct/\"+newFileList[0].response.msg.filename\r\n                formEdit.setFieldsValue({image:\"/Upload/ImageProduct/\"+newFileList[0].response.msg.filename})\r\n            }\r\n        }\r\n        setimageListUp(newFileList);\r\n    };\r\n    const columns  = [\r\n        {\r\n            title:\"Mã sản phẩm\",\r\n            key:'id',\r\n            render: record=><span>{record.id}</span>\r\n        },\r\n        {\r\n            title:\"Tên sản phẩm\",\r\n            key:'name',\r\n            ...getColumnSearchProps('name',searchInput)\r\n            // render: record=><span>{record.name}</span>\r\n        },\r\n        {\r\n            title:\"Hình ảnh\",\r\n            key:'image',\r\n            render: record=><Image src={record.image} width={80} preview={{ mask:(<PreviewImmage small={true}/>)}}/>\r\n        },\r\n        {\r\n            title:\"Danh mục sản phẩm\",\r\n            key:'category',\r\n            filters:filterCategory,\r\n            onFilter: (value, record) =>record.idCategory===value,\r\n            render: record=>\r\n            <div style={{ textAlign: 'center'}}>\r\n                <span >{record.nameCategory}</span>\r\n            </div>\r\n        },\r\n        {\r\n            title:\"Loại sản phẩm\",\r\n            key:'product_type',\r\n            filters:filterProductType,\r\n            onFilter: (value, record) =>record.idProductType===value,\r\n            render:record=><span>{record.nameProductType}</span>\r\n        },\r\n        {\r\n            title:\"Trạng thái\",\r\n            key:'status',\r\n            render: record=>{\r\n                if(record.status===0){\r\n                    return <span>Hiển thị</span>\r\n                }else{\r\n                    return <span>Ẩn</span>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title:\"Chỉnh sửa\",\r\n            key:'edit',\r\n            render: record=>{\r\n                return(\r\n                    <div style={{ display:'flex',flexDirection:'row' }}>\r\n                        <Button \r\n                            type=\"primary\" \r\n                            style={{ borderRadius:10 }}\r\n                            onClick={()=>{\r\n                                setdrawerEdit(true);\r\n                                setitemProductTmp(record);\r\n                                formEdit.setFieldsValue(record);\r\n                                setimageListUp([{url:record.image}])\r\n                            }}\r\n                        >\r\n                            <EditOutlined />\r\n                        </Button>\r\n                        <Button \r\n                            type=\"primary\" \r\n                            danger \r\n                            style={{ borderRadius:10,marginLeft:20 }} \r\n                            onClick={()=>{\r\n                                setshowModalDeleteProduct(true);\r\n                                setitemProductTmp(record)\r\n                            }}\r\n                        >\r\n                            <DeleteOutlined />\r\n                        </Button>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n   \r\n    const DrawerEditProduct = ()=>(\r\n        <Drawer\r\n            title=\"Chỉnh sửa sản phẩm\" \r\n            placement=\"right\" \r\n            width={overflowX ?\"100%\":520}\r\n            getContainer={false}\r\n            onClose={()=>setdrawerEdit(false)} \r\n            visible={drawerEdit}\r\n        >\r\n            {itemProductTmp !==undefined &&\r\n            <Form \r\n                \r\n                form={formEdit}\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 14 }}\r\n                onFinish={handleEditProduct}\r\n            >\r\n                <Form.Item\r\n                    label=\"Tên sản phẩm\"\r\n                    name=\"name\"\r\n                    rules={[{ required: true, message: 'Tên sản phẩm không để trống!' }]}\r\n                >\r\n                    <Input \r\n                        placeholder=\"Tên sản phẩm\"\r\n                        value={itemProductTmp.name}\r\n                        onChange= {(e)=>{itemProductTmp.name=e.target.value;console.log(itemProductTmp)}}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Danh mục sản phẩm\"\r\n                    name=\"idCategory\"\r\n                    rules={[{ required: true, message: 'Danh mục sản phẩm không để trống!' }]}\r\n                >\r\n                    <Select\r\n                        onChange= {(e)=>{\r\n                            itemProductTmp.idCategory=e;\r\n                            filterOption(e);\r\n                        }\r\n                        } \r\n                    >\r\n                        {optionCategory}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item  \r\n                    label=\"Loại sản phẩm\"\r\n                    name=\"nameProductType\"\r\n                    rules={[{ required: true, message: 'Loại sản phẩm không để trống!' }]}\r\n                >\r\n                    <Select\r\n                        placeholder=\"Loại sản phẩm\"\r\n                        onChange= {(e)=>itemProductTmp.idProductType=e[1]} \r\n                    >\r\n                        {optionProductType}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Giá sản phẩm\"\r\n                    name=\"price\"\r\n                    rules={[{ required: true, message: 'Giá sản phẩm không để trống!' }]}\r\n                >\r\n                    <InputNumber\r\n                        placeholder=\"Giá sản phẩm\"\r\n                        formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                        min={0}\r\n                        value= {itemProductTmp.price}\r\n                        onChange={(e)=>itemProductTmp.price=e}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Giá khuyến mãi\"\r\n                    name=\"promotional\"\r\n                >\r\n                    <InputNumber\r\n                        placeholder=\"Giá khuyến mãi\"\r\n                        formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                        min={0}\r\n                        value={itemProductTmp.promotional}\r\n                        onChange= {(e)=>itemProductTmp.promotional=e}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Ảnh sản phẩm\"\r\n                    name=\"image\"\r\n                    rules={[{ required: true, message: 'Phải có ảnh gán cho sản phẩm!' }]}\r\n                >\r\n                    {/* <Image src={itemProductTmp.image} width={100} preview={false}/> */}\r\n                    <ImgCrop \r\n                        rotate\r\n                        grid\r\n                        aspect={1.5/2.2}\r\n                    >\r\n                        <Upload\r\n                            action=\"/uploads/uploadImageProduct\"\r\n                            listType=\"picture-card\"\r\n                            name=\"image\"\r\n                            fileList={imageListUp}\r\n                            onChange={onChangeImage}\r\n                        >\r\n                            {imageListUp.length<1 &&\r\n                                <div>\r\n                                    <UploadOutlined />\r\n                                    <span>   Tải ảnh lên</span> \r\n                                </div>\r\n                            }                            \r\n                        </Upload>  \r\n                    </ImgCrop>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Mô tả sản phẩm\"\r\n                    name=\"description\"\r\n                >\r\n                    <CKEditor\r\n                            editor={ ClassicEditor }\r\n                            data={itemProductTmp.description===null?\"\":itemProductTmp.description}\r\n                            config={{extraPlugins:[MyCustomUploadAdapterPlugin]}} //use this to upload image.\r\n                            onChange={ ( event, editor ) => {\r\n                                const data = editor.getData();\r\n                                itemProductTmp.description = data\r\n                            } }\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item style={{ paddingTop:20 }}  wrapperCol={{ span: 12, offset: 10 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" danger loading={loadingBtn}>\r\n                        Cập nhật\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n            }\r\n           \r\n        </Drawer>\r\n       \r\n    )\r\n    const ModalDeleteProduct = ()=>(\r\n        <div>\r\n        {showModalDeleteProduct &&\r\n        <Modal\r\n            title={`Xóa sản phẩm ${itemProductTmp.name}`}\r\n            visible={showModalDeleteProduct}\r\n            onCancel={()=>{setshowModalDeleteProduct(false)}}\r\n            onOk={handleDeleteProduct}\r\n            cancelText=\"Thoát\"\r\n            okText=\"Chắc chắn\"\r\n        >\r\n            <p>Nếu bạn xóa sản phẩm. Tất cả thông tin về sản phẩm và kho hàng sẽ bị xóa đi.</p>\r\n        </Modal>\r\n        }\r\n        </div>\r\n    )\r\n    return(\r\n        <div>\r\n        {showContent ? \r\n            <div>\r\n                <Table \r\n                    showSorterTooltip={{ title: 'Nhấn để sắp xếp' }}\r\n                    dataSource={dataProduct} \r\n                    columns={columns}\r\n                    pagination={{ defaultPageSize:5 }}\r\n                    style={overflowX?{overflowX:'scroll'}:null} \r\n                    loading={loadingTable}\r\n                />\r\n                 {DrawerEditProduct()}\r\n                 {ModalDeleteProduct()}\r\n            </div>\r\n\r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n        }\r\n        </div>\r\n    )\r\n}","import React,{useState,useEffect} from 'react';\r\nimport {Form,Input,Select,InputNumber,Upload,Button,PageHeader,message } from 'antd';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport {UploadOutlined} from '@ant-design/icons'\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport MyCustomUploadAdapterPlugin from '../../contain/uploadImageDescriprption';\r\nimport { useHistory } from 'react-router-dom';\r\nconst {Option} = Select;\r\nexport default function AddProduct(){\r\n    const [name, setname] = useState();\r\n    const [idcategory, setidcategory] = useState();\r\n    const [idproduct_type, setidproduct_type] = useState();\r\n    const [price, setprice] = useState();\r\n    const [promotional, setpromotional] = useState();\r\n    const [image, setimage] = useState([]);\r\n    const [imageDecription, setimageDecription] = useState([]);\r\n    const [description, setdescription] = useState(null);\r\n    const [optionFullProductType, setoptionFullProductType] = useState();\r\n    const [optionProductType, setoptionProductType] = useState();\r\n    const [optionCategory, setoptionCategory] = useState();\r\n    const [loadingBtn, setloadingBtn] = useState(false);\r\n    const [formadd] = Form.useForm();\r\n    const history = useHistory();\r\n    useEffect(async()=>{\r\n        let arrTmpCateGory = [];\r\n        let arrTmpProductType = [];\r\n        const category = await FetchAPI.getAPI('/product/getCategory');\r\n        const productType = await FetchAPI.getAPI('/product/getProductType');\r\n        category.map((item,index)=>{\r\n            arrTmpCateGory.push(\r\n                <Option value={item.id}>{item.name}</Option>\r\n            )\r\n            if(index===category.length-1){\r\n                setoptionCategory(arrTmpCateGory)\r\n            }\r\n        });\r\n        productType.map((item,index)=>{\r\n            arrTmpProductType.push(\r\n                <Option value={[item.name,item.id,item.idCategory]}>{item.name}</Option>\r\n            )\r\n            if(index===productType.length-1){\r\n                setoptionFullProductType(arrTmpProductType)\r\n            }\r\n        })\r\n    },[])\r\n    const handleAddProdcuct = async()=>{\r\n        setloadingBtn(true);\r\n        let imageUrl = null;\r\n        let url1 = null;\r\n        let url2 = null;\r\n        let url3 = null;\r\n        let url4 = null;\r\n        if(image.length!==0){\r\n            imageUrl = \"/Upload/ImageProduct/\"+image[0].response.msg.filename;\r\n        }\r\n        if(imageDecription.length!==0){\r\n            url1=\"/Upload/ImageProduct/\"+imageDecription[0].response.msg.filename\r\n            if(imageDecription.length>=2){\r\n                url2=\"/Upload/ImageProduct/\"+imageDecription[1].response.msg.filename\r\n            }\r\n            if(imageDecription.length>=3){\r\n                url3=\"/Upload/ImageProduct/\"+imageDecription[2].response.msg.filename\r\n            }\r\n            if(imageDecription.length===4){\r\n                url4=\"/Upload/ImageProduct/\"+imageDecription[3].response.msg.filename\r\n            }\r\n        }\r\n        const data = {\r\n            \"name\":name,\r\n            \"price\":price,\r\n            \"promotional\":promotional,\r\n            \"image\":imageUrl,\r\n            \"idCategory\":idcategory,\r\n            \"idProductType\":idproduct_type[1],\r\n            \"imageDecription1\":url1,\r\n            \"imageDecription2\":url2,\r\n            \"imageDecription3\":url3,\r\n            \"imageDecription4\":url4,\r\n            \"description\":description\r\n        }\r\n        console.log(data)\r\n        const res = await FetchAPI.postDataAPI(\"/product/addProduct\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Thêm sản phẩm thành công\");\r\n                formadd.setFieldsValue(null);\r\n                history.replace('/admin/notify_add_product')\r\n                setloadingBtn(false);\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\");\r\n                setloadingBtn(false);\r\n            }\r\n        }\r\n    }\r\n    const onPreviewImage = async file => {\r\n        let src = file.url;\r\n        if (!src) {\r\n          src = await new Promise(resolve => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file.originFileObj);\r\n            reader.onload = () => resolve(reader.result);\r\n          });\r\n        }\r\n        const image = new Image();\r\n        image.src = src;\r\n        const imgWindow = window.open(src);\r\n        imgWindow.document.write(image.outerHTML);\r\n      };\r\n    const onChangeImage = ({ fileList: newFileList }) => {\r\n        setimage(newFileList);\r\n        formadd.setFieldsValue({image:newFileList})\r\n    };\r\n    const onChangeImageDecription = ({ fileList: newFileList }) => {\r\n        setimageDecription(newFileList);\r\n    };\r\n    const filterOption = (value,init)=>{\r\n        let arrTmp = optionFullProductType;\r\n        arrTmp = arrTmp.filter(e=>e.props.value[2]===value);\r\n        setoptionProductType(arrTmp)\r\n        if(!init){\r\n            formadd.setFieldsValue({nameProductType:null})\r\n        }  \r\n    }\r\n  \r\n    return(\r\n        <div style={{ overflow:\"hidden\" }}>\r\n            <PageHeader\r\n                title=\"Thêm sản phẩm TheLONA\" \r\n                className=\"site-page-header\"\r\n            />\r\n            <Form \r\n            \r\n                form={formadd}\r\n                labelCol={{ xl:4,md:6,sm:8}}\r\n                wrapperCol={{ xl:17,md:15,sm:13 }}\r\n                onFinish={handleAddProdcuct}\r\n            >\r\n                <Form.Item\r\n                    label=\"Tên sản phẩm\"\r\n                    name=\"name\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập tên sản phẩm'}]}\r\n                >\r\n                    <Input \r\n                        placeholder=\"Nhập tên sản phẩm\"\r\n                        value={name}\r\n                        onChange= {e=>setname(e.target.value)}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Danh mục sản phẩm\"\r\n                    name=\"category\"\r\n                    rules={[{required:true, message:'Vui lòng chọn danh mục sản phẩm'}]}\r\n                >\r\n                    <Select\r\n                        placeholder=\"Danh mục sản phẩm\"\r\n                        value={idcategory}\r\n                        onChange={e=>{\r\n                            setidcategory(e);\r\n                            filterOption(e);\r\n                        }}\r\n                    >\r\n                        {optionCategory}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Loại sản phẩm\"\r\n                    name=\"productType\"\r\n                    rules={[{ required: true, message: 'Vui lòng chọn loại sản phẩm'}]}\r\n                >\r\n                    <Select\r\n                        value={idproduct_type}\r\n                        placeholder=\"Loại sản phẩm\"\r\n                        onChange= {e=>setidproduct_type(e)}\r\n                    >\r\n                        {optionProductType}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Giá sản phẩm\"\r\n                    name=\"price\"\r\n                    rules={[{ required: true, message: 'Vui lòng nhập giá sản phẩm'}]}\r\n                >\r\n                    <InputNumber \r\n                        placeholder=\"Giá sản phẩm\"\r\n                        formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                        min={0}\r\n                        style={{ width:200 }}\r\n                        value={price}\r\n                        onChange= {e=>setprice(e)}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item \r\n                    label=\"Giá khuyến mãi\"\r\n                    name=\"promotional\"\r\n                >\r\n                    <InputNumber\r\n                        placeholder=\"Giá khuyến mãi\"\r\n                        formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                        min={0}\r\n                        style={{ width:200 }}\r\n                        value={promotional}\r\n                        onChange= {e=>setpromotional(e)}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Ảnh sản phẩm\"\r\n                    name=\"image\"\r\n                    valuePropName=\"fileList\"\r\n                    rules={[{ required: true, message: 'Vui lòng chọn ảnh sản phẩm'}]}\r\n                >\r\n                <ImgCrop \r\n                    rotate\r\n                    grid\r\n                    aspect={1.5/2.2}\r\n                >\r\n                    <Upload\r\n                        action=\"/uploads/uploadImageProduct\"\r\n                        listType=\"picture-card\"\r\n                        name=\"image\"\r\n                        fileList={image}\r\n                        onChange={onChangeImage}\r\n                        onPreview={onPreviewImage}\r\n                    >\r\n                        {image.length===0 && \r\n                        <div>\r\n                            <UploadOutlined />\r\n                            <span>   Tải ảnh lên</span> \r\n                        </div>\r\n                        }\r\n                    </Upload>  \r\n                </ImgCrop>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Ảnh mô tả chi tiết\"\r\n                    name=\"imageDecription\"\r\n                >\r\n                <ImgCrop \r\n                    rotate\r\n                    aspect={1.5/2.2}\r\n                    grid\r\n                >\r\n                    <Upload\r\n                        action=\"/uploads/uploadImageProduct\"\r\n                        listType=\"picture-card\"\r\n                        name=\"image\"\r\n                        fileList={imageDecription}\r\n                        onChange={onChangeImageDecription}\r\n                        onPreview={onPreviewImage}\r\n                    >\r\n                        {imageDecription.length<4 && \r\n                        <div>\r\n                            <UploadOutlined />\r\n                            <span>   Tải ảnh lên</span> \r\n                        </div>\r\n                        }\r\n                    </Upload>  \r\n                    </ImgCrop>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Mô tả sản phẩm\"\r\n                    name=\"decription\"\r\n                >\r\n                     <CKEditor\r\n                            editor={ ClassicEditor }\r\n                            data={description}\r\n                        \r\n                            config={{extraPlugins:[MyCustomUploadAdapterPlugin]}} //use this to upload image.\r\n\r\n                            onChange={ ( event, editor ) => {\r\n                                const data = editor.getData();\r\n                                setdescription(data);\r\n                            } }\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item style={{ paddingTop:20 }} wrapperCol={{ span: 12, offset: 12 }}>\r\n                    <Button \r\n                        type=\"primary\" \r\n                        htmlType=\"submit\" \r\n                        style={{ height:50,borderRadius:10 }} \r\n                        danger \r\n                        loading={loadingBtn}\r\n                    >\r\n                        Thêm sản phẩm\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}","import React,{useEffect,useState} from 'react';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {Table,Button,Form,Input,Select,Modal,message,Drawer,Upload} from 'antd';\r\nimport {PlusCircleOutlined,EditOutlined,DeleteOutlined} from '@ant-design/icons';\r\nimport Spinner from '../../elements/spinner';\r\nimport {useSelector} from 'react-redux';\r\nimport {UploadOutlined} from '@ant-design/icons';\r\nimport ImgCrop from 'antd-img-crop';\r\nconst {Option} = Select;\r\nexport default function ManageCategory(){\r\n    const [dataFullCategory, setdataFullCategory] = useState();\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [dataFullProduct, setdataFullProduct] = useState();\r\n    const [showModalAdd, setshowModalAdd] = useState(false);\r\n    const [drawerEdit, setdrawerEdit] = useState(false);\r\n    const [dataAdd, setdataAdd] = useState({});\r\n    const [itemTmp, setitemTmp] = useState({});\r\n    const [loadingBtn, setloadingBtn] = useState();\r\n    const [formAdd] = Form.useForm();\r\n    const [formEdit] = Form.useForm();\r\n    const [logoCategory, setlogoCategory] = useState([]);\r\n    const [logoTmp, setlogoTmp] = useState([]);\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getCategory()\r\n    },[])\r\n    const getCategory = async()=>{\r\n        const res = await FetchAPI.getAPI('/product/getCategory');\r\n        const product = await FetchAPI.getAPI('/product/getFullProduct');\r\n        setdataFullCategory(res)\r\n        setdataFullProduct(product);\r\n        setshowContent(true)\r\n    }\r\n    const handleAddCategory = async()=>{\r\n        setloadingBtn(true);\r\n        const data = {\"data\":dataAdd,\"logo\":\"/Upload/ImageDescription/\"+logoCategory[0].response.msg.filename};\r\n        const res = await FetchAPI.postDataAPI(\"/product/addCategory\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Thêm mới thành công\");\r\n                getCategory();\r\n                setdataAdd({});\r\n                formAdd.setFieldsValue({name:\"\",status:null})\r\n                setloadingBtn(false)\r\n                setshowModalAdd(false)\r\n\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\")\r\n                setloadingBtn(false)\r\n            }\r\n        }\r\n    }\r\n    const handleEditCategory = async()=>{\r\n        setloadingBtn(true);\r\n        const data = {\"data\":itemTmp,\"logo\":\"/Upload/ImageDescription/\"+logoTmp[0].response.msg.filename};\r\n        const res = await FetchAPI.postDataAPI(\"/product/editCategory\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Cập nhật thành công\");\r\n                getCategory();\r\n                setitemTmp({})\r\n                formEdit.setFieldsValue({name:\"\",status:null})\r\n                setloadingBtn(false)\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\")\r\n            }\r\n        }\r\n    }\r\n    const onChangeImage = ({ fileList: newFileList }) => {\r\n        setlogoCategory(newFileList);\r\n        formAdd.setFieldsValue({logo:newFileList})\r\n    };\r\n    const onChangeLogoEdit = ({ fileList: newFileList }) => {\r\n        setlogoTmp(newFileList);\r\n        formEdit.setFieldsValue({logo:newFileList})\r\n    };\r\n    const columns = [\r\n        {\r\n            title:\"Mã danh mục\",\r\n            name:\"id\",\r\n            render: record=><span style={{fontWeight:'bold'}}>{\"#\"+record.id}</span>\r\n        },\r\n        {\r\n            title:\"Tên danh mục\",\r\n            name:\"name\",\r\n            render: record=><span>{record.name}</span>\r\n        },\r\n        {\r\n            title:\"Số sản phẩm danh mục\",\r\n            name:\"product\",\r\n            render:record=>{\r\n                let i = 0;\r\n                dataFullProduct.map((e)=>{\r\n                    if(e.idCategory===record.id){\r\n                        i++\r\n                    }\r\n                })\r\n                return (<span>{i+\" sản phẩm\"}</span>)\r\n            }\r\n        }, \r\n        {\r\n            title:\"Tùy chỉnh\",\r\n            name:\"option\",\r\n            render: record=>{\r\n                return(\r\n                    <div style={{ display:'flex',flexDirection:'row' }}>\r\n                        <Button \r\n                            type=\"primary\" \r\n                            style={{ borderRadius:10 }}\r\n                            onClick={()=>{\r\n                                setdrawerEdit(true);\r\n                                setitemTmp(record);\r\n                                formEdit.setFieldsValue(record);\r\n                                if(record.logo!==null){\r\n                                    setlogoTmp([{url:record.logo}]);\r\n                                }else{\r\n                                    setlogoTmp([])\r\n                                }\r\n                            }}\r\n                        >\r\n                            <EditOutlined />\r\n                        </Button>\r\n                       \r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n    const DrawerEdit = ()=>(\r\n        <Drawer\r\n            title=\"Chỉnh danh mục sản phẩm\"\r\n            visible={drawerEdit}\r\n            width={overflowX ?\"100%\":520}\r\n            onClose={()=>setdrawerEdit(false)}\r\n        >\r\n            <Form\r\n              form={formEdit}\r\n              labelCol={{ span: 8 }}\r\n              wrapperCol={{ span: 14 }}\r\n              onFinish={handleEditCategory}\r\n            >\r\n                <Form.Item\r\n                    label=\"Tên danh mục sản phẩm\"\r\n                    name=\"name\"\r\n                >\r\n                    <Input\r\n                        placeholder=\"Nhập tên danh mục sản phẩm\"\r\n                        value={itemTmp.name}\r\n                        onChange= {(e)=>itemTmp.name=e.target.value}\r\n                    /> \r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Trạng thái\"\r\n                    name=\"status\"\r\n                >\r\n                    <Select\r\n                        value={itemTmp.status}\r\n                        onChange= {(e)=>itemTmp.status=e}\r\n                    >\r\n                        <Option value={0}>\r\n                            Hiển thị\r\n                        </Option>\r\n                        <Option value={1}>\r\n                            Ẩn\r\n                        </Option>\r\n\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Logo\"\r\n                    name=\"logo\"\r\n                    rules={[{ required: true, message: 'Vui lòng chọn logo'}]}\r\n                >\r\n                     <ImgCrop \r\n                        rotate\r\n                        grid\r\n                        aspect={1.5/2.2}\r\n                    >\r\n                        <Upload\r\n                            action=\"/uploads/uploadImageProductDescription\"\r\n                            listType=\"picture-card\"\r\n                            name=\"image\"\r\n                            fileList={logoTmp}\r\n                            onChange={onChangeLogoEdit}\r\n                        >\r\n                            {logoTmp.length<1 &&\r\n                                <div>\r\n                                    <UploadOutlined />\r\n                                    <span>   Tải ảnh lên</span> \r\n                                </div>\r\n                            }                            \r\n                        </Upload>  \r\n                    </ImgCrop>\r\n                </Form.Item>\r\n                <Form.Item style={{ paddingTop:20 }}  wrapperCol={{ span: 12, offset: 10 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" danger loading={loadingBtn}>\r\n                        Cập nhật\r\n                    </Button>\r\n                    <Button type=\"primary\" danger style={{ borderRadius:10,marginLeft:20 }}>\r\n                            <DeleteOutlined />\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Drawer>\r\n    )\r\n    const ModalAddNew = ()=>(\r\n        <Modal\r\n            title=\"Thêm mới loại sản phẩm\"\r\n            visible={showModalAdd}\r\n            onCancel={()=>setshowModalAdd(false)}\r\n            footer={false}\r\n        >\r\n            <Form\r\n                form={formAdd}\r\n                labelCol={{ span: 9 }}\r\n                wrapperCol={{ span: 12 }}\r\n                onFinish={handleAddCategory}\r\n            >\r\n                <Form.Item\r\n                    label=\"Tên danh mục sản phẩm\"\r\n                    name=\"name\"\r\n                    rules={[{ required: true, message: 'Nhập tên danh mục sản phẩm'}]}\r\n                >\r\n                    <Input\r\n                        placeholder=\"Nhập tên danh mục sản phẩm\"\r\n                        value={dataAdd.name}\r\n                        onChange= {(e)=>setdataAdd({...dataAdd,name:e.target.value})}\r\n                    /> \r\n                </Form.Item>\r\n    \r\n                <Form.Item\r\n                    label=\"Trạng thái\"\r\n                    name=\"status\"\r\n                    rules={[{ required: true, message: 'Chọn trạng thái'}]}\r\n                >\r\n                    <Select\r\n                        value={dataAdd.status}\r\n                        onChange= {(e)=>setdataAdd({...dataAdd,status:e})}\r\n                    >\r\n                        <Option value={0}>\r\n                            Hiển thị\r\n                        </Option>\r\n                        <Option value={1}>\r\n                            Ẩn\r\n                        </Option>\r\n\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Logo\"\r\n                    name=\"logo\"\r\n                    rules={[{ required: true, message: 'Bạn phải chọn logo cho danh mục sản phẩm'}]}\r\n                >\r\n                <ImgCrop \r\n                    rotate\r\n                    grid\r\n                    aspect={1.5/2.2}\r\n                >\r\n                    <Upload\r\n                        action=\"/uploads/uploadImageProductDescription\"\r\n                        listType=\"picture-card\"\r\n                        name=\"image\"\r\n                        fileList={logoCategory}\r\n                        onChange={onChangeImage}\r\n                    >\r\n                        {logoCategory.length===0 && \r\n                        <div>\r\n                            <UploadOutlined />\r\n                            <span>   Tải ảnh lên</span> \r\n                        </div>\r\n                        }\r\n                    </Upload>  \r\n                </ImgCrop>\r\n                </Form.Item>\r\n                <Form.Item style={{ paddingTop:20 }}  wrapperCol={{ span: 12, offset: 10 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" danger loading={loadingBtn}>\r\n                        Thêm mới\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n    return(\r\n        <div>\r\n            {showContent ?\r\n            <div>\r\n                <Button type=\"primary\" style={{ marginBottom:20 }} danger onClick={()=>setshowModalAdd(true)}>\r\n                    Thêm mới <PlusCircleOutlined />\r\n                </Button>\r\n                <Table \r\n                    columns={columns}\r\n                    dataSource={dataFullCategory}\r\n                    style={overflowX?{overflowX:'scroll'}:null} \r\n                />\r\n                {ModalAddNew()}\r\n                {DrawerEdit()}\r\n            </div>            \r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React,{useEffect,useState,useRef} from 'react';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {Table,Select,Button,Drawer,Form,Input,message,Modal} from 'antd';\r\nimport Spinner from '../../elements/spinner';\r\nimport {EditOutlined,DeleteOutlined,PlusCircleOutlined} from '@ant-design/icons';\r\nimport {useSelector} from 'react-redux';\r\nimport {getColumnSearchProps} from '../../elements/SearchFilter';\r\nconst {Option} = Select;\r\nexport default function ManageProductType(){\r\n    const [dataFullProductType, setdataFullProductType] = useState();\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [optionCategory, setoptionCategory] = useState();\r\n    const [drawerEdit, setdrawerEdit] = useState(false);\r\n    const [showModalAdd, setshowModalAdd] = useState(false);\r\n    const [itemTmp, setitemTmp] = useState({});\r\n    const [dataAdd, setdataAdd] = useState({});\r\n    const [dataFullProduct, setdataFullProduct] = useState();\r\n    const [formEdit] = Form.useForm();\r\n    const [formAdd] = Form.useForm();\r\n    const [loadingBtn, setloadingBtn] = useState(false);\r\n    const searchInput = useRef();\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        getProductType()\r\n    },[])\r\n    const getProductType = async()=>{\r\n        const product_type = await FetchAPI.getAPI('/product/getProductType');\r\n        const category = await FetchAPI.getAPI('/product/getCategory');\r\n        const product = await FetchAPI.getAPI('/product/getFullProduct');\r\n        let arrTmp = [];\r\n        category.map((item,index)=>{\r\n            arrTmp.push(\r\n                <Option value={item.id}>{item.name}</Option>\r\n            )\r\n            if(index===category.length-1){\r\n                setoptionCategory(arrTmp)\r\n            }\r\n        })\r\n        setdataFullProductType(product_type);\r\n        setdataFullProduct(product);\r\n        setshowContent(true)\r\n    }\r\n    const handleEditProductType = async()=>{\r\n        setloadingBtn(true);\r\n        const data = {\"data\":itemTmp};\r\n        const res = await FetchAPI.postDataAPI(\"/product/editProductType\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Cập nhật thành công\");\r\n                getProductType();\r\n                setloadingBtn(false)\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\")\r\n                setloadingBtn(false)\r\n            }\r\n        }\r\n    }\r\n    const handleAddProductType = async()=>{\r\n        setloadingBtn(true);\r\n        const data = {\"data\":dataAdd};\r\n        const res = await FetchAPI.postDataAPI(\"/product/addProducType\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Thêm mới thành công\");\r\n                getProductType();\r\n                setshowModalAdd(false);\r\n                setdataAdd({});\r\n                formAdd.setFieldsValue({name:\"\",idCategory:null,status:null})\r\n                setloadingBtn(false);\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\")\r\n                setloadingBtn(false)\r\n            }\r\n        }\r\n    }\r\n    const columns = [\r\n        {\r\n            title:\"Mã loại sản phẩm\",\r\n            name:\"id\",\r\n            render: record=><span>{\"#\"+record.id}</span>\r\n        },\r\n        {\r\n            title:\"Tên loại sản phẩm\",\r\n            name:\"name\",\r\n            ...getColumnSearchProps('name',searchInput),\r\n            // render: record=><span>{record.name}</span>\r\n        },\r\n        {\r\n            title:\"Số sản phẩm danh mục\",\r\n            name:\"product\",\r\n            render:record=>{\r\n                let i = 0;\r\n                dataFullProduct.map((e)=>{\r\n                    if(e.idProductType===record.id){\r\n                        i++\r\n                    }\r\n                })\r\n                return (<span>{i+\" sản phẩm\"}</span>)\r\n            }\r\n        },\r\n        {\r\n            title:\"Danh mục sản phẩm\",\r\n            name:\"nameCategory\",\r\n            render: record=>(\r\n                <span>{record.nameCategory}</span>\r\n            )\r\n        },\r\n        {\r\n            title:\"Trạng thái\",\r\n            name:\"status\",\r\n            render: record=>{\r\n                if(record.status===0){\r\n                    return <span>Hiển thị</span>\r\n                }else{\r\n                    return <span>Ẩn</span>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title:\"Tùy chỉnh\",\r\n            name:\"option\",\r\n            render: record=>{\r\n                return(\r\n                    <div style={{ display:'flex',flexDirection:'row' }}>\r\n                        <Button \r\n                            type=\"primary\" \r\n                            style={{ borderRadius:10 }}\r\n                            onClick={()=>{\r\n                                setdrawerEdit(true);\r\n                                setitemTmp(record);\r\n                                formEdit.setFieldsValue(record);\r\n                            }}\r\n                        >\r\n                            <EditOutlined />\r\n                        </Button>\r\n                       \r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n    const DrawerEdit = ()=>(\r\n        <Drawer\r\n            title=\"Chỉnh sửa loại sản phẩm\"\r\n            visible={drawerEdit}\r\n            width={overflowX ?\"100%\":520}\r\n            onClose={()=>setdrawerEdit(false)}\r\n        >\r\n            <Form\r\n              form={formEdit}\r\n              labelCol={{ span: 8 }}\r\n              wrapperCol={{ span: 14 }}\r\n              onFinish={handleEditProductType}\r\n            >\r\n                <Form.Item\r\n                    label=\"Tên loại sản phẩm\"\r\n                    name=\"name\"\r\n                >\r\n                    <Input\r\n                        placeholder=\"Nhập tên loại sản phẩm\"\r\n                        value={itemTmp.name}\r\n                        onChange= {(e)=>itemTmp.name=e.target.value}\r\n                    /> \r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Danh mục sản phẩm\"\r\n                    name=\"idCategory\"\r\n                >\r\n                    <Select\r\n                        value={itemTmp.idCategory}\r\n                        onChange= {(e)=>itemTmp.idCategory=e}\r\n                    >\r\n                        {optionCategory}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Trạng thái\"\r\n                    name=\"status\"\r\n                >\r\n                    <Select\r\n                        value={itemTmp.status}\r\n                        onChange= {(e)=>itemTmp.status=e}\r\n                    >\r\n                        <Option value={0}>\r\n                            Hiển thị\r\n                        </Option>\r\n                        <Option value={1}>\r\n                            Ẩn\r\n                        </Option>\r\n\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item style={{ paddingTop:20 }}  wrapperCol={{ span: 12, offset: 10 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" danger loading={loadingBtn}>\r\n                        Cập nhật\r\n                    </Button>\r\n                    <Button type=\"primary\" danger style={{ borderRadius:10,marginLeft:20 }}>\r\n                            <DeleteOutlined />\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Drawer>\r\n    )\r\n    const ModalAddNew = ()=>(\r\n        <Modal\r\n            title=\"Thêm mới loại sản phẩm\"\r\n            visible={showModalAdd}\r\n            onCancel={()=>setshowModalAdd(false)}\r\n            footer={false}\r\n        >\r\n            <Form\r\n                form={formAdd}\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 14 }}\r\n                onFinish={handleAddProductType}\r\n            >\r\n                <Form.Item\r\n                    label=\"Tên loại sản phẩm\"\r\n                    name=\"name\"\r\n                    rules={[{ required: true, message: 'Nhập tên loại sản phẩm'}]}\r\n                >\r\n                    <Input\r\n                        placeholder=\"Nhập tên loại sản phẩm\"\r\n                        value={dataAdd.name}\r\n                        onChange= {(e)=>setdataAdd({...dataAdd,name:e.target.value})}\r\n                    /> \r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Danh mục sản phẩm\"\r\n                    name=\"idCategory\"\r\n                    rules={[{ required: true, message: 'Chọn danh mục sản phẩm'}]}\r\n                >\r\n                    <Select\r\n                        value={dataAdd.idCategory}\r\n                        onChange= {(e)=>setdataAdd({...dataAdd,idCategory:e})}\r\n                    >\r\n                        {optionCategory}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"Trạng thái\"\r\n                    name=\"status\"\r\n                    rules={[{ required: true, message: 'Chọn trạng thái'}]}\r\n                >\r\n                    <Select\r\n                        value={dataAdd.status}\r\n                        onChange= {(e)=>setdataAdd({...dataAdd,status:e})}\r\n                    >\r\n                        <Option value={0}>\r\n                            Hiển thị\r\n                        </Option>\r\n                        <Option value={1}>\r\n                            Ẩn\r\n                        </Option>\r\n\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item style={{ paddingTop:20 }}  wrapperCol={{ span: 12, offset: 10 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" danger loading={loadingBtn}>\r\n                       Thêm mới\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Modal>\r\n    )\r\n    return(\r\n        <div>\r\n            {showContent ?\r\n            <div>\r\n            <Button type=\"primary\" style={{ marginBottom:20 }} danger onClick={()=>setshowModalAdd(true)}>\r\n                Thêm mới <PlusCircleOutlined />\r\n            </Button>\r\n            <div>\r\n                <Table \r\n                    columns={columns}\r\n                    dataSource={dataFullProductType}\r\n                    style={overflowX?{overflowX:'scroll'}:null} \r\n                />\r\n                {DrawerEdit()}\r\n                {ModalAddNew()}\r\n            </div>      \r\n            </div>      \r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Result,Button } from 'antd';\r\nimport {Link} from 'react-router-dom';\r\nexport default function NotifyAddProductSucess(){\r\n    return(\r\n        <div>\r\n            <Result\r\n                style={{ height:450,paddingTop:50 }}\r\n                status=\"success\"\r\n                title=\"Thêm mới sản phẩm thành công!\"\r\n                subTitle=\"Sản phẩm của bạn đã được thêm\"\r\n                extra={[\r\n                <Button type=\"primary\">\r\n                    <Link to=\"/admin\">\r\n                    Quay lại trang chủ\r\n                    </Link>\r\n                </Button>,\r\n                <Button >\r\n                    <Link to=\"/admin/manageProduct\">\r\n                    Quản lý sản phẩm\r\n                    </Link>\r\n                </Button>,\r\n            ]}\r\n          />\r\n        </div>\r\n    )\r\n}","import React,{useEffect,useState,useRef} from 'react';\r\nimport {Table,Rate,Image} from 'antd';\r\nimport Spinner from '../../elements/spinner';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {getColumnSearchProps} from '../../elements/SearchFilter';\r\nimport { useSelector } from 'react-redux';\r\nexport default function ViewReview(){\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [dataFullReview, setdataFullReview] = useState({});\r\n    const searchInput = useRef();\r\n    const overflowX = useSelector(state=>state.layoutReducer.overflowX);\r\n    useEffect(()=>{\r\n        getFullReview()\r\n    },[])\r\n    const getFullReview = async()=>{\r\n        const res = await FetchAPI.getAPI(\"/review/getFullReview\");\r\n        console.log(res)\r\n        setdataFullReview(res);\r\n        setshowContent(true)\r\n    }\r\n    const columns  = [\r\n        {\r\n            title:\"Tên sản phẩm\",\r\n            key:'Product',\r\n            ...getColumnSearchProps('nameProduct',searchInput),\r\n            render: record=>(\r\n                <div style={{ display:'flex',alignItems:'center' }}>\r\n                    <Image src={record.imageProduct} width={80} preview={false}/>\r\n                    <span style={{ marginLeft:20 }}>{record.nameProduct}</span>\r\n                </div>\r\n            )\r\n        },\r\n        {\r\n            title:\"Email khách hàng\",\r\n            key:'emailUser',\r\n            ...getColumnSearchProps('emailUser',searchInput)\r\n        },\r\n        {\r\n            title:\"Số sao\",\r\n            key:'reviewStar',\r\n            render: record=>(\r\n                <Rate \r\n                    value={record.reviewStar}\r\n                    disabled\r\n                />\r\n            )\r\n        },\r\n        {\r\n            title:\"Đánh giá của khách hàng\",\r\n            key:'comment',\r\n            render: record=><span>{record.comment}</span>\r\n        }\r\n\r\n    ]\r\n    return(\r\n        <div>\r\n            {showContent ? \r\n            <div>\r\n                <Table \r\n                    columns={columns}\r\n                    dataSource={dataFullReview}\r\n                    style={overflowX?{overflowX:'scroll'}:null} \r\n                />\r\n            </div>\r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import {createSlice} from '@reduxjs/toolkit';\r\n\r\nconst layoutSlice = createSlice({\r\n    name: 'product',\r\n    initialState:{\r\n        overflowX:false\r\n    },\r\n    reducers:{\r\n        updateOverflowX: (state,action) =>{\r\n            state.overflowX = action.payload;\r\n        },\r\n    }\r\n})\r\n\r\nexport const {updateOverflowX} = layoutSlice.actions;\r\n\r\nexport default layoutSlice.reducer;","import React,{useEffect,useState,useLayoutEffect} from 'react';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport {Layout,Menu,Image,message} from 'antd';\r\nimport logo from '../../images/lo-go.png';\r\nimport '../../css/Admin.css'; \r\nimport {Switch,Route, NavLink,useHistory,useLocation} from \"react-router-dom\";\r\nimport HomeAdmin from './HomeAdmin';\r\nimport Invoices from './Invoices';\r\nimport Inventory from './Inventory';\r\nimport AccountManger from './AccountManger';\r\nimport SaleManager from './SaleManager';\r\nimport BillDetails from './BillDetails';\r\nimport AddInventory from './AddInventory';\r\nimport ManageProduct from './ManageProduct';\r\nimport AddProduct from './AddProduct';\r\nimport ManageCategory from './ManageCategory';\r\nimport ManageProductType from './ManageProductType';\r\nimport NotifyAddProductSucess from './NotifyAddProductSucess';\r\nimport ViewReview from './ViewReview';\r\nimport { useDispatch } from 'react-redux';\r\nimport {updateOverflowX} from '../../redux/reducer/layout.reducer';\r\nimport {\r\n    MenuUnfoldOutlined,\r\n    MenuFoldOutlined,\r\n    BarChartOutlined,\r\n    DropboxOutlined,\r\n    ContainerOutlined,\r\n    UserOutlined,\r\n    PoweroffOutlined,\r\n    ShopOutlined,\r\n    GiftOutlined,\r\n    DatabaseOutlined,\r\n    StarOutlined\r\n} from '@ant-design/icons';\r\nconst { Header, Sider, Content } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function Admin(){\r\n    const history = useHistory();\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [collapsed, setcollapsed] = useState(false);\r\n    const [widthColl, setwidthColl] = useState(80);\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n    const key = \"logout\";\r\n\r\n    useLayoutEffect(() => {\r\n        function updateSize() {\r\n            if(window.innerWidth<700){\r\n                setcollapsed(true);\r\n                setwidthColl(0);\r\n                dispatch(updateOverflowX(true))\r\n            }else{\r\n                setwidthColl(80);\r\n                dispatch(updateOverflowX(false))\r\n            }\r\n        }\r\n        window.addEventListener('resize', updateSize);\r\n        updateSize();\r\n    }, []);\r\n\r\n        useLayoutEffect(()=>{ \r\n            document.getElementsByClassName(\"header-nav\")[0].style.display = 'none';\r\n            document.getElementsByClassName(\"footer\")[0].style.display = 'none';\r\n            // document.getElementsByClassName(\"sc-bqiRlB bHmrDE rsc-float-button\")[0].style.display = 'none';\r\n        },[])\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        const token = localStorage.getItem(\"token_admin\");\r\n        if(token==undefined){\r\n            history.push('/loginadmin')\r\n        }else{\r\n            checkAccountAdmin(token);\r\n        }\r\n    },[])\r\n    const checkAccountAdmin = async(token)=>{\r\n        const data = {\"token\":token};\r\n        const res = await FetchAPI.postDataAPI(\"/user/getUser\",data);\r\n        if(res.msg){\r\n            if(res.msg.message ===\"jwt expired\"){\r\n                localStorage.removeItem(\"token_admin\");\r\n                history.push('/loginadmin');\r\n                return false;\r\n            }\r\n        }\r\n        if(res[0].ruler===1){\r\n            setshowContent(true);\r\n            if(location.pathname===\"/admin\"){\r\n                history.push('/admin/home')\r\n            }\r\n        }else{\r\n            localStorage.removeItem(\"token_admin\");\r\n            history.push('/loginadmin');\r\n        }\r\n    }\r\n    const handleLogout = ()=>{\r\n        message.loading({ content: 'Đang đăng xuất...', key });\r\n        setTimeout(()=>{\r\n            localStorage.removeItem(\"token_admin\");\r\n            message.success({ content: 'Đăng xuất thành công!', key, duration: 2 });\r\n            history.push('/loginadmin');\r\n        },1000)\r\n    }\r\n    const currentMenuKeyInventory = (key)=>{\r\n        console.log(location.pathname.search(key));\r\n        if (location.pathname.search(key) >= 0) {\r\n          return location.pathname;\r\n        }else{\r\n          return \"/admin/addInventory\"\r\n        }\r\n    }\r\n    const NavMenu = ()=>(\r\n            <Menu \r\n                theme=\"dark\" \r\n                mode=\"inline\" \r\n                defaultSelectedKeys={['/admin/home']} \r\n                style={{ paddingTop:20 }} \r\n                selectedKeys={[location.pathname]}\r\n            >\r\n                <Menu.Item key=\"/admin/home\" icon={<BarChartOutlined />}>\r\n                    <NavLink to=\"/admin/home\">\r\n                        Tổng quan\r\n                    </NavLink>\r\n                </Menu.Item>\r\n                <SubMenu key=\"sub1\" icon={<DropboxOutlined />} title=\"Sản phẩm\">\r\n                    <Menu.Item key=\"/admin/addproduct\">\r\n                        <NavLink to=\"/admin/addproduct\">\r\n                            Thêm sản phẩm\r\n                        </NavLink>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"/admin/manageProduct\">\r\n                        <NavLink to=\"/admin/manageProduct\">\r\n                            Sửa, Xóa sản phẩm\r\n                        </NavLink>\r\n                    </Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub2\" icon={<DatabaseOutlined/>} title=\"Danh mục\">\r\n                    <Menu.Item key=\"/admin/category\">\r\n                        <NavLink to=\"/admin/category\"> \r\n                            Danh mục sản phẩm\r\n                        </NavLink>\r\n                    </Menu.Item>    \r\n                    <Menu.Item key=\"/admin/producttype\">\r\n                        <NavLink to=\"/admin/producttype\">\r\n                            Loại sản phẩm\r\n                        </NavLink>\r\n                    </Menu.Item> \r\n                </SubMenu>\r\n                <Menu.Item key=\"/admin/invoices\" icon={<ContainerOutlined />}>\r\n                    <NavLink to=\"/admin/invoices\">\r\n                        Hóa đơn\r\n                    </NavLink>\r\n                </Menu.Item>\r\n                <Menu.Item key={currentMenuKeyInventory(\"/admin/inventory\")} icon={<ShopOutlined />}>\r\n                    <NavLink to=\"/admin/inventory\">\r\n                        Kho hàng\r\n                    </NavLink>    \r\n                </Menu.Item>\r\n                <Menu.Item key=\"/admin/account\" icon={<UserOutlined />}>\r\n                    <NavLink to=\"/admin/account\">\r\n                        Tài khoản\r\n                    </NavLink>    \r\n                </Menu.Item>\r\n                <Menu.Item key=\"/admin/sale\" icon={<GiftOutlined />}>\r\n                    <NavLink to=\"/admin/sale\">\r\n                        Sự kiện ưu đãi\r\n                    </NavLink>    \r\n                </Menu.Item>\r\n                <Menu.Item key=\"/admin/review\" icon={<StarOutlined />}>\r\n                    <NavLink to=\"/admin/review\">\r\n                        Đánh giá sản phẩm\r\n                    </NavLink>    \r\n                </Menu.Item>\r\n                <Menu.Item icon={<PoweroffOutlined />} onClick={handleLogout}>\r\n                    Đăng xuất\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n    const Body = ()=>(\r\n        <Switch>\r\n            <Route path=\"/admin/home\">\r\n                <HomeAdmin />\r\n            </Route>\r\n            <Route path=\"/admin/invoices\">\r\n                <Invoices />\r\n            </Route>\r\n            <Route path=\"/admin/inventory\">\r\n                <Inventory />\r\n            </Route>\r\n            <Route path=\"/admin/account\">\r\n                <AccountManger />\r\n            </Route>\r\n            <Route path=\"/admin/sale\">\r\n                <SaleManager />\r\n            </Route>\r\n            <Route path=\"/admin/billdetails/:idBill\">\r\n                <BillDetails/>\r\n            </Route>\r\n            <Route path=\"/admin/addInventory\">\r\n                <AddInventory />\r\n            </Route>\r\n            <Route path=\"/admin/manageProduct\">\r\n                <ManageProduct />\r\n            </Route>\r\n            <Route path=\"/admin/addproduct\">\r\n                <AddProduct/>\r\n            </Route>\r\n            <Route path=\"/admin/category\">\r\n                <ManageCategory/>\r\n            </Route>\r\n            <Route path=\"/admin/producttype\">\r\n                <ManageProductType/>\r\n            </Route>\r\n            <Route path=\"/admin/review\">\r\n                <ViewReview/>\r\n            </Route>\r\n            <Route path=\"/admin/notify_add_product\">\r\n                <NotifyAddProductSucess />\r\n            </Route>\r\n            <Route path=\"/admin\">\r\n                <HomeAdmin />\r\n            </Route>\r\n        </Switch>\r\n    )\r\n   \r\n    return(\r\n        <div className='stlye-amdim'>\r\n        {showContent ?\r\n            <Layout style={{ minHeight:window.innerHeight }}>\r\n            <Sider trigger={null} collapsible collapsed={collapsed} collapsedWidth={widthColl}>\r\n                <div className=\"logo\" style={{ alignItems:'center',display:'flex',paddingTop:20,flexDirection:'column' }}>\r\n                    <Image src={logo} width={80} preview={false}/>   \r\n                    <span style={{ color:'gray',fontWeight:'bold' }}>TheLONA</span> \r\n                </div>\r\n                <NavMenu/>\r\n            </Sider>\r\n             <Layout>\r\n               <Header className=\"site-layout-background\" >\r\n            \r\n                {collapsed ? \r\n                <MenuUnfoldOutlined  onClick={()=>setcollapsed(!collapsed)}/> \r\n                : \r\n                <MenuFoldOutlined  onClick={()=>setcollapsed(!collapsed)}/>\r\n                }\r\n                <span style={{ paddingLeft:20 }}>TheLONA</span>\r\n            \r\n               </Header>\r\n               <Content  \r\n                    className=\"site-layout-background\"\r\n                    style={{\r\n                    margin: '24px 16px',\r\n                    padding: 24,\r\n                    minHeight: 280,\r\n                    }}>\r\n                {Body()}\r\n                </Content>\r\n    \r\n             </Layout>\r\n           </Layout>\r\n        :\r\n        <Spinner spinning={!showContent}/>\r\n        }\r\n        </div>\r\n    )\r\n}","import {createSlice} from '@reduxjs/toolkit';\r\nconst userSlice = createSlice({\r\n    name: 'user',\r\n    initialState:{\r\n        currentUser:{}\r\n    },\r\n    reducers:{\r\n        updateUser: (state,action) =>{\r\n            state.currentUser = action.payload;\r\n        }\r\n    }\r\n})\r\nexport const {updateUser} = userSlice.actions;\r\n\r\nexport default userSlice.reducer;","import * as FetchAPI from './fetchApi';\r\nimport {updateUser} from '../redux/reducer/user.reducer';\r\n\r\nexport const getUser = async(token,dispatch)=>{\r\n    const data = {\"token\":token};\r\n    const res = await FetchAPI.postDataAPI(\"/user/getUser\",data);\r\n    if(res.msg){\r\n        if(res.msg.message ===\"jwt expired\"){\r\n            localStorage.removeItem(\"token\");\r\n            return false;\r\n        }\r\n    }else{\r\n        if(res[0].status===1){\r\n            localStorage.removeItem(\"token\");\r\n            return \"block\";\r\n        }else{\r\n            dispatch(updateUser(res[0]));\r\n            return true  \r\n        }\r\n       \r\n    }\r\n    \r\n}","import React ,{useState} from 'react';\r\nimport {Form,Input,Button,PageHeader,Result } from 'antd';\r\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {getUser} from '../../util/getUser';\r\nimport { useDispatch } from 'react-redux';\r\nexport default function Register(props){\r\n    const {email} = props;\r\n    const [name, setname] = useState();\r\n    const [username, setusername] = useState();\r\n    const [password, setpassword] = useState();\r\n    const [confirmpass, setconfirmpass] = useState();\r\n    const [success, setsuccess] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const checkUserExist = async(_,value)=>{\r\n        const data = {\"username\":value}\r\n        const res = await FetchAPI.postDataAPI(\"/user/checkUsername\",data);\r\n        if(res.success){\r\n            return Promise.resolve();\r\n        }else{\r\n            return Promise.reject(new Error('Tên đăng nhập đã tồn tại, vui lòng chọn tên khác  !'));\r\n        }\r\n    }\r\n    const handleRegister = async()=>{\r\n        props.loading(true);\r\n        const data = {\"email\":email,\"password\":password,\"username\":username,\"name\":name};\r\n        const res = await FetchAPI.postDataAPI(\"/user/register\",data);\r\n        if(res.success){\r\n            setsuccess(true);\r\n            props.loading(false);\r\n        }else{\r\n            console.log(\"Có lỗi rồi\");\r\n            props.loading(false);\r\n        }\r\n    }\r\n    const handleLogin = async() =>{\r\n        props.loading(true)\r\n        const data = {\"username\":username,\"password\":password};\r\n        const res = await FetchAPI.postDataAPI(\"/user/login\",data);\r\n        console.log(res);\r\n        if(res.msg===\"Error\"){\r\n            console.log(\"Thất bại\")\r\n        }else if(res.msg===\"Success\"){\r\n            localStorage.setItem(\"token\",res.token);\r\n            finish(res.token)\r\n        }\r\n        props.loading(false);\r\n    }\r\n    const finish = async(token)=>{\r\n        getUser(token,dispatch);\r\n        props.refeshAccount();\r\n        props.cancel();\r\n    }\r\n    const SignUp = ()=>(\r\n        <div>\r\n        <PageHeader\r\n            onBack={() => props.back()}\r\n            title={\"Tiếp tục đăng ký với \"}\r\n            subTitle={email}\r\n            style={{padding:0}}\r\n        />\r\n        <Form \r\n            style={{ paddingBottom:40,paddingTop:20,display:'flex',flexDirection:'column',alignItems:'center' }} \r\n            labelCol={{ span: 5 }}\r\n            wrapperCol={{ span: 14 }}\r\n            onFinish={handleRegister}\r\n            scrollToFirstError>\r\n            <Form.Item\r\n                label=\"Họ tên\"\r\n                name=\"name\"\r\n                rules={[{ required: true, message: 'Vui lòng nhập tên tài khoản!' }]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập đầy đủ họ tên\"\r\n                    value={name}\r\n                    defaultValue={name}\r\n                    onChange= {(e)=>setname(e.target.value)}\r\n                    maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                label=\"Tên đăng nhập\"\r\n                name=\"username\"\r\n                hasFeedback\r\n                rules={[\r\n                    { required: true, message: 'Vui lòng nhập họ tên !' },\r\n                    { validator: checkUserExist}\r\n                ]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập tên tài khoản\"\r\n                    value={username}\r\n                    defaultValue={username}\r\n                    onChange= {(e)=>setusername(e.target.value)}\r\n                    maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                label=\"Mật khẩu\"\r\n                name=\"password\"\r\n                rules={[\r\n                    { required: true, message: 'Vui lòng nhập mật khẩu!' },\r\n                    {min:3,message:'Mật khẩu ít nhất 3 ký tự'}\r\n                ]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input.Password\r\n                    placeholder=\"Nhập mật khẩu\"\r\n                    value={password}\r\n                    defaultValue={password}\r\n                    onChange= {(e)=>setpassword(e.target.value)}\r\n                    iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                    maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"confirm\"\r\n                label=\"Nhập lại mật khẩu\"\r\n                style={{width:'80%'}}\r\n                hasFeedback\r\n                rules={[\r\n                {\r\n                    required: true,\r\n                    message: 'Vui lòng nhập lại mật khẩu!',\r\n                },\r\n                ({ getFieldValue }) => ({\r\n                    validator(_, value) {\r\n                    if (!value || getFieldValue('password') === value) {\r\n                        return Promise.resolve();\r\n                    }\r\n                    return Promise.reject(new Error('Mật khẩu nhập lại phải đúng như trên!'));\r\n                    },\r\n                }),\r\n                ]}\r\n            >\r\n                <Input.Password\r\n                    placeholder=\"Nhập mật khẩu\"\r\n                    value={confirmpass}\r\n                    defaultValue={confirmpass}\r\n                    onChange= {(e)=>setconfirmpass(e.target.value)}\r\n                    iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                    maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item style={{ padding:\"10px 0px\" }} >\r\n                <Button htmlType=\"submit\" type=\"primary\" danger style={{ width:100,height:45,borderRadius:8 }}>\r\n                   Đăng ký\r\n                </Button>\r\n            </Form.Item>\r\n            \r\n        </Form>\r\n        </div>\r\n    )\r\n    const ResultSccuess = ()=>(\r\n        <Result\r\n            status=\"success\"\r\n            title=\"Đăng ký thanh công !\"\r\n            subTitle=\"Bạn có muốn đăng nhập ngày bây giờ\"\r\n            extra={[\r\n            <Button onClick={handleLogin} type=\"primary\" key=\"console\">\r\n                Đăng nhập ngay !\r\n            </Button>,\r\n            <Button onClick={props.cancel} key=\"buy\">Để sau</Button>,\r\n            ]}\r\n        />\r\n    )\r\n    return(\r\n        <div>\r\n            {success ? \r\n            <ResultSccuess/>\r\n            :\r\n            <div>\r\n                {SignUp()}\r\n            </div>\r\n            }\r\n           \r\n        </div>\r\n    )\r\n\r\n}","import React ,{useState} from 'react';\r\nimport {Modal,Row,Col,Input,Button,Spin,Form,message} from 'antd';\r\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {getUser} from '../../util/getUser'\r\nimport { useDispatch } from 'react-redux';\r\nimport Register from './Register';\r\n\r\nexport default function Account(props) {\r\n    const [username, setusername] = useState(\"\");\r\n    const [password, setpassword] = useState(\"\");\r\n    const [spinning, setspinning] = useState(false);\r\n    const [emailRegister, setemailRegister] = useState(\"\");\r\n    const [continueRegister, setcontinueRegister] = useState(false);\r\n    const [formLogin] = Form.useForm();\r\n    const dispatch = useDispatch();\r\n    const handleLoginValidation = ()=>{\r\n        setspinning(true);\r\n        //Validation\r\n        handleLogin();\r\n    }\r\n    const handleLogin = async() =>{\r\n        const data = {\"username\":username,\"password\":password};\r\n        const res = await FetchAPI.postDataAPI(\"/user/login\",data);\r\n        console.log(res);\r\n      \r\n        if(res.msg===\"Invalid account\"){\r\n            message.error(\"Tên tài khoản không tồn tại\")\r\n        }else if(res.msg ===\"Incorrect password\"){\r\n            message.error(\"Mật khẩu không đúng\")\r\n        }else if(res.msg===\"Success\"){\r\n            localStorage.setItem(\"token\",res.token);\r\n            finish(res.token);\r\n            message.success(\"Đăng nhập thành công !\");\r\n            formLogin.setFieldsValue({username:\"\",password:\"\"})\r\n            setusername(\"\");\r\n            setpassword(\"\");\r\n        }\r\n        setspinning(false);\r\n    }\r\n    const finish = async(token)=>{\r\n        getUser(token,dispatch);\r\n        props.refeshAccount();\r\n        props.onCancel();\r\n    }\r\n\r\n    const checkEmailExist = async(_,value)=>{\r\n        const data = {\"email\":value}\r\n        const res = await FetchAPI.postDataAPI(\"/user/checkEmail\",data);\r\n        if(res.success){\r\n            return Promise.resolve();\r\n        }else{\r\n            return Promise.reject(new Error('Email đã tồn tại trong hệ thống, vui lòng chọn email khác  !'));\r\n        }\r\n    }\r\n    const handleRegister = async()=>{\r\n        setcontinueRegister(true)\r\n    }\r\n    const Login = ()=>(\r\n        <Form \r\n            style={{ paddingBottom:40 }} \r\n            onFinish={handleLoginValidation} \r\n            form={formLogin}\r\n            scrollToFirstError\r\n        >\r\n            <p style={{ fontSize:18,fontWeight:'bold' }}>ĐĂNG NHẬP</p>\r\n            <p style={{ fontSize:16,fontWeight:'bold' }}>Tên tài khoản hoặc email đăng nhập *</p>\r\n            <Form.Item\r\n                name=\"username\"\r\n                rules={[{ required: true, message: 'Vui lòng nhập tên tài khoản!' }]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập tên tài khoản\"\r\n                    value={username}\r\n                    defaultValue={username}\r\n                    onChange= {(e)=>setusername(e.target.value)}\r\n                    // maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <p style={{ fontSize:16,fontWeight:'bold' }}>Mật khẩu *</p>\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[\r\n                    { required: true, message: 'Vui lòng nhập mật khẩu!' },\r\n                    {min:3,message:'Mật khẩu ít nhất 3 ký tự'}\r\n                ]}\r\n                style={{width:'80%'}}\r\n            >\r\n                <Input.Password\r\n                    placeholder=\"Nhập mật khẩu\"\r\n                    value={password}\r\n                    defaultValue={password}\r\n                    onChange= {(e)=>setpassword(e.target.value)}\r\n                    iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\r\n                    // maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item style={{ padding:\"10px 0px\" }} >\r\n                <Button htmlType=\"submit\" type=\"primary\" danger style={{ width:100,height:45,borderRadius:8 }}>\r\n                    Đăng nhập\r\n                </Button>\r\n            </Form.Item>\r\n            <div>\r\n                <span>Quên mật khẩu ?</span>\r\n            </div>\r\n        </Form>\r\n    )\r\n    const SignUp = ()=>(\r\n        <Form onFinish={handleRegister}>\r\n            <p style={{ fontSize:18,fontWeight:'bold' }}>ĐĂNG KÝ</p>\r\n            <p style={{ fontSize:16,fontWeight:'bold' }}>Địa chỉ email *</p>\r\n            <Form.Item \r\n                style={{ width:'80%' }} \r\n                hasFeedback\r\n                rules={[\r\n                    { type: 'email',message:\"Vui lòng nhập đúng Email\"},\r\n                    {required:true,message:\"Vui lòng điền Email !\"},\r\n                    { validator: checkEmailExist}\r\n                ]}\r\n                name={['user', 'email']}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập email\"\r\n                    value={emailRegister}\r\n                    onChange= {(e)=>setemailRegister(e.target.value)}\r\n                    // maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <p style={{ fontSize:16,padding:\"10px 0px\" }}>Dùng email để đăng ký với TheLONA</p>\r\n            <p>Thông tin cá nhân của bạn sẽ được sử dụng để tăng trải nghiệm sử dụng website, quản lý truy cập vào tài khoản của bạn, và cho các mục đích cụ thể khác được mô tả trong chính sách riêng tư.</p>\r\n            <Form.Item style={{ padding:\"10px 0px\" }}>\r\n                <Button type=\"primary\" danger style={{ width:100,height:45,borderRadius:8 }} htmlType=\"submit\">\r\n                    Tiếp tục\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n    return(\r\n        <Modal \r\n            title=\"Tài khoản\" \r\n            visible={props.visible} \r\n            onCancel={()=>{props.onCancel();setcontinueRegister(false)}}\r\n            cancelText=\"Thoát\"\r\n            footer={false}\r\n            width={1000}\r\n        >\r\n            <Spin spinning={spinning} >\r\n            {!continueRegister ?\r\n            <Row>\r\n                <Col md={12} xs={24}>\r\n                    {Login()}\r\n                </Col>\r\n                <Col md={12} sm={24}>\r\n                    {SignUp()}\r\n                </Col>\r\n            </Row>\r\n            :\r\n            <Register \r\n                email={emailRegister} \r\n                back={()=>setcontinueRegister(false)}\r\n                cancel={()=>{props.onCancel();setcontinueRegister(false)}}\r\n                loading={(e)=>setspinning(e)}\r\n                refeshAccount={props.refeshAccount}\r\n            />\r\n            }\r\n           \r\n            </Spin>\r\n        </Modal>\r\n    )\r\n}","import React,{useEffect,useState,useLayoutEffect} from 'react';\r\nimport {Row,Col,Table,InputNumber,message,Image,Button,Input} from 'antd';\r\nimport { useSelector,useDispatch } from 'react-redux';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {updateCartCurrent} from '../../contain/updateQuanityCart';\r\nimport {DeleteOutlined,ArrowLeftOutlined,GiftOutlined} from '@ant-design/icons';\r\nimport {Link,useHistory} from 'react-router-dom';\r\nexport default function Cart (){\r\n    const dataCart = useSelector(state=>state.productReducer.cart);\r\n    const dispatch = useDispatch();\r\n    const [totalTmp, settotalTmp] = useState(0);\r\n    const [promoprice, setpromoprice] = useState(0);\r\n    const [dataSale, setdataSale] = useState();\r\n    const [codeSale, setcodeSale] = useState(\"\");\r\n    const history = useHistory();\r\n    const [overflowX, setoverflowX] = useState(false);\r\n\r\n    useLayoutEffect(() => {\r\n        function updateSize() {\r\n            if(window.innerWidth<700){\r\n                setoverflowX(true);\r\n            }else{\r\n                setoverflowX(false);\r\n            }\r\n        }\r\n        window.addEventListener('resize', updateSize);\r\n        updateSize();\r\n    }, []);\r\n    useEffect(()=>{\r\n        if(dataCart.length!==undefined){\r\n            let total = 0;\r\n            dataCart.map((e,index)=>{\r\n                if(e[0].promotional===null){\r\n                    total+=e[0].price*e.quanity\r\n                }else{\r\n                    total+=e[0].promotional*e.quanity\r\n                }\r\n                if(index===dataCart.length-1){\r\n                    settotalTmp(total)\r\n                }\r\n                return false;\r\n            })\r\n        }   \r\n    },[dataCart])\r\n   \r\n    const hanldeEditQuanity = async(e,index)=>{\r\n        const dataOut = localStorage.getItem(\"cart\");\r\n        let objDataOut = JSON.parse(dataOut);\r\n        let postition = objDataOut.findIndex(x=> x.id===index[0].id && x.option===index.option);\r\n        const inventory = await FetchAPI.postDataAPI(\"/product/getProductInventory\",{\"id\":index[0].id});\r\n        inventory.map((i)=>{\r\n            if(i.size===index.option){\r\n                let q = i.quanity-i.sold;\r\n                if(e===null){\r\n                    objDataOut[postition].quanity = 1;\r\n                }\r\n                else if(e>q){\r\n                    message.warning(index[0].name+\" size \"+index.option+\" chỉ còn \"+q+\" sản phẩm\");\r\n                    objDataOut[postition].quanity = q;\r\n                }else{\r\n                    objDataOut[postition].quanity = e;\r\n                }\r\n    \r\n            }\r\n        })\r\n        localStorage.setItem(\"cart\",JSON.stringify(objDataOut));\r\n        updateCartCurrent(dispatch);\r\n    }\r\n    const handleDeleteItem = (index)=>{\r\n        const dataOut = localStorage.getItem(\"cart\");\r\n        let objDataOut = JSON.parse(dataOut);\r\n        if(objDataOut.length===1){\r\n            localStorage.removeItem(\"cart\");\r\n            updateCartCurrent(dispatch);\r\n        }else{\r\n            let postition = objDataOut.findIndex(x=> x.id===index[0].id && x.option===index.option);\r\n            objDataOut.splice(postition,1);\r\n            localStorage.setItem(\"cart\",JSON.stringify(objDataOut));\r\n            updateCartCurrent(dispatch);\r\n        }\r\n        \r\n    }\r\n    const handlePayment = ()=>{\r\n \r\n        history.push({\r\n            pathname:'/payment',\r\n            dataSale:dataSale\r\n        });\r\n    \r\n    }\r\n    const handleValidationCodeSale = async()=>{\r\n        if(codeSale===\"\"){\r\n            message.warning(\"Bạn chưa nhập mã ưu đãi !\")\r\n        }else{\r\n            const res = await FetchAPI.postDataAPI(\"/order/getSaleByCode\",{\"code\":codeSale.toUpperCase()})\r\n            if(res.msg){\r\n                if(res.msg===\"Sale not exist\"){\r\n                    message.warning(\"Mã này không tồn tại!\")\r\n                }\r\n            }else if(res!==undefined){\r\n                handleCodeSale(res[0])\r\n            }\r\n        }\r\n    }\r\n    const handleCodeSale = (data)=>{\r\n        const currentTime = Date.now();\r\n        const timeStart = new Date(data.date_start);\r\n        const timeExpired = new Date(data.expired);\r\n        if(currentTime<timeStart){\r\n            message.warning(\"Thời gian sự kiện chưa bắt đầu !\")\r\n        }else if(currentTime>timeExpired){\r\n            message.warning(\"Sự kiện đã kết thúc !\")\r\n        }else if(data.quanity-data.used===0){\r\n            message.warning(\"Số lượng mã này đã hết !\")\r\n        }\r\n        else{\r\n            setdataSale(data);\r\n            setpromoprice(data.cost_sale);\r\n            setcodeSale(\"\");\r\n            message.success(\r\n                \"Bạn đã áp dụng mã \"+data.code_sale+ \r\n                \" của sự kiện \"+data.name_event_sale+\r\n                \" được giảm giá \"+getPriceVND(data.cost_sale)+\" đ\"\r\n            )\r\n        }\r\n      \r\n    }\r\n    const columns  = [\r\n        {\r\n            title:\"Sản phẩm\",\r\n            key:'name',\r\n            render: record=>{\r\n                return (\r\n                    <Row style={{alignItems: 'center'}}>\r\n                        <Col>\r\n                            <Image src={record[0].image} width={80}/>\r\n                        </Col>\r\n                        <Col style={{ paddingLeft:10 }}>\r\n                            <span style={{fontWeight:'700'}}>{record[0].name+\" - ( \"+record.option+\" )\"}</span>\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title:\"Giá\",\r\n            key:'price',\r\n            dataIndex:\"\",\r\n            render:record =>{\r\n                if(record[0].promotional===null){\r\n                    return <span>{getPriceVND(record[0].price)+\" đ\"}</span>\r\n                }else{\r\n                    return <span>{getPriceVND(record[0].promotional)+\" đ\"}</span>\r\n                }\r\n            }\r\n        },\r\n        { \r\n            title:\"Số lượng\",\r\n            dataIndex:'',\r\n            key:'quanity',\r\n            render: (record,index)=>{\r\n                return <InputNumber \r\n                value={record.quanity} \r\n                defaultValue={record.quanity} \r\n                min={1} max={20} \r\n                onChange={(e)=>hanldeEditQuanity(e,index)}/>  \r\n            }\r\n        },\r\n        { \r\n            title:\"Tạm tính\",\r\n            dataIndex:\"\",\r\n            key:'temp',\r\n            render:(record)=>{\r\n                if(record[0].promotional===null){\r\n                    return <span style={{fontWeight:'600'}}>{getPriceVND(record[0].price*record.quanity)+\" đ\"}</span>\r\n                }else{\r\n                    return <span style={{fontWeight:'600'}}>{getPriceVND(record[0].promotional*record.quanity)+\" đ\"}</span>\r\n                }\r\n            }\r\n        },{\r\n            title:\"Tùy chỉnh\",\r\n            key:\"delete\",\r\n            render: (record,index) =>{\r\n                return (\r\n                    <div style={{ display:'flex',justifyContent:'center' }}>\r\n                        <DeleteOutlined style={{fontSize:20,cursor:\"pointer\", color:'red' }} onClick={()=>handleDeleteItem(index)}/>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n    \r\n    // rowSelection object indicates the need for row selection\r\n    // const rowSelection = {\r\n    //     onChange: (selectedRowKeys, selectedRows) => {\r\n    //        console.log(selectedRows)\r\n    //     },\r\n        \r\n    // };\r\n    const ViewPayment = ()=>(\r\n        <div style={{ paddingLeft:20 }}>\r\n           <span style={{ fontWeight:'bold',fontSize:16 }}> Cộng giỏ hàng</span>\r\n           <div style={{ paddingTop:10,fontSize:16,justifyContent:'space-between',display:'flex' }}>\r\n               <span>Tạm tính</span>\r\n               <span style={{ paddingRight:20,fontWeight:'bold' }}>{getPriceVND(totalTmp) +\" đ\"}</span>\r\n           </div>\r\n           <div style={{ paddingTop:10,fontSize:16,justifyContent:'space-between',display:'flex', alignItems:'center' }}>\r\n               <span>Tổng</span>\r\n               <span style={{ fontSize:20,paddingRight:20,fontWeight:'bold' }}>{getPriceVND(totalTmp-promoprice) +\" đ\"}</span>\r\n           </div>\r\n           {dataSale!==undefined &&\r\n            <div style={{ paddingTop:10,display:'flex',justifyContent:'space-between' }}>\r\n                <div>\r\n                <span>Mã giảm giá : {dataSale.code_sale}</span>\r\n                </div>\r\n                <span style={{ paddingRight:20 }}><b>{\"-\"+getPriceVND(dataSale.cost_sale) +\" đ\"}</b></span>\r\n            </div>\r\n           }\r\n      \r\n           <div style={{ paddingTop:20,display:'flex',flexDirection:'column' }}>\r\n                <span style={{ fontWeight:'bold',fontSize:16 }}>\r\n                    <GiftOutlined /> Phiếu ưu đãi\r\n                </span>\r\n                <div style={{ display:'flex',alignItems:'center',paddingTop:10,flexDirection:'row'}}>\r\n                <Input \r\n                    placeholder=\"Mã ưu đãi\"\r\n                    style={{height:40, borderRadius:4}}\r\n                    value={codeSale}\r\n                    defaultValue={codeSale}\r\n                    onChange= {(e)=>setcodeSale(e.target.value)}\r\n                />\r\n                <Button style={{ height:40,marginLeft:10, borderRadius:4 }} onClick={handleValidationCodeSale}>\r\n                    ÁP DỤNG\r\n                </Button>\r\n                </div>\r\n            </div>\r\n            <div style={{ paddingTop:20,justifyContent:'center',display:'flex' }}>\r\n           <Button className='button-cart' style={{ width:'100%',height:40 }} onClick={handlePayment}>\r\n               TIẾN HÀNH THANH TOÁN\r\n           </Button>\r\n           </div>\r\n        </div>\r\n    )\r\n    const ViewCart = ()=>(\r\n        <div>\r\n        <Table \r\n            dataSource={dataCart} \r\n            columns={columns} \r\n            size=\"small\" \r\n            style={overflowX?{overflowX:'scroll'}:null} \r\n            pagination={{ defaultPageSize: 3 }}\r\n            // rowSelection={{ \r\n            //     type:'checkbox',\r\n            //     ...rowSelection\r\n            // }}\r\n        />\r\n        <Button className='button-cart' style={{ height:40,marginBottom:20 }}>\r\n            <Link to=\"/\">\r\n                <ArrowLeftOutlined /> Tiếp tục xem sản phẩm\r\n            </Link>\r\n        </Button>\r\n        </div>\r\n    )\r\n    return (\r\n        <div className=\"wrapperCart\" >\r\n            {dataCart.length===undefined ?\r\n            <div style={{ height:400,padding:\"20px 10px\" }}>\r\n                <span style={{ fontWeight:'bold',fontSize:16 }}>Chưa có sản phẩm trong giỏ hàng...</span>\r\n                <div style={{ display:'flex',flex:1,justifyContent:'center',paddingTop:\"10%\" }}>\r\n                    <Button style={{ height:50 }} type=\"primary\" danger>\r\n                        <Link to=\"/\">\r\n                            Quay trở lại cửa hàng\r\n                        </Link>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            :\r\n            <Row>\r\n                <Col lg={17} xs={24} >\r\n                    {ViewCart()}\r\n                </Col>\r\n                <Col lg={7} xs={24} >\r\n                    {ViewPayment()}\r\n                </Col>\r\n            </Row>\r\n            }\r\n          \r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/banking.5663d56a.png\";","export default __webpack_public_path__ + \"static/media/cod.f1ec9fc2.svg\";","export default __webpack_public_path__ + \"static/media/momo.7f3f4f55.svg\";","export default __webpack_public_path__ + \"static/media/other.61a94949.svg\";","export default __webpack_public_path__ + \"static/media/vnpay_new.3601e9b6.svg\";","export default __webpack_public_path__ + \"static/media/zalopay.5cef1f6c.svg\";","export default __webpack_public_path__ + \"static/media/PayPal.90021d17.svg\";","import React ,{useEffect,useState}from 'react';\r\nimport { Row, Col, Form, Input, Button, Table, Radio, Space, Result, Image } from \"antd\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport { useSelector,useDispatch } from 'react-redux';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport {Link,useLocation} from 'react-router-dom';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {updateCartCurrent} from '../../contain/updateQuanityCart';\r\nimport imgbanking from '../../images/banking.png';\r\nimport cod from '../../images/svg/cod.svg';\r\nimport momo from '../../images/svg/momo.svg';\r\nimport other from '../../images/svg/other.svg';\r\nimport vnpay from '../../images/svg/vnpay_new.svg';\r\nimport zalopay from '../../images/svg/zalopay.svg';\r\nimport paypal from '../../images/svg/PayPal.svg';\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\n\r\nexport default function Payment (props){\r\n    const [name, setname] = useState(\"\");\r\n    const [email, setemail] = useState();\r\n    const [phone, setphone] = useState();\r\n    const [address, setaddress] = useState();\r\n    const [message, setmessage] = useState();\r\n    const [totalTmp, settotalTmp] = useState(0);\r\n    const [idUser, setidUser] = useState(\"\");\r\n    const [promoprice, setpromoprice] = useState(0);\r\n    const dataCart = useSelector(state=>state.productReducer.cart);\r\n    const datauser = useSelector(state=>state.userReducer.currentUser);\r\n    const [dataSale, setdataSale] = useState();\r\n    const dispatch = useDispatch();\r\n    const [showUser, setshowUser] = useState(false);\r\n    const [methodPayment, setmethodPayment] = useState(1);\r\n    const [form] = Form.useForm();\r\n    const [paymentSucess, setpaymentSucess] = useState(false);\r\n    const [sdkReady, setSdkReady] = useState(false);\r\n    // const imgMethodBank = imgbanking;\r\n    const location = useLocation();\r\n    useEffect(() => {\r\n        setpaymentSucess(false)\r\n        setshowUser(false)\r\n        if (location.dataSale !== undefined) {\r\n            setdataSale(location.dataSale)\r\n            setpromoprice(location.dataSale.cost_sale)\r\n        }\r\n        if (dataCart.length !== undefined) {\r\n            let total = 0;\r\n            dataCart.map((e, index) => {\r\n                if (e[0].promotional === null) {\r\n                    total += e[0].price * e.quanity\r\n                } else {\r\n                    total += e[0].promotional * e.quanity\r\n                }\r\n                if (index === dataCart.length - 1) {\r\n                    settotalTmp(total)\r\n                }\r\n                return false\r\n            })\r\n        }\r\n        getUser();\r\n    }, [datauser]);\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        setmessage(`PAYPAL_PAYMENT_${name}`);\r\n        setSdkReady(true);\r\n      };\r\n\r\n    const getUser = async()=>{\r\n        if(datauser.name!==undefined){\r\n            const res = await FetchAPI.postDataAPI(\"/user/getInforUser\",{\"idUser\":datauser.id})\r\n            const user = res[0];\r\n            form.setFieldsValue({name:user.name,email:user.email,address:user.address,phone:user.phone})\r\n            setname(user.name);\r\n            setemail(user.email);\r\n            setidUser(user.id);\r\n            setaddress(user.address);\r\n            setphone(user.phone);\r\n            setshowUser(true)\r\n        }else{  \r\n            form.setFieldsValue({name:\"\",email:\"\",address:\"\",phone:\"\"})\r\n            setname(\"\");\r\n            setemail(\"\");\r\n            setidUser(\"\");\r\n            setaddress(\"\");\r\n            setphone(\"\");\r\n            setshowUser(true);\r\n        }\r\n    }\r\n    const handleValidationOrder = () => {\r\n       \r\n        // if(methodPayment===4){\r\n        //     handlePaymentMomo();\r\n        // }else{\r\n        // }\r\n        handleOrder();\r\n    }\r\n\r\n    const handlePaymentMomo = async () => {\r\n        const params = {\r\n            amount: totalTmp-promoprice+30000\r\n        }\r\n        const res = await FetchAPI.postDataAPI(\"/payment/create_payment_momo\", params);\r\n        if (res) {\r\n            setmessage(`MOMO_PAYMENT_${name}`);\r\n            // setSdkReady(true);\r\n            window.open(res, \"_blank\");\r\n        }\r\n    }\r\n\r\n    const createOrder = (data, actions) => {\r\n        return actions.order.create({\r\n            purchase_units: [\r\n                {\r\n                    description: \"Payment Paypal\",\r\n                    amount: {\r\n                        currency_code: \"USD\",\r\n                        value: ((totalTmp-promoprice+30000)/23000).toFixed(2),\r\n                    },\r\n                },\r\n            ],\r\n        }).then((orderID) => {\r\n                return orderID;\r\n            });\r\n    };\r\n\r\n    const onApprove = (data, actions) => {\r\n        return actions.order.capture().then(function (details) {\r\n            successPaymentHandler()\r\n        });\r\n    };\r\n\r\n    const handleOrder = async()=>{\r\n        let idSale = null;\r\n        let total = totalTmp+30000;\r\n        if(dataSale!== undefined){\r\n            idSale = dataSale.id\r\n            total = total-dataSale.cost_sale\r\n        }\r\n        const data = {\r\n            \"name\": name,\r\n            \"address\": address,\r\n            \"email\" : email,\r\n            \"phone\" : phone,\r\n            \"total_price\":total,\r\n            \"message\":message,\r\n            \"dataProduct\":dataCart,\r\n            \"methodPayment\":methodPayment,\r\n            \"user\": idUser,\r\n            \"idSale\":idSale,\r\n        }\r\n\r\n        const res = await FetchAPI.postDataAPI(\"/order/addBill\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"success\"){\r\n                localStorage.removeItem(\"cart\");\r\n                updateCartCurrent(dispatch);\r\n                setpaymentSucess(true)\r\n            }else{\r\n                console.log(res.msg)\r\n            }\r\n        }\r\n    }\r\n    const columns  = [\r\n        {\r\n            title:\"Sản phẩm\",\r\n            key:'name',\r\n            render: record=>{\r\n                return (\r\n                    <Row style={{alignItems:'center'}}>\r\n                        <Image src={record[0].image} width={50}/>\r\n                        <span style={{marginLeft:12}}>{record[0].name+\" - ( \"+record.option+\" )\"}</span>\r\n                        <span style={{ fontWeight:'bold',paddingLeft:20 }}>X {record.quanity}</span>\r\n                    </Row>\r\n                )\r\n            }\r\n        },\r\n        { \r\n            title:\"Tạm tính\",\r\n            dataIndex:\"\",\r\n            key:'temp',\r\n            render:(record)=>{\r\n                if(record[0].promotional===null){\r\n                    return <span>{getPriceVND(record[0].price*record.quanity)+\" đ\"}</span>\r\n                       \r\n                }else{\r\n                    return <span>{getPriceVND(record[0].promotional*record.quanity)+\" đ\"}</span>\r\n                }\r\n            }\r\n        }\r\n    ]\r\n    const InformationPayment = ()=>(\r\n       <div className='infor-payment' style={{ padding:20 }}>\r\n            <h2 style={{fontSize:26, fontWeight:'600' ,marginBottom: 0}}>THÔNG TIN THANH TOÁN</h2>\r\n           <div style={{ display:'flex',flexDirection:'column' ,marginBottom: 12 }}>\r\n            {dataSale===undefined &&\r\n                <span >Bạn có mã khuyển mãi? <Link to=\"/cart\">Quay lại</Link> giỏ hàng để nhận được khuyển mãi ! </span>\r\n            }\r\n           </div>\r\n           \r\n            <Form.Item\r\n                name=\"name\"\r\n                label=\"Họ Tên\"\r\n                labelCol={{ span: 'auto' }}\r\n                wrapperCol={{ span: 18 }}\r\n                rules={[{ required: true, message: 'Vui lòng nhập họ tên!' }]}\r\n                style={{width:'100%',marginBottom: 12, borderRadius: 4, flexDirection:'column'}}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập họ tên\"\r\n                    value={name}\r\n                    defaultValue={name}\r\n                    onChange= {(e)=>setname(e.target.value)}\r\n                    // maxLength={60}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"address\"\r\n                label=\"Địa chỉ\"\r\n                labelCol={{ span: 'auto' }}\r\n                wrapperCol={{ span: 18 }}\r\n                rules={[{ required: true, message: 'Vui lòng nhập địa chỉ!' }]}\r\n                style={{width:'100%',marginBottom: 12, borderRadius: 4, flexDirection:'column'}}\r\n            >\r\n                <Input\r\n                    placeholder=\"Nhập địa chỉ\"\r\n                    value={address}\r\n                    defaultValue={address}\r\n                    onChange= {(e)=>setaddress(e.target.value)}\r\n                    // maxLength={24}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"phone\"\r\n                label=\"Số điện thoại\"\r\n                labelCol={{ span: 5 }}\r\n                wrapperCol={{ span: 18 }}\r\n                rules={[{ required: true, message: 'Vui lòng nhập số điện thoại!' }]}\r\n                style={{width:'100%',marginBottom: 12, borderRadius: 4, flexDirection:'column'}}            >\r\n                <Input\r\n                    placeholder=\"Nhập số điện thoại\"\r\n                    value={phone}\r\n                    defaultValue={phone}\r\n                    onChange= {(e)=>setphone(e.target.value)}\r\n                    maxLength={10}\r\n                    style={{height:40}}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"email\"\r\n                label=\"Địa chỉ Email\"\r\n                labelCol={{ span: 5 }}\r\n                wrapperCol={{ span: 18 }}\r\n                rules={[\r\n                    { type: 'email',message:\"Vui lòng nhập đúng Email\"},\r\n                    {required:true,message:\"Vui lòng điền Email !\"},\r\n                ]}\r\n                style={{width:'100%',marginBottom: 12, borderRadius: 4, flexDirection:'column'}}            >\r\n                <Input\r\n                    placeholder=\"Nhập địa chỉ Email\"\r\n                    value={email}\r\n                    defaultValue={email}\r\n                    onChange= {(e)=>setemail(e.target.value)}\r\n                    // maxLength={24}\r\n                    style={{height:40}}\r\n                    disabled={datauser.id!==undefined}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name= 'introduction'\r\n                label=\"Ghi chú đơn hàng\"\r\n                labelCol={{ span: 5 }}\r\n                wrapperCol={{ span: 18 }}\r\n                style={{width:'100%',marginBottom: 12, borderRadius: 4, flexDirection:'column'}}            >\r\n                <Input.TextArea\r\n                    placeholder=\"Ghi chú về đơn hàng, ví dụ: thời gian hay chỉ dẫn địa điểm giao hàng chi tiết hơn.\"\r\n                    value={message}\r\n                    defaultValue={message}\r\n                    onChange={(e) => setmessage(e.target.value)}\r\n                    disabled={methodPayment ===1 || methodPayment ===2 ? false : true}\r\n                    maxLength={200}\r\n                    style={{height:200}}\r\n                />\r\n            </Form.Item>\r\n       </div>\r\n    )\r\n\r\n    const Payment = ()=>(\r\n        <div style={{ border:\"1px dashed black\",padding:32, borderRadius:4, }}>\r\n            <h2 style={{fontSize:22, fontWeight:'600' ,marginBottom: 12}}>ĐƠN HÀNG CỦA BẠN</h2>\r\n            <Table \r\n                dataSource={dataCart} \r\n                columns={columns} \r\n                pagination={false}\r\n                summary={()=>(\r\n                    <Table.Summary>\r\n                        <Table.Summary.Row>\r\n                            <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Tạm tính</span></Table.Summary.Cell>\r\n                            <Table.Summary.Cell index={1}>{getPriceVND(totalTmp)+\" đ\"}</Table.Summary.Cell>\r\n                        </Table.Summary.Row>\r\n                        {dataSale !== undefined &&\r\n                        <Table.Summary.Row>\r\n                            <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Mã khuyến mãi</span></Table.Summary.Cell>\r\n                            <Table.Summary.Cell index={1}>{\"-\"+getPriceVND(promoprice)+\" đ\"}</Table.Summary.Cell>\r\n                        </Table.Summary.Row>\r\n                        }\r\n                        <Table.Summary.Row>\r\n                            <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Phí vận chuyển</span></Table.Summary.Cell>\r\n                            <Table.Summary.Cell index={1}>{getPriceVND(30000)+\" đ\"}</Table.Summary.Cell>\r\n                        </Table.Summary.Row>\r\n                        <Table.Summary.Row>\r\n                            <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Tổng</span></Table.Summary.Cell>\r\n                            <Table.Summary.Cell index={1}><span style={{fontWeight:'bold', fontSize:16}}>{getPriceVND(totalTmp-promoprice+30000)+\" đ\"}</span></Table.Summary.Cell>\r\n                        </Table.Summary.Row>\r\n                    </Table.Summary>\r\n            )}/>\r\n\r\n            {\r\n                !sdkReady ? (\r\n                    <Radio.Group \r\n                className='radio-payment' \r\n                style={{paddingTop:20}}\r\n                value={methodPayment}\r\n                onChange= {(e)=>setmethodPayment(e.target.value)}\r\n                horizontal\r\n            >\r\n            <Space className='radio-list' direction=\"vertical\">\r\n                <Radio value={1}>\r\n                    <div className='radio-content-input'>\r\n                    <img className='main-img' src={cod}/>\r\n                    <b >Trả tiền mặt khi nhận hàng</b><br/>\r\n                    </div>\r\n                    {methodPayment===2 ? <span tyle={{fontSize:16, margin:'8px 0'}}></span>:null}\r\n                 </Radio>\r\n                <Radio value={2}>\r\n                    <div className='radio-content-input'>\r\n                    <img className='main-img' src={other}/>\r\n                    <b >Chuyển khoản qua ngân hàng</b><br/>\r\n                    </div>\r\n                    {methodPayment===2 ? \r\n                    <div style={{display:'flex', flexDirection:'column'}}>\r\n                        <Image style={{margin:'8px 0'}} src={imgbanking} width={'75%'} preview={false}/>\r\n                    <span style={{fontSize:16}}>Vui lòng chuyển khoản với nội dung là <span style={{fontWeight:'600'}}>số điện thoại</span> của bạn</span>\r\n                    </div>:null}\r\n                </Radio>\r\n                <Radio value={3}>  \r\n                    <div className='radio-content-input'>\r\n                    <img className='main-img' src={vnpay}/>\r\n                    <b >Thẻ ATM/Visa/Master/JCB/QR Pay qua cổng VNPAY </b><br/>\r\n                    </div>\r\n                    {methodPayment===1 ? <span tyle={{fontSize:16, margin:'8px 0'}}></span>:null}\r\n                 </Radio>\r\n                 <Radio value={4}>\r\n                    <div className='radio-content-input'>\r\n                    <img className='main-img' src={momo}/>\r\n                    <b >Ví MoMo </b><br/>\r\n                    </div>\r\n                                {methodPayment === 1 ? <span tyle={{ fontSize: 16, margin: '8px 0' }}></span> : null}\r\n                                {\r\n                            methodPayment === 4 && (\r\n                                <Button htmlType=\"submit\" style={{ height:30,width:200,fontWeight:'bold', borderRadius:4, margin: '4px', backgroundColor: '#A50064' }} onClick={handlePaymentMomo}>\r\n                                Thanh toán ví Momo\r\n                            </Button>\r\n                            )\r\n                        }\r\n                 </Radio>\r\n                 <Radio value={5}>\r\n                 <div className='radio-content-input'>\r\n                    <img className='main-img' src={zalopay}/>\r\n                    <b >Ví Zalopay </b><br/>\r\n                    </div>\r\n                    {methodPayment===1 ? <span tyle={{fontSize:16, margin:'8px 0'}}></span>:null}\r\n                 </Radio>\r\n                 <Radio value={6}>\r\n                 <div className='radio-content-input'>\r\n                    <img className='main-img' src={paypal}/>\r\n                            <b>Paypal</b><br/>\r\n                    </div>\r\n                        {methodPayment === 1 ? <span tyle={{ fontSize: 16, margin: '8px 0' }}></span> : null}\r\n                        {\r\n                            methodPayment === 6 && (\r\n                                <PayPalButton\r\n                                options={{ \r\n                                    clientId :\"AY0itk3qWLAGZ8FcDaKLq2xVBFqBpas3wNpX4b7seBqHqVh1XXbPKAYylXo9KlMHVrWAjOXo8w5x3B45\"\r\n                                 }}\r\n                                    amount={((totalTmp-promoprice+30000)/23000).toFixed(2)}\r\n                                            onSuccess={successPaymentHandler}\r\n                                          \r\n                                />\r\n                            //     <PayPalScriptProvider options={{ clientId: \"AaiOR0UuKrkTaDWKtlae81PRr3enX2RBcxrcpX39uHH2VJy1ntxfIu3LuU8wOgey8oHm4SzH3cwqM5N5\" }}>\r\n                            //                 <PayPalButtons\r\n                            //                     createOrder={createOrder}\r\n                            //                     onApprove={onApprove}\r\n                            //                     style={{ layout: \"horizontal\" }} />\r\n                            // </PayPalScriptProvider>\r\n                            )\r\n                        }\r\n                        \r\n                 </Radio>\r\n            </Space> \r\n            </Radio.Group>\r\n                ) : (\r\n                        <p style={{ fontWeight: 'bold', textAlign: 'center', marginTop: '20px', fontSize: '25px', color: 'green' }}>Đã thanh toán !</p>\r\n                )\r\n            }\r\n\r\n        </div>\r\n    )\r\n    const Content = ()=>(\r\n        <div>\r\n        {dataCart.length!==undefined ?\r\n            <div>\r\n            {showUser &&\r\n            <Form \r\n                style={{ width:1340,margin:'50px auto',minHeight:450 }} \r\n                onFinish={handleValidationOrder}\r\n                form={form}\r\n                initialValues={{\r\n                    name: name,\r\n                    email: email\r\n                }}\r\n                \r\n            >\r\n                <Row>\r\n                    <Col xl={12} xs={12} >\r\n                        {InformationPayment()}\r\n                    </Col >\r\n                    <Col xl={12} xs={8} >\r\n                        {Payment()}\r\n                        <div style={{width:'100%', paddingTop:20, display:'flex', justifyContent:'space-between',alignItems:'center' }}>\r\n                        <span ><Link to=\"/cart\">Quay lại</Link></span>\r\n                            <Button className='button-cart' htmlType=\"submit\" style={{ height:60,width:240,fontWeight:'bold', borderRadius:4 }} onClick={()=>console.log(email)}>\r\n                                Hoàn tất đơn hàng\r\n                            </Button>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n            }\r\n            </div>\r\n            :\r\n            <div style={{ width:1340,margin:'50px auto',minHeight:450 }}>\r\n            <span style={{ fontWeight:'bold' }}> Hãy thêm sản phẩm vào giỏ hàng để thực hiện chức năng này... </span>\r\n            <div style={{ display:'flex',flex:1,justifyContent:'center',paddingTop:\"10%\" }}>\r\n                        <Button style={{ height:50 }} type=\"primary\" danger>\r\n                            <Link to=\"/\">\r\n                                Quay trở lại cửa hàng\r\n                            </Link>\r\n                        </Button>\r\n                    </div>\r\n            </div>\r\n        }   \r\n        </div>\r\n    )\r\n    return(\r\n        <div>\r\n            {paymentSucess ? \r\n            <Result\r\n                style={{ height:450,paddingTop:50 }}\r\n                status=\"success\"\r\n                title=\"Đặt hàng thành công!\"\r\n                subTitle=\"Theo dõi đơn hàng của bạn ?\"\r\n                extra={[\r\n                <Button type=\"primary\">\r\n                    <Link to=\"/\">\r\n                    Tiếp tục đặt sản phẩm\r\n                    </Link>\r\n                </Button>,\r\n                <Button >\r\n                    <Link to=\"/billfollow\">\r\n                    Theo dõi đơn hàng\r\n                    </Link>\r\n                </Button>,\r\n            ]}\r\n          />\r\n            :\r\n            <div>\r\n                {Content()}\r\n            </div>\r\n            }\r\n        </div>\r\n        \r\n    )\r\n} ","import React,{useEffect,useState} from 'react';\r\nimport {Tabs,Table,Button} from 'antd';\r\nimport { useSelector } from 'react-redux';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport {Link} from 'react-router-dom';\r\nimport Spinner from '../../elements/spinner';\r\nimport moment from 'moment';\r\nconst { TabPane } = Tabs;\r\nexport default function BillFollow (){\r\n    const datauser = useSelector(state=>state.userReducer.currentUser);\r\n    const [fullData, setfullData] = useState();\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [keyTab, setkeyTab] = useState(\"1\");\r\n    const [statusUser, setstatusUser] = useState(false);\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        setstatusUser(false)\r\n        getBill()\r\n    },[datauser])\r\n    const getBill = async()=>{\r\n        if(datauser.id!==undefined){\r\n            try {\r\n                const data = {\"idUser\":datauser.id}\r\n                const res = await FetchAPI.postDataAPI(\"/order/getBillByIdUser\",data);\r\n                setstatusUser(true)\r\n                setshowContent(true)\r\n                setfullData(res);\r\n            } catch (error) {\r\n                        \r\n            }\r\n        }else{\r\n            setshowContent(true)\r\n        }\r\n    }\r\n    const columns  = [\r\n        {\r\n            title:\"Đơn hàng\",\r\n            key:'id',\r\n            render: record=>{\r\n                return (\r\n                    <span style={{ fontWeight:'bold' }}>{\"#\"+record.id}</span>\r\n                )\r\n            }\r\n        },\r\n        { \r\n            title:\"Ngày Đặt\",\r\n            dataIndex:\"\",\r\n            key:'date',\r\n            render:(record)=>{\r\n               return(\r\n                   <span>{moment(record.create_at).format('YYYY-MM-DD HH:mm:ss')}</span>\r\n               )\r\n            }   \r\n        },\r\n        { \r\n            title:\"Tình trạng\",\r\n            dataIndex:\"\",\r\n            key:'status',\r\n            render:(record)=>{\r\n                if(record.status===0){\r\n                    return <span style={{ color:'red' }}>Đang xử lý</span>\r\n                }else if(record.status===1){\r\n                    return <sapn style={{color:'blue' }}>Đang giao hàng</sapn>\r\n                }else if(record.status===2) {\r\n                    return <span style={{ color:'green' }}>Hoàn thành</span>\r\n                }else{\r\n                    return <span style={{ color:'gray' }}>Đã hủy</span>\r\n                }\r\n            }\r\n        },\r\n        { \r\n            title:\"Tổng\",\r\n            dataIndex:\"\",\r\n            key:'total',\r\n            render:(record)=>{\r\n               return <span>{getPriceVND(record.total_price) +\" đ\"}</span>\r\n            }\r\n        },\r\n        { \r\n            title:\"Các thao tác\",\r\n            dataIndex:\"\",\r\n            key:'behavior',\r\n            render:(record)=>{\r\n               return (\r\n               <Button>\r\n                   <Link to={`/billdetails/${record.code_order}`}>\r\n                        Chi tiết\r\n                   </Link>\r\n                </Button>\r\n               )\r\n            }\r\n        },\r\n    ]\r\n    const TabContent = ()=>{\r\n        let dataTmp = [];\r\n        if(fullData!==undefined){\r\n            if(keyTab===\"1\"){\r\n                dataTmp = fullData.filter(e=>e.status!==4);\r\n            }\r\n            if(keyTab===\"2\"){\r\n                dataTmp = fullData.filter(e=>e.status===0)\r\n            }\r\n            if(keyTab===\"3\"){\r\n                dataTmp = fullData.filter(e=>e.status===1) \r\n            }\r\n            if(keyTab===\"4\"){\r\n                dataTmp = fullData.filter(e=>e.status===2) \r\n            }\r\n            //sort by date soon as soon\r\n            dataTmp.sort(function(a,b){\r\n                return new Date(b.create_at) - new Date(a.create_at);\r\n            });\r\n        }\r\n        return(\r\n            <div className=\"wrapperTableBill\">\r\n                <Table \r\n                    columns={columns} \r\n                    dataSource={dataTmp} \r\n                    size=\"small\"\r\n                    locale={{ emptyText:\"Bạn chưa có đơn hàng nào\" }}/>\r\n            </div>\r\n        )\r\n    }\r\n    return(\r\n        <div style={{ minHeight:450 }}>\r\n            {showContent ? \r\n                <div>\r\n                {statusUser ? \r\n                <div style={{ backgroundColor:'white',paddingTop:20,minHeight:450 }}>\r\n                <Tabs defaultActiveKey=\"1\" type=\"card\" onChange={(e)=>setkeyTab(e)} size=\"small\" tabPosition=\"top\" centered>\r\n                    <TabPane tab=\"Tất cả đơn hàng của bạn\" key=\"1\">\r\n                            <TabContent />\r\n                    </TabPane>\r\n                    <TabPane tab=\"Đang xử lý\" key=\"2\">\r\n                            <TabContent />\r\n                    </TabPane>\r\n                    <TabPane tab=\"Đang giao hàng\" key=\"3\">\r\n                            <TabContent />\r\n                    </TabPane>\r\n                    <TabPane tab=\"Đã hoàn thành\" key=\"4\">\r\n                            <TabContent />\r\n                    </TabPane> \r\n                </Tabs>\r\n                </div>\r\n                :\r\n                <div style={{ padding:\"20px 40px\" }}>\r\n                    <span style={{ fontWeight:'bold' }}>Hãy đăng nhập để theo dõi đơn hàng...</span>\r\n                </div>\r\n                }\r\n                </div>\r\n                 :\r\n                <Spinner spinning={!showContent}/>\r\n\r\n            }\r\n        </div>\r\n    )\r\n}","\r\nimport {Menu,message} from 'antd';\r\nimport {Link} from 'react-router-dom';\r\nexport default function menuAccount (props){\r\n    const key = 'updatable';\r\n    const {name} = props.data;\r\n    const handleLogout = ()=>{\r\n        message.loading({ content: 'Đang đăng xuất...', key });\r\n        setTimeout(()=>{\r\n            localStorage.removeItem(\"token\");\r\n            props.refreshAccount();\r\n            message.success({ content: 'Đăng xuất thành công!', key, duration: 2 });\r\n        },1000)\r\n    }\r\n    return(\r\n        <Menu theme=\"light\" style={{boxShadow:'2px 2px 50px #00000026', borderRadius:'4px'}}>\r\n            <Menu.Item key=\"bill\" >\r\n                <Link to=\"/billfollow\">\r\n                Đơn hàng\r\n                </Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"profile\" >\r\n                <Link to=\"/profile\">\r\n                    {\"Thông tin tài khoản \" }\r\n                </Link>\r\n            </Menu.Item>\r\n            \r\n            <Menu.Item key=\"logout\" onClick={handleLogout}>\r\n                Đăng xuất\r\n            </Menu.Item>\r\n        </Menu>\r\n    )\r\n}","import React from 'react';\r\nimport {Modal,List,Rate,Input,Button,message} from 'antd';\r\n\r\nimport * as FetchAPI from '../util/fetchApi';\r\nexport default function ModalReviewProduct (props) {\r\n    // console.log(props.dataProduct)\r\n    // console.log(props.user.id)\r\n    const handleAddReview = async(data)=>{\r\n        if(data.reviewStar===null){\r\n            message.warning('Bạn hãy đánh giá số sao cho sản phẩm!')\r\n        }else{\r\n            const req = {\r\n                \"idOrderDetails\":data.id,\r\n                \"idUser\":props.user.id,\r\n                \"idProduct\":data.idProduct,\r\n                \"comment\":data.comment,\r\n                \"reviewStar\":data.reviewStar\r\n            }\r\n            const res = await FetchAPI.postDataAPI(\"/review/addReview\",req);\r\n            if(res.msg){\r\n                if(res.msg===\"Success\"){\r\n                    message.success(\"Cảm ơn. Đánh giá của bạn đã được lưu\");\r\n                    props.refresh();\r\n                }else{\r\n                    message.error(\"Có lỗi rồi !!\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const handleEditReview = async(data)=>{\r\n        const req = {\r\n            \"reviewStar\":data.reviewStar,\r\n            \"comment\":data.comment,\r\n            \"idReview\":data.idReview\r\n        }\r\n        const res = await FetchAPI.postDataAPI(\"/review/editReview\",req);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                message.success(\"Đánh giá của bạn đã được chỉnh sửa\");\r\n            }else{\r\n                message.error(\"Có lỗi rồi !!\");\r\n            }\r\n        }\r\n    }\r\n    const renderItem = (item)=>{\r\n        return(\r\n        <List.Item>\r\n            <div style={{ width:'100%' }}>\r\n                <span style={{ fontWeight:'bold' }}>{item.name_product}</span>\r\n                <span style={{ marginLeft:10 }}>{`(${item.size})`}</span>\r\n                <Rate \r\n                    defaultValue={item.reviewStar}\r\n                    style={{marginLeft:20}}\r\n                    onChange= {e=>item.reviewStar=e}\r\n                />\r\n                <Input.TextArea \r\n                    defaultValue={item.comment}\r\n                    placeholder=\"Đánh giá của bạn về sản phẩm này\"\r\n                    onChange= {(e)=>item.comment=e.target.value}\r\n                /> \r\n                <div style={{display:'flex', justifyContent:'center',paddingTop:20 }}>\r\n                {item.reviewStar===null&&item.comment===null ?\r\n                    <Button type=\"primary\" danger onClick={()=>handleAddReview(item)}>\r\n                        Đánh giá\r\n                    </Button>\r\n                :\r\n                    <Button type=\"primary\" danger onClick={()=>handleEditReview(item)}>\r\n                        Chỉnh sửa đánh giá\r\n                    </Button>\r\n                }\r\n                </div>\r\n            </div>\r\n\r\n        </List.Item>\r\n    )\r\n    }\r\n    return(\r\n        <Modal\r\n            title=\"Đánh giá sản phẩm\"\r\n            visible={props.visible}\r\n            onCancel={props.onCancel}\r\n            footer={false}\r\n        >\r\n          \r\n            <List \r\n                itemLayout=\"horizontal\"\r\n                dataSource={props.dataProduct}\r\n                renderItem= {renderItem}\r\n            />\r\n            \r\n        </Modal>\r\n    )\r\n}   ","import React ,{useEffect,useState}from 'react'; \r\nimport { PageHeader,Table,Row,Col,Space,Card ,Button,message,Modal} from 'antd';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {getPriceVND} from '../../contain/getPriceVND';\r\nimport Spinner from '../../elements/spinner';\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams,useHistory } from 'react-router-dom';\r\nimport ModalReviewProduct from '../../elements/ModalReviewProduct';\r\nexport default function BillDetails(){\r\n    const history = useHistory();\r\n    const [dataProduct, setdataProduct] = useState();\r\n    const [dataBill, setdataBill] = useState();\r\n    const [totalTmp, settotalTmp] = useState(0);\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [promotionprice, setpromotionprice] = useState(0);\r\n    const [showModalReview, setshowModalReview] = useState(false);\r\n    const [showModalCancel, setshowModalCancel] = useState(false);\r\n    const [dataSale, setdataSale] = useState();\r\n    const currentUser = useSelector(state=>state.userReducer.currentUser);\r\n    const [statusUser, setstatusUser] = useState(false);\r\n    const {idBill} = useParams();\r\n\r\n    useEffect(()=>{\r\n        console.log(idBill)\r\n        setstatusUser(false);\r\n        setshowContent(false)\r\n        getProduct();\r\n        getInforPayment();\r\n    },[currentUser])\r\n    const getProduct = async()=>{\r\n        const data = {\"idOrder\":idBill}\r\n        const product = await FetchAPI.postDataAPI('/order/getProductByIdBill',data);\r\n        if(product!==undefined){\r\n            let total = 0;\r\n            product.map((e,index)=>{\r\n                total+= e.price*e.quanity;\r\n                if(index===product.length-1){\r\n                    settotalTmp(total);\r\n                }\r\n                return false;\r\n            })\r\n        }\r\n        setdataProduct(product);\r\n    }\r\n    const getInforPayment = async()=>{\r\n        const data = {\"idOrder\":idBill}\r\n        const bill = await FetchAPI.postDataAPI('/order/getBillById',data);\r\n        if(currentUser.id===undefined){\r\n            setstatusUser(false)\r\n        }else{\r\n            if(currentUser.id===bill[0].idUser){\r\n                setstatusUser(true)\r\n            }\r\n        }\r\n        setdataBill(bill[0])\r\n        if(bill[0].idSale!==null){\r\n            getSale(bill[0].idSale);\r\n        }\r\n        setshowContent(true)\r\n    }\r\n    const getSale = async(idSale)=>{\r\n        const res = await FetchAPI.postDataAPI(\"/order/getSaleById\",{\"idSale\":idSale})\r\n        if(res!==undefined){\r\n            setdataSale(res[0])\r\n            setpromotionprice(res[0].cost_sale)\r\n        }\r\n    }\r\n    const handleCancelBill = async()=>{\r\n        const data = {\"code_order\":dataBill.code_order,\"status\":3,\"email\":currentUser.email}\r\n        const res = await FetchAPI.postDataAPI(\"/order/updateStatusBill\",data);\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                setTimeout(()=>{\r\n                    setshowModalCancel(false)\r\n                    message.success(\"Hủy đơn hàng thành công !\");\r\n                    history.goBack();\r\n                },500)\r\n            }else{\r\n                setTimeout(()=>{\r\n                    setshowModalCancel(false)\r\n                    message.error(\"Có lỗi rồi !!\");\r\n                 \r\n                },500)\r\n            }\r\n        }\r\n    }\r\n    const ModalCancelBill = ()=>(\r\n        <Modal\r\n            title={`Bạn chắc chắn muốn hủy đơn #${dataBill.id}`}\r\n            visible={showModalCancel}\r\n            onOk={handleCancelBill}\r\n            onCancel={()=>setshowModalCancel(false)}\r\n            cancelText=\"Thoát\"\r\n            okText=\"Chắc chắn\"\r\n        >\r\n            <p>Bạn chắc chắn với quyết định của mình ! Đơn hàng này của bạn sẽ bị hủy.</p>\r\n        </Modal>\r\n    )\r\n    const columns  = [\r\n        {\r\n            title:\"Sản phẩm\",\r\n            key:'product',\r\n            render : record=>{\r\n                return(\r\n                    <div>\r\n                        <span>{record.name_product+\" ( \"+record.size +\" )\"}</span>\r\n                        <span style={{ paddingLeft:20,fontWeight:'bold' }}>{\"X\" +record.quanity}</span>\r\n                    </div>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title:\"Tổng\",\r\n            key:'total_price',\r\n            render: record=>{\r\n                return <span>{getPriceVND(record.price*record.quanity) +\" đ\"}</span>\r\n            }\r\n        }\r\n    ]\r\n    const ViewProduct = ()=>(\r\n        <Table \r\n            columns={columns}\r\n            dataSource={dataProduct}\r\n            pagination={false} \r\n            size=\"small\"\r\n            summary={()=>(\r\n                <Table.Summary>\r\n                    <Table.Summary.Row>\r\n                        <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Tạm tính</span></Table.Summary.Cell>\r\n                        <Table.Summary.Cell index={1}>{getPriceVND(totalTmp)+\" đ\"}</Table.Summary.Cell>\r\n                    </Table.Summary.Row>\r\n                    {dataSale !== undefined &&\r\n                        <Table.Summary.Row>\r\n                            <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Mã khuyến mãi</span></Table.Summary.Cell>\r\n                            <Table.Summary.Cell index={1}>{\"-\"+getPriceVND(promotionprice)+\" đ\"}</Table.Summary.Cell>\r\n                        </Table.Summary.Row>\r\n                    }\r\n                    <Table.Summary.Row>\r\n                        <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Phí vận chuyển</span></Table.Summary.Cell>\r\n                        <Table.Summary.Cell index={1}>{getPriceVND(30000)+\" đ\"}</Table.Summary.Cell>\r\n                    </Table.Summary.Row>\r\n                    <Table.Summary.Row>\r\n                        <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Tổng</span></Table.Summary.Cell>\r\n                        <Table.Summary.Cell index={1}>{getPriceVND(totalTmp-promotionprice+30000)+\" đ\"}</Table.Summary.Cell>\r\n                    </Table.Summary.Row>\r\n                    {dataBill.status===2 &&\r\n                    <Table.Summary.Row>\r\n                        <Table.Summary.Cell index={0}><span style={{fontWeight:'bold'}}>Đánh giá sản phẩm</span></Table.Summary.Cell>\r\n                        <Table.Summary.Cell index={1}>\r\n                            <Button onClick={()=>setshowModalReview(true)}>\r\n                                Đánh giá ngay\r\n                            </Button>\r\n                        </Table.Summary.Cell>\r\n                    </Table.Summary.Row>\r\n                    }\r\n                </Table.Summary>\r\n        )}\r\n        />      \r\n    )\r\n    const getTextStatus = (a)=>{\r\n        if(a===0){\r\n            return <b>Đang xử lý</b>\r\n        }else if(a===1){\r\n            return <b>Đang giao hàng</b>\r\n        }else if(a===2){\r\n            return <b>Đã hoàn thành</b>\r\n        }else{\r\n            return <b>Đã hủy</b>\r\n        }\r\n    }\r\n\r\n    console.log(dataBill);\r\n    return(\r\n        <div style={{ minHeight:450,paddingBottom:20 }}>\r\n            {showContent ?\r\n            <div>\r\n            {statusUser ?\r\n            <div>\r\n                \r\n            <PageHeader\r\n                className=\"site-page-header\"\r\n                onBack={() => history.goBack()}\r\n                title=\"Chi tiết đơn hàng\"\r\n                subTitle={\"Mã đơn hàng: #\"+dataBill.id}\r\n            />\r\n            <Row>\r\n            <Col lg={14} xs={24} style={{ padding:\"20px 40px\" }} >\r\n                {ViewProduct()}\r\n                <Card title=\"Địa chỉ thanh toán\" style={{ marginTop:30 }}>\r\n                <div style={{ fontSize:16 }}>\r\n                <Space direction=\"vertical\" size={20}>\r\n                    <span><b>Tên: </b>{dataBill.name}</span>\r\n                    <span><b>Địa chỉ: </b>{dataBill.address}</span>\r\n                    <span><b>Email: </b>{dataBill.email}</span>\r\n                    <span><b>Số điện thoại: </b>{dataBill.phone} </span>\r\n                    <span><b>Message: </b>{dataBill.message} </span>\r\n                </Space>\r\n                </div>\r\n                </Card>\r\n            </Col>\r\n            <Col lg={10} xs={24} style={{ justifyContent:'center',display:'flex' }}>\r\n                <Card title=\"Cảm ơn bạn. Đơn hàng đã được nhận.\" style={{ marginTop:20,width:'80%' }}>\r\n                <ul>\r\n                    <Space size={10} direction=\"vertical\">\r\n                        <li>Mã đơn hàng : <b>{\"#\"+dataBill.id}</b></li>\r\n                        <li>Ngày đặt: <b>{new Date(dataBill.create_at).toString()}</b></li>\r\n                        <li>Email : <b>{dataBill.email}</b></li>\r\n                        <li>Tổng cộng : <b>{getPriceVND(totalTmp-promotionprice)+\" đ\"}</b></li>\r\n                        <li>Thời gian cập nhật hóa đơn: <b>{new Date(dataBill.update_at).toString()}</b></li>\r\n                                                <li>Phương thức thanh toán: \r\n                                                <b>{dataBill.method_payment === 1 && \"Thanh toán khi nhận hàng\"}</b>\r\n                                <b>{dataBill.method_payment === 2 && \"Chuyển khoản ngân hàng\"}</b>\r\n                                <b>{dataBill.method_payment === 3 && \"Thanh toán VNPAY\"}</b>\r\n                                <b>{dataBill.method_payment === 4 && \"Thanh toán MOMO\"}</b>\r\n                                <b>{dataBill.method_payment===6 && \"Thanh toán PayPal\"}</b>\r\n                            \r\n                        </li>\r\n                        <li>\r\n                            Tình trạng : {getTextStatus(dataBill.status)}\r\n                        </li>\r\n                        <div>\r\n                            <Button type=\"primary\" onClick={()=>setshowModalCancel(true)} danger disabled={dataBill.status!==0} >\r\n                                Hủy đơn\r\n                            </Button>\r\n                        </div>\r\n                    </Space>\r\n                </ul>\r\n                </Card>\r\n            </Col>\r\n            </Row> \r\n            <ModalReviewProduct \r\n                visible={showModalReview}\r\n                onCancel={()=>setshowModalReview(false)}\r\n                refresh={()=>getProduct()}\r\n                dataProduct={dataProduct}\r\n                user={currentUser}\r\n            /> \r\n            {ModalCancelBill()}\r\n            </div>\r\n            :\r\n            <div style={{ padding:\"20px 40px\" }}>\r\n                <span style={{ fontWeight:'bold' }}>Bạn không có quyền truy cập hóa đơn này...</span>\r\n            </div>\r\n            }\r\n            </div>\r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {List,Row,Col,Image,Button} from 'antd';\r\nimport {getPriceVND} from '../contain/getPriceVND';\r\nimport {DeleteOutlined} from '@ant-design/icons';\r\nimport {Link} from 'react-router-dom';\r\nexport default function dropDownCart(props){\r\n    let {data} = props;\r\n    let total = 0;\r\n    const handleDeleteItem = (item)=>{\r\n        const dataOut = localStorage.getItem(\"cart\");\r\n        let objDataOut = JSON.parse(dataOut);\r\n        if(objDataOut.length===1){\r\n            localStorage.removeItem(\"cart\");\r\n            props.update();\r\n        }else{\r\n            let index = objDataOut.findIndex(x=> x.id===item[0].id && x.option===item.option);\r\n            objDataOut.splice(index, 1);\r\n            localStorage.setItem(\"cart\",JSON.stringify(objDataOut));\r\n            props.update();\r\n        }\r\n    }\r\n    const render = (item)=>{\r\n        return(\r\n           \r\n            <List.Item>\r\n                <Row style={{ width:'100%'}}>\r\n                    <Col span={4}>\r\n                        <Image src={item[0].image} width={60} preview={false}/>\r\n                    </Col>\r\n                    <Col span={18} style={{ paddingLeft:40,display:'flex',flexDirection:'column' }}>\r\n                        <span style={{ fontWeight:'bold' }}>{item[0].name}</span>\r\n                        {item[0].promotional===null ?\r\n                            <span>\r\n                                <span style={{ color:'gray',paddingRight:10 }}>{item.quanity+ \"x\"}</span>\r\n                                <span style={{ color:'black' }}>{getPriceVND(item[0].price)+\" đ\"}</span> \r\n                            </span>\r\n                            :\r\n                            <span>\r\n                                <span style={{ color:'gray',paddingRight:10 }}>{item.quanity+ \"x\"}</span>\r\n                                <span style={{ color:'black' }}>{getPriceVND(item[0].promotional)+\" đ\"}</span>\r\n                            </span>\r\n                        }\r\n                        <span>{item.option}</span>\r\n                    </Col>\r\n                    <Col span={2} style={{ justifyContent:'flex-end',alignItems:'center',display:'flex' }}>\r\n                        <DeleteOutlined \r\n                            style={{fontSize:20,cursor:\"pointer\"}}\r\n                            onClick={()=>handleDeleteItem(item)}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </List.Item>\r\n        \r\n        )\r\n    }\r\n    if(data.length===undefined || data===null){\r\n        return(\r\n            <div\r\n                style={{\r\n                    backgroundColor:'white',\r\n                    padding:30,\r\n                    boxShadow:\"2px 2px 50px #00000026\",\r\n                    borderRadius:'4px'\r\n                }} \r\n            >\r\n                <span > Chưa có sản phẩm trong giỏ hàng </span>\r\n            </div>\r\n        )\r\n    }else{\r\n        data.map((item)=>{\r\n            if(item[0].promotional===null){\r\n                total += item[0].price*item.quanity;\r\n            }else{\r\n                total += item[0].promotional*item.quanity;\r\n            } \r\n            return false; \r\n        })\r\n        return(\r\n            <div  \r\n                style={{\r\n                    backgroundColor:'white',\r\n                    padding:30,\r\n                    boxShadow:\"2px 2px 50px #00000026\",\r\n                    width:400,\r\n                    borderRadius:'4px'\r\n                }}>\r\n                <List \r\n                    dataSource={data}\r\n                    renderItem={render}\r\n                />\r\n                <div \r\n                    style={{ fontWeight:'bold',justifyContent:'center',width:'100%',display:'flex',padding:\"10px 0px\"}}\r\n                >\r\n                    <span style={{ color:'gray' }}>TẠM TÍNH : </span>\r\n                    <span style={{ padding:\"0 5px\" }}>{getPriceVND(total)+\" đ\"}</span>\r\n                </div>\r\n                <div>\r\n                    <Button type=\"primary\" style={{ width:'100%',height:40 }}>\r\n                        <Link to=\"/cart\">\r\n                        Xem giỏ hàng\r\n                        </Link>\r\n                    </Button>\r\n                    <Button type=\"primary\" style={{ width:'100%',margin:\"10px 0px\",height:40 }} danger>\r\n                        <Link to=\"/payment\">\r\n                        Thanh toán\r\n                        </Link>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React,{useEffect,useState} from 'react';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Spinner from '../../elements/spinner';\r\nimport {Row,Col,Pagination,Breadcrumb} from 'antd';\r\nimport Product from '../../elements/product';\r\nimport { useParams,useHistory,useLocation,Link } from 'react-router-dom';\r\nexport default function ProductSale (){\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [totalProduct, settotalProduct] = useState();\r\n    const [dataShow, setdataShow] = useState([]);\r\n    const PageSize = 8;\r\n    const {page} = useParams();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    useEffect(()=>{\r\n        setshowContent(false);\r\n        window.scroll(0,0);\r\n        getProductSale()\r\n    },[location])\r\n\r\n    const getProductSale = async()=>{\r\n        let arrTmp = []\r\n        const res = await FetchAPI.getAPI(\"/product/getproductSale\");\r\n        res.map((item,index)=>{\r\n            if(index<PageSize*page&&index>=PageSize*(page-1)){\r\n                arrTmp.push(item)\r\n            }\r\n        })\r\n        setdataShow(arrTmp);\r\n        settotalProduct(res.length)\r\n        setshowContent(true)\r\n    }\r\n  \r\n    const ItemProduct = dataShow.map((item)=>{\r\n        return(\r\n            <div style={{ padding:'0 15px', marginBottom:12 }} >\r\n                <Product\r\n                    item={item}\r\n                />\r\n            </div>\r\n        )\r\n    })\r\n    return(\r\n        <div style={{ maxWidth:1340, margin:'auto' }}>\r\n            {showContent ?\r\n            <div className='wrapper-sale-product' style={{display:'flex',flexDirection:'column',justifyContent:'center', padding:'60px 0' }}>\r\n                 <span className=\"title-list\"  style={{ fontSize:30,paddingBottom:20,fontWeight:'bold', width:'auto', margin:'auto' }}>\r\n                    SẢN PHẨM KHUYẾN MÃI\r\n                </span>\r\n                \r\n                 <Breadcrumb style={{ fontSize:18,padding:\"20px 20px\"}}>\r\n                    <Breadcrumb.Item>\r\n                        <Link to={\"/home\"}>Trang chủ</Link>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <Link to={\"/fullproduct/1\"}>Cửa hàng</Link>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        {`Sản phẩm khuyến mãi`}\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <Row gutter={ [{ xs: 8, sm: 16, md: 24, lg: 24 },20]} style={{ width:'100%' }} >\r\n                    {ItemProduct}\r\n                </Row>\r\n                <div style={{ justifyContent:'center',display:'flex',paddingTop:20 }}>\r\n                <Pagination \r\n                    defaultPageSize={PageSize} \r\n                    defaultCurrent={page} \r\n                    total={totalProduct} \r\n                    onChange= {(e)=>history.push(`/productsale/${e}`)}\r\n                />\r\n                </div>\r\n            </div>\r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React,{useEffect,useState} from 'react';\r\nimport { useSelector} from 'react-redux';\r\nimport Spinner from '../../elements/spinner';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {Form,Input,Button,message} from 'antd';\r\n\r\nexport default function Profile(){\r\n    const [showContent, setshowContent] = useState(false);\r\n    const currentUser = useSelector(state=>state.userReducer.currentUser);\r\n    const [dataUser, setdataUser] = useState();\r\n    const [loadingBtn, setloadingBtn] = useState(false);\r\n    const [formInfor] = Form.useForm();\r\n    useEffect(()=>{\r\n        setshowContent(false)\r\n        if(currentUser.id==undefined){\r\n            setshowContent(true)\r\n        }else{\r\n            getInforUser()\r\n        }\r\n    },[currentUser])\r\n  \r\n    const getInforUser = async()=>{\r\n        const data = {\"idUser\":currentUser.id}\r\n        const res = await FetchAPI.postDataAPI(\"/user/getInforUser\",data)\r\n        setdataUser(res[0])\r\n        formInfor.setFieldsValue(res[0])\r\n        setshowContent(true)\r\n    }\r\n    const handleEditProfile = async()=>{\r\n        setloadingBtn(true)\r\n        const res = await FetchAPI.postDataAPI(\"/user/updateProfile\",{data:dataUser});\r\n        if(res.msg){\r\n            if(res.msg===\"Success\"){\r\n                setTimeout(()=>{\r\n                    message.success(\"Cập nhật thành công\")\r\n                    setloadingBtn(false)\r\n                },500)\r\n              \r\n            }else{\r\n                setTimeout(()=>{\r\n                    message.error(\"Có lỗi rồi !!\")\r\n                    setloadingBtn(false)\r\n                },500)\r\n               \r\n            }\r\n        }\r\n    }\r\n   \r\n    const InforUser = ()=>(\r\n        <Form\r\n            form={formInfor}\r\n            labelCol={{ span: 6 }}\r\n            wrapperCol={{ span: 14 }}\r\n            style={{paddingTop:20}}\r\n            onFinish={handleEditProfile}\r\n          \r\n        >\r\n            <Form.Item\r\n                label=\"Họ và tên\"\r\n                name=\"name\"\r\n                rules={[{ required: true, message: 'Nhập họ và tên'}]}\r\n            >\r\n                <Input \r\n                    placeholder=\"Nhập họ và tên đầy đủ\"\r\n                    value={dataUser.name}\r\n                    onChange= {(e)=>setdataUser({...dataUser,name:e.target.value})}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                label=\"Email\"\r\n                name=\"email\"\r\n            >\r\n                <Input \r\n                    placeholder=\"Nhập email\"\r\n                    disabled\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                label=\"Địa chỉ\"\r\n                name=\"address\"\r\n                rules={[{ required: true, message: 'Nhập địa chỉ'}]}\r\n            >\r\n                <Input \r\n                    placeholder=\"Nhập địa chỉ\"\r\n                    value={dataUser.address}\r\n                    onChange= {(e)=>setdataUser({...dataUser,address:e.target.value})}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                label=\"Số điện thoại\"\r\n                name = \"phone\"\r\n                rules={[{ required: true, message: 'Nhập số điện thoại'}]}\r\n            >\r\n                <Input\r\n                    placeholder=\"Số điện thoại\"\r\n                    value={dataUser.phone}\r\n                    onChange= {(e)=>setdataUser({...dataUser,phone:e.target.value})}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item style={{ paddingTop:20 }}  wrapperCol={{ span: 12, offset: 10 }}>\r\n                <Button type=\"primary\" htmlType=\"submit\" danger loading={loadingBtn}>\r\n                    Cập nhật\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n    return(\r\n        <div style={{ minHeight:450 }}>\r\n            {showContent ?\r\n                <div>\r\n                    {currentUser.id==undefined ?\r\n                    <span style={{ margin:\"20px 10px\" }}>\r\n                        Vui lòng đăng nhập để xem thông tin...\r\n                    </span>\r\n                    :\r\n                    <div style={{ padding:\"20px 20px\" }}>\r\n                        Lưu thông tin cá nhân của bạn để thuận tiện cho việc thanh toán\r\n                        {InforUser()}\r\n                    </div>\r\n                \r\n                    }\r\n                </div>\r\n                :\r\n                <Spinner spinning={!showContent}/>\r\n           }\r\n        </div>\r\n    )\r\n}","import React,{useEffect,useState} from 'react';\r\nimport {Row,Col,Breadcrumb} from 'antd';\r\nimport { useParams,Link } from 'react-router-dom';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport Product from '../../elements/product';\r\nimport Spinner from '../../elements/spinner';\r\nexport default function SearchView (){\r\n    const [dataProduct, setdataProduct] = useState([]);\r\n    const {datasearch} = useParams();\r\n    const [showContent, setshowContent] = useState(false);\r\n    useEffect(()=>{\r\n        setshowContent(false)\r\n        getProduct();\r\n    },[datasearch])\r\n    const getProduct = async()=>{\r\n        const res = await FetchAPI.postDataAPI(\"/product/searchProduct\",{\"datasearch\":datasearch});\r\n        setdataProduct(res)\r\n        setshowContent(true)\r\n    }\r\n    const ItemProduct = dataProduct.map((item)=>{\r\n        return(\r\n            <Col style={{display:'flex', justifyContent:'center' }} xl={6} md={8} xs={12}>\r\n                <Product\r\n                    item={item}\r\n                />\r\n            </Col>\r\n        )\r\n    })\r\n    const Direction = ()=>(\r\n        <Breadcrumb style={{ fontSize:18, paddingBottom:20}}>\r\n            <Breadcrumb.Item>\r\n                <Link to={\"/home\"}>Trang chủ</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>\r\n                <Link to={\"/fullproduct/1\"}>Cửa hàng</Link>\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>\r\n                {`Kết quả tìm kiếm của \"${datasearch}\"`}\r\n            </Breadcrumb.Item>\r\n        </Breadcrumb>\r\n    )\r\n    return(\r\n        <div style={{ minHeight:500 }}>\r\n            {showContent ? \r\n            <div style={{ maxWidth:'1340px', margin:'auto' }}>\r\n                <div style={{display:'flex',flexDirection:'column',justifyContent:'center', paddingTop:'60px' }}>\r\n                <span style={{ fontSize:30,paddingBottom:20,fontWeight:'bold', width:'auto', margin:'auto'}}>{`Kết quả tìm kiếm của \"${datasearch}\"`}</span>\r\n                {Direction()}\r\n                </div>\r\n                {dataProduct.length!==0 ?\r\n                <Row gutter={ [{ xs: 8, sm: 16, md: 24, lg: 24 },20]} style={{ width:'100%',paddingTop:20 }} >\r\n                        {ItemProduct}\r\n                </Row>\r\n                :\r\n                <div style={{ display:'flex',alignItems:'center',justifyContent:'center',height:400 }}>\r\n                    Không sản phẩm nào được tìm thấy...\r\n                </div>\r\n                }\r\n            </div>\r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React ,{useEffect,useState} from 'react';\r\nimport * as FetchAPI from '../../util/fetchApi';\r\nimport {Pagination,Col,Row,Breadcrumb} from 'antd';\r\nimport Product from '../../elements/product';\r\nimport { useParams,useHistory,useLocation,Link } from 'react-router-dom';\r\nimport Spinner from '../../elements/spinner';\r\nexport default function FullProduct(){\r\n    const [showContent, setshowContent] = useState(false);\r\n    const [dataProduct, setdataProduct] = useState([]);\r\n    const [totalProduct, settotalProduct] = useState();\r\n    const PageSize = 8;\r\n    const {page} = useParams();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    useEffect(()=>{\r\n        window.scroll(0,0)\r\n        getFullProduct();\r\n    },[location])\r\n    const getFullProduct = async()=>{\r\n        setshowContent(false)\r\n        let arrTmp = []\r\n        const res = await FetchAPI.getAPI(\"/product/getFullProduct\");\r\n        res.map((item,index)=>{\r\n            if(index<PageSize*page&&index>=PageSize*(page-1)){\r\n                arrTmp.push(item)\r\n            }\r\n        })\r\n        setdataProduct(arrTmp)\r\n        settotalProduct(res.length)\r\n        setshowContent(true)\r\n    }\r\n    const ItemProduct = dataProduct.map((item)=>{\r\n        return(\r\n            <div style={{ padding:'0 15px', marginBottom:12 }} >\r\n            <Product\r\n                item={item}\r\n            />\r\n        </div>\r\n        )\r\n    })\r\n    return(\r\n        <div style={{ maxWidth:1340, margin:'auto' }}>\r\n            {showContent ?\r\n            <div className='wrapper-full-product' style={{ display:'flex',flexDirection:'column',justifyContent:'center', padding:'60px 0' }}>\r\n                 <span className=\"title-list\"  style={{ fontSize:30,paddingBottom:20,fontWeight:'bold', width:'auto', margin:'auto' }}>\r\n                 CỬA HÀNG\r\n                </span>\r\n                <Breadcrumb style={{ fontSize:18,padding:\"20px 20px\"}}>\r\n                    <Breadcrumb.Item>\r\n                        <Link to={\"/home\"}>Trang chủ</Link>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        {`Cửa hàng`}\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <Row gutter={ [{ xs: 8, sm: 16, md: 24, lg: 24 },20]} style={{ width:'100%' }} >\r\n                        {ItemProduct}\r\n                </Row>\r\n                <div style={{ justifyContent:'center',display:'flex',paddingTop:20 }}>\r\n                <Pagination \r\n                    defaultPageSize={PageSize} \r\n                    defaultCurrent={page} \r\n                    total={totalProduct} \r\n                    onChange= {(e)=>history.push(`/fullproduct/${e}`)}\r\n                />\r\n                </div>\r\n            </div>\r\n            :\r\n            <Spinner spinning={!showContent}/>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {Layout,Row,Col} from 'antd';\r\nimport logo from '../images/Fashion-removebg-preview.png';\r\nimport {FacebookFilled,GoogleCircleFilled,GithubFilled,TwitterCircleFilled} from '@ant-design/icons'\r\nimport {Link} from 'react-router-dom';\r\nconst {Footer} = Layout;\r\nexport default function FooterWeb (){\r\n    return(\r\n        <Footer className=\"footer\">\r\n            <Row>\r\n                <Col xl={6} className=\"widget-footer style1\">\r\n                    <div>\r\n                        <img className=\"img-logo\" src={logo} width='80%' height='auto' alt=\"logo\"/>\r\n                    </div>\r\n                    \r\n                </Col>\r\n                <Col xl={6} className=\"widget-footer style2\">\r\n                    <h2 className=\"widget-title-footer\">Tài khoản</h2>\r\n                    <ul>\r\n                        <li><Link to={{ pathname:\"/\" }}>Đăng nhập</Link></li>\r\n                        <li><Link to={{ pathname:\"/\" }}>Đăng ký</Link></li>\r\n                        <li><Link to={{ pathname:\"/billfollow\" }}>Đơn hàng</Link></li>\r\n                        <li><Link to={{ pathname:\"/cart\" }}>Giỏ hàng</Link></li>\r\n                    </ul>\r\n                </Col>\r\n                <Col xl={6} className=\"widget-footer style3\">\r\n                <h2 className=\"widget-title-footer\">Cửa hàng</h2>\r\n                    <ul>\r\n                        <li><Link to={{ pathname:\"/\" }}>Khám phá</Link></li>\r\n                        <li><Link to={{ pathname:\"/\" }}>Liên hệ</Link></li>\r\n                        <li><Link to={{ pathname:\"/\" }}>Giới thiệu</Link></li>\r\n                    </ul>\r\n                </Col>\r\n                <Col xl={6} className=\"widget-footer style4\">\r\n                <h2 className=\"widget-title-footer\">Phản hồi với chúng tôi</h2>\r\n                <ul>\r\n                    <li><a href=\"https://www.facebook.com/ken.navi.1/\" target=\"_blank\"><FacebookFilled/></a></li>\r\n                    <li><a><GoogleCircleFilled /></a></li>\r\n                    <li><a href=\"https://github.com/nvchien2811\" target=\"_blank\"><GithubFilled /></a></li>\r\n                    <li><a><TwitterCircleFilled /></a></li>\r\n                </ul>\r\n                </Col>\r\n            </Row>\r\n        </Footer>\r\n    )\r\n}","import React, { useEffect} from \"react\";\r\n\r\nfunction KommunicateChat() {\r\n    useEffect(() => {\r\n        (function (d, m) {\r\n            var kommunicateSettings = {\r\n            appId: \"2953cd6e9d44c9ff7aa642b5556c98f2c\",\r\n            popupWidget: true,\r\n            automaticChatOpenOnNavigation: true,\r\n        };\r\n        var s = document.createElement(\"script\"); s.type = \"text/javascript\"; s.async = true;\r\n        s.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\r\n        var h = document.getElementsByTagName(\"head\")[0]; h.appendChild(s);\r\n        window.kommunicate = m; m._globals = kommunicateSettings;\r\n      })(document, window.kommunicate || {});\r\n}, []);\r\nreturn <div></div>;\r\n}\r\nexport default KommunicateChat;","import React ,{useEffect,useState,useLayoutEffect} from 'react';\r\nimport { Layout, Menu,Input,Row,Col,BackTop, Dropdown,message,Badge } from 'antd';\r\nimport * as FetchAPI from '../util/fetchApi';\r\nimport logo from '../images/Fashion-removebg-preview.png';\r\nimport Home from './client/Home';\r\nimport MenuProduct from './client/MenuProduct';\r\nimport ProductDetails from './client/ProductDetails';\r\nimport CategoryProduct from './client/CategoryProduct';\r\nimport LoginAdmin from './admin/LoginAdmin';\r\nimport Admin from './admin/Admin';\r\nimport Account  from './client/Account'; \r\nimport Cart from './client/Cart';\r\nimport Payment from './client/Payment';\r\nimport BillFollow from './client/BillFollow';\r\nimport InfoAccount from '../elements/menuAccount';\r\nimport BillDetails from './client/BillDetails';\r\nimport DropDownCart from '../elements/dropDownCart';\r\nimport ProductSale from './client/ProductSale';\r\nimport Profile from './client/Profile';\r\nimport SearchView from './client/SearchView';\r\nimport FullProduct from './client/FullProduct';\r\nimport FooterWeb from '../elements/FooterWeb';\r\nimport {Switch,Route, Link,useHistory,Redirect} from \"react-router-dom\";\r\nimport {HistoryOutlined,PhoneOutlined,ArrowUpOutlined} from '@ant-design/icons';\r\nimport {FaUser,FaShoppingCart} from 'react-icons/fa';\r\nimport {BiMap, BiUser, BiCart } from 'react-icons/bi';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport { getUser} from '../util/getUser';\r\nimport { updateCartCurrent } from '../contain/updateQuanityCart';\r\nimport { updateUser } from '../redux/reducer/user.reducer';\r\nimport ChatBotPage from './ChatBotPage';\r\nimport KommunicateChat from './ChatbotAI';\r\nconst { Header,Content} = Layout;\r\nconst { SubMenu } = Menu;\r\nconst { Search } = Input;\r\n\r\nexport default function App() {\r\n  const [menu, setmenu] = useState();\r\n  const [top, settop] = useState(true);\r\n  const [showContent, setshowContent] = useState(false);\r\n  const [showModalAccount, setshowModalAccount] = useState(false);\r\n  const [statusUser, setstatusUser] = useState(false);\r\n  const history = useHistory();\r\n  const datauser = useSelector(state=>state.userReducer.currentUser);\r\n  const quanityCart = useSelector(state=>state.productReducer.quanityCart);\r\n  const dataCart = useSelector(state=>state.productReducer.cart);\r\n  const dispatch = useDispatch();\r\n  useLayoutEffect(() => {\r\n    document.addEventListener('scroll', () => {\r\n      const isTop = window.scrollY < 20;\r\n      settop(isTop);\r\n      if(!isTop){\r\n        document.getElementsByClassName(\"ant-row\")[0].style.animation = \"move-nav 0.4s\"\r\n      }else{\r\n        if(document.getElementsByClassName(\"ant-row\")!==undefined){\r\n          document.getElementsByClassName(\"ant-row\")[0].style.animation = \"\"\r\n        }\r\n      }\r\n    });\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    getMenu();\r\n    setshowContent(false); \r\n    updateQuanityCart();\r\n    checkUser();\r\n  }, []);\r\n  \r\n  const updateQuanityCart = ()=>{\r\n    updateCartCurrent(dispatch);\r\n  }\r\n\r\n  const checkUser = async()=>{\r\n    const token = localStorage.getItem(\"token\");\r\n    if(token===undefined||token===null){\r\n      setstatusUser(false)\r\n      dispatch(updateUser({}));\r\n    }\r\n    else{\r\n      setstatusUser(true);\r\n      const status = await getUser(token,dispatch);\r\n      if(status===false){\r\n        message.warning(\"Phiên đăng nhập hết hạn, vui lòng đăng nhập lại !\");\r\n        setstatusUser(false);\r\n      }else if(status==\"block\"){\r\n        message.error(\"Tài khoản của bạn đang bị khóa, vui lòng liên hệ với quản lý!\");\r\n        setstatusUser(false);\r\n      }\r\n      else{\r\n        setstatusUser(true);\r\n      }\r\n    }\r\n  }\r\n  const handleCancel = () => {\r\n    setshowModalAccount(false);\r\n  };\r\n  const onSearch = (value)=>{\r\n    history.push(`/search/${value}`)\r\n  }\r\n  const getMenu = async()=>{\r\n    try {\r\n      let item = [];\r\n      const res = await FetchAPI.getAPI(\"/product/getCategory\");\r\n      const res2 = await FetchAPI.getAPI(\"/product/getProductType\");\r\n      res.map((category)=>(\r\n        item.push(\r\n          <SubMenu key={category.slug} title={category.name} onTitleClick={()=>history.push(`/category/${category.id}`)}>\r\n              {res2.map((item)=>{\r\n                  if(item.idCategory===category.id){\r\n                    const localmenu = {\r\n                      pathname:`/menuproduct/${item.id}`\r\n                    }\r\n                    return(\r\n                      <Menu.Item className=\"item-of-submenu\" key={item.slug}>{item.name} <Link to={localmenu}/></Menu.Item>\r\n                    )\r\n                  }\r\n                  return false;   \r\n              })}\r\n          </SubMenu>\r\n        )\r\n      )\r\n      )\r\n      setmenu(item);\r\n      setshowContent(true);\r\n    } catch (error) {\r\n      \r\n    }\r\n  }\r\n\r\n  const Top = ()=>(\r\n\r\n      <Row className=\"top\"  style={top ? { height:'auto', padding: '0' }:{margin:'auto',position:'fixed',top:0,elevation:10,zIndex:100 }} >\r\n          <Col className=\"logo\" style={{ justifyContent:'center',display:'flex',alignItems:'center' }}  >\r\n            <img className=\"img-logo\" src={logo} width='auto' height='60' alt=\"logo\"/>\r\n          </Col>\r\n            <Header className=\"header\" style={{width:'32%', height:'auto', background: 'no-repeat', padding: '0'}}>\r\n              <Menu style={{ justifyContent:'center',alignItems:'center', textTransform:'uppercase' }} theme=\"light\" mode=\"horizontal\" defaultSelectedKeys={['1']} >\r\n                <Menu.Item key=\"1\"> \r\n                <Link to={\"/home\"}>\r\n                Trang chủ\r\n                </Link>\r\n                </Menu.Item>\r\n\r\n                <SubMenu key=\"2\" title=\"Sản phẩm\">\r\n                  {menu}\r\n                </SubMenu>\r\n\r\n                <Menu.Item key=\"3\">\r\n                  <Link to=\"/productsale/1\">\r\n                    Khuyến mãi\r\n                  </Link>\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"4\">\r\n                  <Link to=\"/fullproduct/1\">\r\n                    Cửa hàng\r\n                  </Link>\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"5\">Giới thiệu</Menu.Item>\r\n                \r\n                {/* <Menu.Item key=\"6\">Chính sách</Menu.Item> */}\r\n                \r\n              </Menu>\r\n          </Header>\r\n          <Col className=\"search\"  style={{ justifyContent:'center',display:'flex' }}  xl={3} md={6} xs={20}>\r\n            <Search\r\n              className=\"input-search\"\r\n              placeholder=\"Nhập tên sản phẩm\" \r\n              enterButton \r\n              onSearch={onSearch}\r\n              \r\n            />\r\n          </Col>\r\n          <Col style={{ justifyContent:'center',display:'flex'  }}  >\r\n            {!statusUser ?\r\n            <div \r\n              className=\"btn-header1\" \r\n              style={{ display:'flex',alignItems:'center',fontSize:17}} \r\n              onClick={()=>setshowModalAccount(true)}\r\n            >\r\n              <span className=\"title\" style={{ marginLeft:140 }}>Đăng nhập</span>\r\n            </div>\r\n            :\r\n            <Dropdown  overlay={MenuAccount} placement=\"bottomCenter\" arrow>\r\n            <div className=\"btn-header cart\" style={{ display:'flex',flexDirection:'row',alignItems:'center', position: 'relative', marginLeft: '12px' }}>\r\n              <BiUser style={{fontSize:20, color:'#000000'}} />\r\n          </div>\r\n            </Dropdown>\r\n            }\r\n              <Dropdown overlay={Cartdrop} placement=\"bottomCenter\" arrow>\r\n            <div className=\"btn-header cart\" style={{ display:'flex',flexDirection:'row',alignItems:'center', marginLeft: '12px' }}>\r\n            <Link \r\n              style={{ display:'flex',alignItems:'center',color:'#8a8a8a',fontSize:17, }} \r\n              onClick={()=>console.log(datauser)} \r\n              to={{ pathname:\"/cart\" }}\r\n            >\r\n                <BiCart style={{fontSize:20, color:'#000000'}} />\r\n            </Link>\r\n                <Badge count={quanityCart} offset={[20,-20]} style={{ position:'absolute' }} >\r\n                </Badge >\r\n          </div>\r\n            </Dropdown>\r\n          </Col>\r\n          \r\n      </Row>\r\n  )\r\n  // const Navigation = ()=>(\r\n  //   <Header className=\"header\" style={top ? {width:'100%'}:{position:'fixed',width:'100%',top:0,elevation:10,zIndex:100}}>\r\n  //     <Menu style={{ justifyContent:'center',alignItems:'center' }} theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']} >\r\n  //       <Menu.Item key=\"1\">Trang chủ <Link to={\"/home\"}/></Menu.Item>\r\n  //       <SubMenu key=\"2\" title=\"Sản phẩm\">\r\n  //         {menu}\r\n  //       </SubMenu>\r\n  //       <Menu.Item key=\"4\">\r\n  //         <Link to=\"/productsale/1\">\r\n  //           Sản phẩm khuyến mãi\r\n  //         </Link>\r\n  //       </Menu.Item>\r\n  //       <Menu.Item key=\"5\">\r\n  //         <Link to=\"/fullproduct/1\">\r\n  //           Cửa hàng\r\n  //         </Link>\r\n  //       </Menu.Item>\r\n  //       <Menu.Item key=\"3\">Giới thiệu</Menu.Item>\r\n        \r\n  //       {/* <Menu.Item key=\"6\">Chính sách</Menu.Item> */}\r\n  //       <Menu.Item key=\"7\">Liên hệ</Menu.Item>\r\n  //     </Menu>\r\n  // </Header>\r\n  // )\r\n  const Cartdrop = (\r\n    <DropDownCart\r\n      data={dataCart}\r\n      update={()=>updateQuanityCart()}\r\n    />\r\n  )\r\n  const MenuAccount =(\r\n    <InfoAccount \r\n      refreshAccount={checkUser} \r\n      data={datauser}\r\n    /> \r\n  )\r\n  const Body = ()=>(\r\n    <Content className=\"site-layout\" >\r\n        <Switch>\r\n          <Route path=\"/home\">\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/menuproduct/:idProductType\">\r\n            <MenuProduct/>\r\n          </Route>\r\n          <Route path=\"/category/:id\">\r\n            <CategoryProduct/>\r\n          </Route>\r\n          <Route path=\"/product/:idProduct\">\r\n            <ProductDetails/>\r\n          </Route>\r\n          <Route path=\"/cart\">\r\n            <Cart/>\r\n          </Route>\r\n          <Route path=\"/payment\">\r\n            <Payment />\r\n          </Route>\r\n          <Route path=\"/billfollow\">\r\n            <BillFollow />\r\n          </Route>\r\n          <Route path=\"/billdetails/:idBill\">\r\n            <BillDetails/>\r\n          </Route>\r\n          <Route path=\"/productsale/:page\">\r\n            <ProductSale />\r\n          </Route>\r\n          <Route path=\"/search/:datasearch\">\r\n            <SearchView/>\r\n          </Route>\r\n          <Route path=\"/fullproduct/:page\">\r\n            <FullProduct />\r\n          </Route>\r\n         \r\n          <Route path=\"/profile\">\r\n              <Profile/>\r\n          </Route>\r\n          <Route path=\"/loginadmin\">\r\n            <LoginAdmin/>\r\n          </Route>\r\n          <Route path=\"/admin\">\r\n            <Admin/>\r\n          </Route>\r\n          <Redirect to=\"/home\" />\r\n          <Route path=\"/\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n    </Content>\r\n  )\r\n\r\n  return (\r\n    <div >\r\n      {showContent &&\r\n       <Layout className=\"layout\" style={{backgroundColor:'#fff'}}>\r\n        <div className=\"header-nav\">\r\n          <Account visible={showModalAccount} onCancel={handleCancel} refeshAccount={checkUser}/>\r\n          {/* <div className=\"topbar\" >\r\n              <span  style={{ color:'white',alignItems:'center' }}> <BiMap style={{fontSize:20,paddingTop:8}}/> 8 Đặng Văn Ngữ | <HistoryOutlined /> 08:00 - 17:00 | <PhoneOutlined /> 0705982473</span>\r\n          </div> */}\r\n          {Top()}\r\n          {/* {Navigation()} */}\r\n        </div>\r\n          {Body()}\r\n          <FooterWeb />\r\n          <BackTop style={{ right:40,top:'79%' }}>\r\n            <div className=\"back-top\">\r\n              <ArrowUpOutlined />\r\n            </div>\r\n          </BackTop>\r\n          <KommunicateChat />\r\n          {/* <ChatBotPage /> */}\r\n         \r\n        \r\n           {/* <MessengerCustomerChat\r\n              pageId=\"103589342159207\"\r\n              appId=\"571045450624452\"\r\n              // htmlRef=\"<REF_STRING>\"\r\n            />\r\n           */}\r\n  \r\n        </Layout>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\n","import {configureStore} from '@reduxjs/toolkit';\r\nimport userReducer from './reducer/user.reducer';\r\nimport productReducer from './reducer/product.reducer';\r\nimport layoutReducer from './reducer/layout.reducer';\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst rootReducer = combineReducers({\r\n    userReducer,\r\n    productReducer,\r\n    layoutReducer\r\n});\r\nconst store = configureStore({\r\n    reducer:rootReducer\r\n})\r\n// store.dispatch(userReducer.updateUser({id:'12142'}));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './page/App';\r\nimport 'antd/dist/antd.css'; // or 'antd/dist/antd.less'\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\nimport './css/App.css';\r\nimport './css/Home.css';\r\nimport './css/Product.css';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nconst history = createBrowserHistory();\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router history={history}>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}